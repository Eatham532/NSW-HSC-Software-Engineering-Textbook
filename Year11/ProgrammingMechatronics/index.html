
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../ObjectOrientedParadigm/">
      
      
        <link rel="next" href="../../Year12/SecureSoftwareArchitecture/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.16">
    
    
      
        <title>Programming Mechatronics - NSW HSC Software Engineering Textbook</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/diagram-modal.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#programming-mechatronics" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="NSW HSC Software Engineering Textbook" class="md-header__button md-logo" aria-label="NSW HSC Software Engineering Textbook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            NSW HSC Software Engineering Textbook
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Programming Mechatronics
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../ProgrammingFundamentals/" class="md-tabs__link">
          
  
  
  Year 11

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Year12/SecureSoftwareArchitecture/" class="md-tabs__link">
          
  
  
  Year 12

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="NSW HSC Software Engineering Textbook" class="md-nav__button md-logo" aria-label="NSW HSC Software Engineering Textbook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    NSW HSC Software Engineering Textbook
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Year 11
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Year 11
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ProgrammingFundamentals/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Programming Fundamentals
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ObjectOrientedParadigm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    The Object-Oriented Paradigm
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Programming Mechatronics
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Programming Mechatronics
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#understanding-mechatronic-hardware-and-software" class="md-nav__link">
    <span class="md-ellipsis">
      Understanding Mechatronic Hardware and Software
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Understanding Mechatronic Hardware and Software">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#introduction-welcome-to-the-robot-revolution" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction: Welcome to the Robot Revolution!
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cool-applications-of-mechatronics" class="md-nav__link">
    <span class="md-ellipsis">
      Cool Applications of Mechatronics 🚀
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Cool Applications of Mechatronics 🚀">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#movie-magic-animatronics" class="md-nav__link">
    <span class="md-ellipsis">
      🎬 Movie Magic: Animatronics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#self-driving-cars-the-ultimate-mechatronic-system" class="md-nav__link">
    <span class="md-ellipsis">
      🚗 Self-Driving Cars: The Ultimate Mechatronic System
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#think-about-it" class="md-nav__link">
    <span class="md-ellipsis">
      🧠 Think About It!
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🧠 Think About It!">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#medical-mechatronics-saving-lives" class="md-nav__link">
    <span class="md-ellipsis">
      🏥 Medical Mechatronics: Saving Lives
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gaming-entertainment" class="md-nav__link">
    <span class="md-ellipsis">
      🎮 Gaming &amp; Entertainment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#smart-farming-revolution" class="md-nav__link">
    <span class="md-ellipsis">
      🌾 Smart Farming Revolution
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hardware-requirements-code-impact" class="md-nav__link">
    <span class="md-ellipsis">
      Hardware Requirements &amp; Code Impact 💻⚙️
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Hardware Requirements &amp; Code Impact 💻⚙️">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arduino-vs-raspberry-pi-the-ultimate-showdown" class="md-nav__link">
    <span class="md-ellipsis">
      🎯 Arduino vs. Raspberry Pi: The Ultimate Showdown
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-this-matters-for-your-code" class="md-nav__link">
    <span class="md-ellipsis">
      ⚡ Why This Matters for Your Code
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sensors-actuators-end-effectors-the-body-parts-of-robots" class="md-nav__link">
    <span class="md-ellipsis">
      Sensors, Actuators &amp; End Effectors: The Body Parts of Robots 🤖👁️
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sensors, Actuators &amp; End Effectors: The Body Parts of Robots 🤖👁️">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sensors-giving-robots-super-senses" class="md-nav__link">
    <span class="md-ellipsis">
      👁️ Sensors: Giving Robots Super Senses
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gaming-connection" class="md-nav__link">
    <span class="md-ellipsis">
      🎮 Gaming Connection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#actuators-the-robots-muscles" class="md-nav__link">
    <span class="md-ellipsis">
      💪 Actuators: The Robot's Muscles
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#end-effectors-the-robots-hands" class="md-nav__link">
    <span class="md-ellipsis">
      ✋ End Effectors: The Robot's Hands
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-in-mechatronic-systems-the-information-highway" class="md-nav__link">
    <span class="md-ellipsis">
      Data in Mechatronic Systems: The Information Highway 📊🚗
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data in Mechatronic Systems: The Information Highway 📊🚗">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#real-example-smart-home-thermostat" class="md-nav__link">
    <span class="md-ellipsis">
      🎯 Real Example: Smart Home Thermostat
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-types-that-matter" class="md-nav__link">
    <span class="md-ellipsis">
      📱 Data Types That Matter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gaming-data-flow" class="md-nav__link">
    <span class="md-ellipsis">
      🎮 Gaming Data Flow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-control-loop-where-magic-happens" class="md-nav__link">
    <span class="md-ellipsis">
      🔄 The Control Loop: Where Magic Happens
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#programming-and-building-from-idea-to-reality" class="md-nav__link">
    <span class="md-ellipsis">
      Programming and Building: From Idea to Reality! 🛠️💡
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Programming and Building: From Idea to Reality! 🛠️💡">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#introduction-the-makers-journey" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction: The Maker's Journey
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system-design-development-building-your-dream-machine" class="md-nav__link">
    <span class="md-ellipsis">
      System Design &amp; Development: Building Your Dream Machine 🎯
    </span>
  </a>
  
    <nav class="md-nav" aria-label="System Design &amp; Development: Building Your Dream Machine 🎯">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-define-the-challenge" class="md-nav__link">
    <span class="md-ellipsis">
      🎯 Step 1: Define the Challenge
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-requirements-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      📋 Step 2: Requirements Analysis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-system-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      🏗️ Step 3: System Architecture
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-software-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      💻 Step 4: Software Architecture
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#design-challenge" class="md-nav__link">
    <span class="md-ellipsis">
      🧩 Design Challenge!
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5-hardware-software-integration" class="md-nav__link">
    <span class="md-ellipsis">
      ⚙️ Step 5: Hardware-Software Integration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#algorithm-implementation-the-robots-decision-making-brain" class="md-nav__link">
    <span class="md-ellipsis">
      Algorithm Implementation: The Robot's Decision-Making Brain 🧠⚡
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Algorithm Implementation: The Robot&#39;s Decision-Making Brain 🧠⚡">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#smart-motor-control-smooth-as-butter" class="md-nav__link">
    <span class="md-ellipsis">
      🎯 Smart Motor Control: Smooth as Butter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gaming-connection-smooth-camera-movement" class="md-nav__link">
    <span class="md-ellipsis">
      🎮 Gaming Connection: Smooth Camera Movement
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#object-detection-response-robot-vision" class="md-nav__link">
    <span class="md-ellipsis">
      🔍 Object Detection &amp; Response: Robot Vision
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multi-sensor-integration-the-complete-picture" class="md-nav__link">
    <span class="md-ellipsis">
      🎯 Multi-Sensor Integration: The Complete Picture
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#simulation-prototyping" class="md-nav__link">
    <span class="md-ellipsis">
      Simulation &amp; Prototyping
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#closed-loop-control-systems-the-secret-of-smooth-robots" class="md-nav__link">
    <span class="md-ellipsis">
      Closed-Loop Control Systems: The Secret of Smooth Robots 🔄🎯
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Closed-Loop Control Systems: The Secret of Smooth Robots 🔄🎯">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pid-control-the-industry-standard-algorithm" class="md-nav__link">
    <span class="md-ellipsis">
      🎯 PID Control: The Industry Standard Algorithm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gaming-connection-pid-in-action" class="md-nav__link">
    <span class="md-ellipsis">
      🎮 Gaming Connection: PID in Action
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#robot-arm-position-control" class="md-nav__link">
    <span class="md-ellipsis">
      🤖 Robot Arm Position Control
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advanced-control-techniques" class="md-nav__link">
    <span class="md-ellipsis">
      ⚡ Advanced Control Techniques
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#performance-enhancement-making-your-robot-lightning-fast" class="md-nav__link">
    <span class="md-ellipsis">
      Performance Enhancement: Making Your Robot Lightning Fast ⚡🚀
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Performance Enhancement: Making Your Robot Lightning Fast ⚡🚀">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#feedforward-compensation-the-crystal-ball-technique" class="md-nav__link">
    <span class="md-ellipsis">
      🔮 Feedforward Compensation: The Crystal Ball Technique
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adaptive-control-the-self-learning-system" class="md-nav__link">
    <span class="md-ellipsis">
      🧠 Adaptive Control: The Self-Learning System
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#performance-optimization-techniques" class="md-nav__link">
    <span class="md-ellipsis">
      🏎️ Performance Optimization Techniques
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-interface-design" class="md-nav__link">
    <span class="md-ellipsis">
      User Interface Design
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-validation" class="md-nav__link">
    <span class="md-ellipsis">
      Testing &amp; Validation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusion
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#software-control-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      Software Control &amp; Dependencies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#power-battery-materials" class="md-nav__link">
    <span class="md-ellipsis">
      Power, Battery &amp; Materials
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wiring-diagrams" class="md-nav__link">
    <span class="md-ellipsis">
      Wiring Diagrams
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#specialist-requirements-for-assistive-systems-technology-that-changes-lives" class="md-nav__link">
    <span class="md-ellipsis">
      Specialist Requirements for Assistive Systems: Technology That Changes Lives 🦽♿💪
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Specialist Requirements for Assistive Systems: Technology That Changes Lives 🦽♿💪">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#universal-design-principles-in-mechatronics" class="md-nav__link">
    <span class="md-ellipsis">
      Universal Design Principles in Mechatronics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#real-world-assistive-mechatronics-case-studies" class="md-nav__link">
    <span class="md-ellipsis">
      Real-World Assistive Mechatronics Case Studies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ethical-considerations-in-assistive-technology" class="md-nav__link">
    <span class="md-ellipsis">
      Ethical Considerations in Assistive Technology
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comprehensive-reflection-questions" class="md-nav__link">
    <span class="md-ellipsis">
      Comprehensive Reflection Questions 🤔💭
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Comprehensive Reflection Questions 🤔💭">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#technical-integration-questions" class="md-nav__link">
    <span class="md-ellipsis">
      Technical Integration Questions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#design-philosophy-questions" class="md-nav__link">
    <span class="md-ellipsis">
      Design Philosophy Questions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#future-thinking-questions" class="md-nav__link">
    <span class="md-ellipsis">
      Future-Thinking Questions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creative-problem-solving-challenges" class="md-nav__link">
    <span class="md-ellipsis">
      Creative Problem-Solving Challenges
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interdisciplinary-integration" class="md-nav__link">
    <span class="md-ellipsis">
      Interdisciplinary Integration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Year 12
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Year 12
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Year12/SecureSoftwareArchitecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Secure Software Architecture
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Year12/ProgrammingForTheWeb/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Programming for the Web
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Year12/SoftwareAutomation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Software Automation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Year12/SoftwareEngineeringProject/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Software Engineering Project
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#understanding-mechatronic-hardware-and-software" class="md-nav__link">
    <span class="md-ellipsis">
      Understanding Mechatronic Hardware and Software
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Understanding Mechatronic Hardware and Software">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#introduction-welcome-to-the-robot-revolution" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction: Welcome to the Robot Revolution!
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cool-applications-of-mechatronics" class="md-nav__link">
    <span class="md-ellipsis">
      Cool Applications of Mechatronics 🚀
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Cool Applications of Mechatronics 🚀">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#movie-magic-animatronics" class="md-nav__link">
    <span class="md-ellipsis">
      🎬 Movie Magic: Animatronics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#self-driving-cars-the-ultimate-mechatronic-system" class="md-nav__link">
    <span class="md-ellipsis">
      🚗 Self-Driving Cars: The Ultimate Mechatronic System
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#think-about-it" class="md-nav__link">
    <span class="md-ellipsis">
      🧠 Think About It!
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🧠 Think About It!">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#medical-mechatronics-saving-lives" class="md-nav__link">
    <span class="md-ellipsis">
      🏥 Medical Mechatronics: Saving Lives
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gaming-entertainment" class="md-nav__link">
    <span class="md-ellipsis">
      🎮 Gaming &amp; Entertainment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#smart-farming-revolution" class="md-nav__link">
    <span class="md-ellipsis">
      🌾 Smart Farming Revolution
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hardware-requirements-code-impact" class="md-nav__link">
    <span class="md-ellipsis">
      Hardware Requirements &amp; Code Impact 💻⚙️
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Hardware Requirements &amp; Code Impact 💻⚙️">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arduino-vs-raspberry-pi-the-ultimate-showdown" class="md-nav__link">
    <span class="md-ellipsis">
      🎯 Arduino vs. Raspberry Pi: The Ultimate Showdown
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-this-matters-for-your-code" class="md-nav__link">
    <span class="md-ellipsis">
      ⚡ Why This Matters for Your Code
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sensors-actuators-end-effectors-the-body-parts-of-robots" class="md-nav__link">
    <span class="md-ellipsis">
      Sensors, Actuators &amp; End Effectors: The Body Parts of Robots 🤖👁️
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sensors, Actuators &amp; End Effectors: The Body Parts of Robots 🤖👁️">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sensors-giving-robots-super-senses" class="md-nav__link">
    <span class="md-ellipsis">
      👁️ Sensors: Giving Robots Super Senses
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gaming-connection" class="md-nav__link">
    <span class="md-ellipsis">
      🎮 Gaming Connection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#actuators-the-robots-muscles" class="md-nav__link">
    <span class="md-ellipsis">
      💪 Actuators: The Robot's Muscles
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#end-effectors-the-robots-hands" class="md-nav__link">
    <span class="md-ellipsis">
      ✋ End Effectors: The Robot's Hands
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-in-mechatronic-systems-the-information-highway" class="md-nav__link">
    <span class="md-ellipsis">
      Data in Mechatronic Systems: The Information Highway 📊🚗
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data in Mechatronic Systems: The Information Highway 📊🚗">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#real-example-smart-home-thermostat" class="md-nav__link">
    <span class="md-ellipsis">
      🎯 Real Example: Smart Home Thermostat
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-types-that-matter" class="md-nav__link">
    <span class="md-ellipsis">
      📱 Data Types That Matter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gaming-data-flow" class="md-nav__link">
    <span class="md-ellipsis">
      🎮 Gaming Data Flow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-control-loop-where-magic-happens" class="md-nav__link">
    <span class="md-ellipsis">
      🔄 The Control Loop: Where Magic Happens
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#programming-and-building-from-idea-to-reality" class="md-nav__link">
    <span class="md-ellipsis">
      Programming and Building: From Idea to Reality! 🛠️💡
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Programming and Building: From Idea to Reality! 🛠️💡">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#introduction-the-makers-journey" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction: The Maker's Journey
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system-design-development-building-your-dream-machine" class="md-nav__link">
    <span class="md-ellipsis">
      System Design &amp; Development: Building Your Dream Machine 🎯
    </span>
  </a>
  
    <nav class="md-nav" aria-label="System Design &amp; Development: Building Your Dream Machine 🎯">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-define-the-challenge" class="md-nav__link">
    <span class="md-ellipsis">
      🎯 Step 1: Define the Challenge
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-requirements-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      📋 Step 2: Requirements Analysis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-system-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      🏗️ Step 3: System Architecture
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-software-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      💻 Step 4: Software Architecture
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#design-challenge" class="md-nav__link">
    <span class="md-ellipsis">
      🧩 Design Challenge!
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5-hardware-software-integration" class="md-nav__link">
    <span class="md-ellipsis">
      ⚙️ Step 5: Hardware-Software Integration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#algorithm-implementation-the-robots-decision-making-brain" class="md-nav__link">
    <span class="md-ellipsis">
      Algorithm Implementation: The Robot's Decision-Making Brain 🧠⚡
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Algorithm Implementation: The Robot&#39;s Decision-Making Brain 🧠⚡">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#smart-motor-control-smooth-as-butter" class="md-nav__link">
    <span class="md-ellipsis">
      🎯 Smart Motor Control: Smooth as Butter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gaming-connection-smooth-camera-movement" class="md-nav__link">
    <span class="md-ellipsis">
      🎮 Gaming Connection: Smooth Camera Movement
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#object-detection-response-robot-vision" class="md-nav__link">
    <span class="md-ellipsis">
      🔍 Object Detection &amp; Response: Robot Vision
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multi-sensor-integration-the-complete-picture" class="md-nav__link">
    <span class="md-ellipsis">
      🎯 Multi-Sensor Integration: The Complete Picture
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#simulation-prototyping" class="md-nav__link">
    <span class="md-ellipsis">
      Simulation &amp; Prototyping
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#closed-loop-control-systems-the-secret-of-smooth-robots" class="md-nav__link">
    <span class="md-ellipsis">
      Closed-Loop Control Systems: The Secret of Smooth Robots 🔄🎯
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Closed-Loop Control Systems: The Secret of Smooth Robots 🔄🎯">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pid-control-the-industry-standard-algorithm" class="md-nav__link">
    <span class="md-ellipsis">
      🎯 PID Control: The Industry Standard Algorithm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gaming-connection-pid-in-action" class="md-nav__link">
    <span class="md-ellipsis">
      🎮 Gaming Connection: PID in Action
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#robot-arm-position-control" class="md-nav__link">
    <span class="md-ellipsis">
      🤖 Robot Arm Position Control
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advanced-control-techniques" class="md-nav__link">
    <span class="md-ellipsis">
      ⚡ Advanced Control Techniques
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#performance-enhancement-making-your-robot-lightning-fast" class="md-nav__link">
    <span class="md-ellipsis">
      Performance Enhancement: Making Your Robot Lightning Fast ⚡🚀
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Performance Enhancement: Making Your Robot Lightning Fast ⚡🚀">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#feedforward-compensation-the-crystal-ball-technique" class="md-nav__link">
    <span class="md-ellipsis">
      🔮 Feedforward Compensation: The Crystal Ball Technique
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adaptive-control-the-self-learning-system" class="md-nav__link">
    <span class="md-ellipsis">
      🧠 Adaptive Control: The Self-Learning System
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#performance-optimization-techniques" class="md-nav__link">
    <span class="md-ellipsis">
      🏎️ Performance Optimization Techniques
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-interface-design" class="md-nav__link">
    <span class="md-ellipsis">
      User Interface Design
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-validation" class="md-nav__link">
    <span class="md-ellipsis">
      Testing &amp; Validation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusion
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#software-control-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      Software Control &amp; Dependencies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#power-battery-materials" class="md-nav__link">
    <span class="md-ellipsis">
      Power, Battery &amp; Materials
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wiring-diagrams" class="md-nav__link">
    <span class="md-ellipsis">
      Wiring Diagrams
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#specialist-requirements-for-assistive-systems-technology-that-changes-lives" class="md-nav__link">
    <span class="md-ellipsis">
      Specialist Requirements for Assistive Systems: Technology That Changes Lives 🦽♿💪
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Specialist Requirements for Assistive Systems: Technology That Changes Lives 🦽♿💪">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#universal-design-principles-in-mechatronics" class="md-nav__link">
    <span class="md-ellipsis">
      Universal Design Principles in Mechatronics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#real-world-assistive-mechatronics-case-studies" class="md-nav__link">
    <span class="md-ellipsis">
      Real-World Assistive Mechatronics Case Studies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ethical-considerations-in-assistive-technology" class="md-nav__link">
    <span class="md-ellipsis">
      Ethical Considerations in Assistive Technology
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comprehensive-reflection-questions" class="md-nav__link">
    <span class="md-ellipsis">
      Comprehensive Reflection Questions 🤔💭
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Comprehensive Reflection Questions 🤔💭">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#technical-integration-questions" class="md-nav__link">
    <span class="md-ellipsis">
      Technical Integration Questions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#design-philosophy-questions" class="md-nav__link">
    <span class="md-ellipsis">
      Design Philosophy Questions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#future-thinking-questions" class="md-nav__link">
    <span class="md-ellipsis">
      Future-Thinking Questions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creative-problem-solving-challenges" class="md-nav__link">
    <span class="md-ellipsis">
      Creative Problem-Solving Challenges
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interdisciplinary-integration" class="md-nav__link">
    <span class="md-ellipsis">
      Interdisciplinary Integration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="programming-mechatronics">Programming Mechatronics 🤖⚙️<a class="headerlink" href="#programming-mechatronics" title="Permanent link">&para;</a></h1>
<p><em>Where Code Meets the Physical World!</em></p>
<h2 id="understanding-mechatronic-hardware-and-software">Understanding Mechatronic Hardware and Software<a class="headerlink" href="#understanding-mechatronic-hardware-and-software" title="Permanent link">&para;</a></h2>
<h3 id="introduction-welcome-to-the-robot-revolution">Introduction: Welcome to the Robot Revolution!<a class="headerlink" href="#introduction-welcome-to-the-robot-revolution" title="Permanent link">&para;</a></h3>
<p>Ever wondered how your Tesla knows when to brake? Or how a robot can perform delicate surgery? Welcome to <strong>mechatronics</strong> - the magical fusion of mechanical engineering, electronics, and programming that brings machines to life!</p>
<p>Think about it: your smartphone automatically rotates the screen (motion sensors + software), your gaming controller rumbles during explosions (actuators + code), and voice assistants like Alexa respond to your commands (microphones + AI algorithms). That's mechatronics in action!</p>
<div class="diagram-container">
<button class="diagram-expand-btn">🔍 View Larger</button>
<div class="diagram-content">

<pre  class="mermaid"><code>flowchart LR
    M[🔧 Mechanical<br/>Parts] --> E[⚡ Electronics<br/>Circuits] --> S[💻 Software<br/>Code] --> ME[🤖 Smart<br/>Machines]
</code></pre>

</div>
</div>

<p><strong>The Mechatronics Trinity</strong><br />
Just like how your favorite video game needs graphics, sound, and gameplay mechanics to be awesome, mechatronic systems need all three components working together. Remove any one piece, and the magic disappears!</p>
<ul>
<li>
<p><strong>Real-World Connection:</strong> 🎮 Gaming controllers are perfect mechatronic examples:</p>
</li>
<li>
<p><strong>Mechanical</strong>: Buttons, joysticks, triggers that you physically move</p>
</li>
<li><strong>Electronic</strong>: Sensors detect your finger movements and button presses</li>
<li><strong>Software</strong>: Code translates your actions into game commands</li>
</ul>
<p>The coolest part? The software has to understand the hardware, and the hardware design affects what the software can do. It's like a perfectly choreographed dance!</p>
<h3 id="cool-applications-of-mechatronics">Cool Applications of Mechatronics 🚀<a class="headerlink" href="#cool-applications-of-mechatronics" title="Permanent link">&para;</a></h3>
<p>Let's explore some mind-blowing examples of mechatronics that are shaping our world:</p>
<h4 id="movie-magic-animatronics">🎬 <strong>Movie Magic: Animatronics</strong><a class="headerlink" href="#movie-magic-animatronics" title="Permanent link">&para;</a></h4>
<p>Ever see those incredibly realistic dinosaurs in Jurassic Park? Animatronic creatures use:</p>
<ul>
<li><strong>Mechanical</strong>: Articulated joints and hydraulic muscles</li>
<li><strong>Electronic</strong>: Hundreds of sensors and servo motors</li>
<li><strong>Software</strong>: AI that coordinates realistic movement patterns</li>
</ul>
<h4 id="self-driving-cars-the-ultimate-mechatronic-system">🚗 <strong>Self-Driving Cars: The Ultimate Mechatronic System</strong><a class="headerlink" href="#self-driving-cars-the-ultimate-mechatronic-system" title="Permanent link">&para;</a></h4>
<p>Your future autonomous car will be a computer on wheels:</p>
<ul>
<li><strong>LIDAR sensors</strong> create 3D maps of surroundings (hardware + software working together)</li>
<li><strong>Machine learning algorithms</strong> make split-second driving decisions</li>
<li><strong>Electronic actuators</strong> control steering, braking, and acceleration</li>
<li><strong>Safety systems</strong> can override human input when danger is detected<blockquote>
<h3 id="think-about-it">🧠 Think About It!<a class="headerlink" href="#think-about-it" title="Permanent link">&para;</a></h3>
<p>When you play a racing game with a steering wheel controller, you’re experiencing mechatronics in action:</p>
<ul>
<li><strong>Force feedback motors</strong> make the wheel harder to turn during tight corners.</li>
<li><strong>Position sensors</strong> detect exactly how far you’ve turned.</li>
<li><strong>Software algorithms</strong> simulate realistic car physics.</li>
</ul>
<p>You’re literally feeling the code through mechanical forces!</p>
</blockquote>
</li>
</ul>
<h4 id="medical-mechatronics-saving-lives">🏥 <strong>Medical Mechatronics: Saving Lives</strong><a class="headerlink" href="#medical-mechatronics-saving-lives" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Surgical robots</strong> like da Vinci systems allow surgeons to operate with superhuman precision</li>
<li><strong>Prosthetic limbs</strong> with neural interfaces respond to brain signals</li>
<li><strong>Robotic pharmacies</strong> accurately dispense medications 24/7</li>
</ul>
<h4 id="gaming-entertainment">🎮 <strong>Gaming &amp; Entertainment</strong><a class="headerlink" href="#gaming-entertainment" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>VR haptic suits</strong> let you feel virtual objects</li>
<li><strong>Motion capture systems</strong> turn actor movements into CGI characters</li>
<li><strong>Theme park rides</strong> create thrilling experiences with precise timing</li>
</ul>
<h4 id="smart-farming-revolution">🌾 <strong>Smart Farming Revolution</strong><a class="headerlink" href="#smart-farming-revolution" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Autonomous tractors</strong> plant and harvest crops with GPS precision</li>
<li><strong>Drone swarms</strong> monitor crop health and spray pesticides exactly where needed</li>
<li><strong>Robotic greenhouses</strong> optimize growing conditions for each individual plant</li>
</ul>
<h3 id="hardware-requirements-code-impact">Hardware Requirements &amp; Code Impact 💻⚙️<a class="headerlink" href="#hardware-requirements-code-impact" title="Permanent link">&para;</a></h3>
<p>Here's where things get interesting: <strong>the hardware you choose completely changes how you write your code!</strong> It's like choosing between drawing with crayons vs. a digital tablet - same artistic vision, totally different techniques.</p>
<div class="diagram-container">
<button class="diagram-expand-btn">🔍 View Larger</button>
<div class="diagram-content">

<pre  class="mermaid"><code>flowchart TD
    H[Hardware Choice] --> C[Code Structure]
    H --> P[Performance Limits]  
    H --> F[Available Features]

    A[Arduino Uno<br/>🎯 Simple & Cheap] --> A1[Basic loops<br/>Limited memory<br/>8-bit operations]
    R[Raspberry Pi<br/>🚀 Powerful & Flexible] --> R1[Complex algorithms<br/>Multithreading<br/>32/64-bit operations]
</code></pre>

</div>
</div>

<p><strong>Hardware = Your Programming Playground</strong><br />
Think of it like video game consoles - a Nintendo Switch game looks different from a PlayStation 5 game because of hardware limitations and capabilities. Same with mechatronic programming!</p>
<h4 id="arduino-vs-raspberry-pi-the-ultimate-showdown">🎯 <strong>Arduino vs. Raspberry Pi: The Ultimate Showdown</strong><a class="headerlink" href="#arduino-vs-raspberry-pi-the-ultimate-showdown" title="Permanent link">&para;</a></h4>
<p>Imagine you're building a smart pet feeder. Here's how your code would differ:</p>
<p><strong>Arduino Approach (The Minimalist):</strong>
<div class="language-c highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="c1">// Simple, direct control</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">isTimeToFeed</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="w">        </span><span class="n">dispenseFood</span><span class="p">();</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="w">        </span><span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="w">    </span><span class="n">checkSensors</span><span class="p">();</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="p">}</span>
</span></code></pre></div></p>
<p><strong>Raspberry Pi Approach (The Powerhouse):</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1"># Advanced features possible</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">threading</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">computer_vision</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">wifi_connectivity</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="k">class</span><span class="w"> </span><span class="nc">SmartPetFeeder</span><span class="p">:</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">camera</span> <span class="o">=</span> <span class="n">Camera</span><span class="p">()</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">wifi</span> <span class="o">=</span> <span class="n">WiFiManager</span><span class="p">()</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">ai_vision</span> <span class="o">=</span> <span class="n">PetRecognition</span><span class="p">()</span>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">smart_feeding</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ai_vision</span><span class="o">.</span><span class="n">detect_pet_size</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;large&quot;</span><span class="p">:</span>
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">dispense_large_portion</span><span class="p">()</span>
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">send_notification_to_phone</span><span class="p">()</span>
</span></code></pre></div></p>
<table>
<thead>
<tr>
<th>Feature</th>
<th style="text-align: center;">Arduino (AVR) 🎯</th>
<th style="text-align: center;">Raspberry Pi (ARM) 🚀</th>
<th style="text-align: center;">Real-World Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Processing Power</strong></td>
<td style="text-align: center;">Like a calculator</td>
<td style="text-align: center;">Like a smartphone</td>
<td style="text-align: center;">Arduino: Blinking LED<br>Pi: Face recognition</td>
</tr>
<tr>
<td><strong>Memory</strong></td>
<td style="text-align: center;">2KB RAM (tiny!)</td>
<td style="text-align: center;">1GB+ RAM (huge!)</td>
<td style="text-align: center;">Arduino: Store 100 sensor readings<br>Pi: Process HD video</td>
</tr>
<tr>
<td><strong>Programming</strong></td>
<td style="text-align: center;">C/C++ (close to hardware)</td>
<td style="text-align: center;">Python/Java (high-level)</td>
<td style="text-align: center;">Arduino: Direct pin control<br>Pi: Complex algorithms</td>
</tr>
<tr>
<td><strong>Cost</strong></td>
<td style="text-align: center;">$25</td>
<td style="text-align: center;">$75+</td>
<td style="text-align: center;">Arduino: Budget projects<br>Pi: Commercial products</td>
</tr>
<tr>
<td><strong>Power Usage</strong></td>
<td style="text-align: center;">Sips power like a LED</td>
<td style="text-align: center;">Hungry like laptop</td>
<td style="text-align: center;">Arduino: Battery lasts months<br>Pi: Needs constant power</td>
</tr>
<tr>
<td><strong>Best For</strong></td>
<td style="text-align: center;">Simple, reliable tasks</td>
<td style="text-align: center;">Complex, smart behaviors</td>
<td style="text-align: center;">Arduino: Sensor monitoring<br>Pi: AI-powered systems</td>
</tr>
</tbody>
</table>
<h4 id="why-this-matters-for-your-code">⚡ <strong>Why This Matters for Your Code</strong><a class="headerlink" href="#why-this-matters-for-your-code" title="Permanent link">&para;</a></h4>
<p><strong>Memory Constraints = Smart Coding:</strong></p>
<ul>
<li><strong>Arduino</strong>: Every variable counts! You learn to write super-efficient code</li>
<li><strong>Raspberry Pi</strong>: You can be more relaxed with memory usage</li>
</ul>
<p><strong>Real-Time vs. Multitasking:</strong></p>
<ul>
<li><strong>Arduino</strong>: Perfect timing for motors and sensors (real-time control)</li>
<li><strong>Raspberry Pi</strong>: Can run multiple programs simultaneously</li>
<li><strong>Raspberry Pi</strong>: Can run multiple programs simultaneously</li>
</ul>
<p><strong>Example: Smart Door Lock</strong>
<div class="language-c highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1">// Arduino version - focused and fast</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rfid_card_detected</span><span class="p">()</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">valid_card</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">    </span><span class="n">unlock_door</span><span class="p">();</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="w">    </span><span class="n">start_timer</span><span class="p">(</span><span class="mi">5000</span><span class="p">);</span><span class="w"> </span><span class="c1">// lock again in 5 seconds</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="p">}</span>
</span></code></pre></div></p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1"># Raspberry Pi version - feature-rich</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">face_recognition</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">send_notifications</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">log_to_database</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="k">if</span> <span class="n">face_recognition</span><span class="o">.</span><span class="n">match</span><span class="p">()</span> <span class="ow">or</span> <span class="n">rfid_valid</span><span class="p">()</span> <span class="ow">or</span> <span class="n">mobile_app_unlock</span><span class="p">():</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>    <span class="n">unlock_door</span><span class="p">()</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>    <span class="n">send_notification</span><span class="p">(</span><span class="s2">&quot;Door unlocked by: &quot;</span> <span class="o">+</span> <span class="n">get_user_name</span><span class="p">())</span>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>    <span class="n">log_to_database</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">user</span><span class="p">,</span> <span class="n">action</span><span class="p">)</span>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>    <span class="n">schedule_auto_lock</span><span class="p">(</span><span class="n">delay</span><span class="o">=</span><span class="mi">5000</span><span class="p">)</span>
</span></code></pre></div>
<h3 id="sensors-actuators-end-effectors-the-body-parts-of-robots">Sensors, Actuators &amp; End Effectors: The Body Parts of Robots 🤖👁️<a class="headerlink" href="#sensors-actuators-end-effectors-the-body-parts-of-robots" title="Permanent link">&para;</a></h3>
<p>Think of mechatronic systems like a human body - they need <strong>senses</strong> (sensors), <strong>muscles</strong> (actuators), and <strong>hands</strong> (end effectors) to interact with the world!</p>
<div class="diagram-container">
<button class="diagram-expand-btn">🔍 View Larger</button>
<div class="diagram-content">

<pre  class="mermaid"><code>flowchart LR
    S[👁️ SENSORS<br/>The Senses] --> B[🧠 BRAIN<br/>Microcontroller]
    B --> A[💪 ACTUATORS<br/>The Muscles]
    A --> E[✋ END EFFECTORS<br/>The Hands]
    E -.->|Feedback| S
</code></pre>

</div>
</div>

<p><strong>The Robot Body Analogy</strong><br />
Just like you use your eyes to see, brain to think, muscles to move, and hands to grab things, robots need the same basic components to function in the real world!</p>
<h4 id="sensors-giving-robots-super-senses">👁️ <strong>Sensors: Giving Robots Super Senses</strong><a class="headerlink" href="#sensors-giving-robots-super-senses" title="Permanent link">&para;</a></h4>
<p><strong>Motion Sensors - The Robot's Inner Ear:</strong></p>
<ul>
<li><strong>What they do</strong>: Detect movement, tilt, rotation, acceleration</li>
<li><strong>Examples</strong>: Accelerometers in phones (auto-rotate), gyroscopes in drones (stability)</li>
<li><strong>Code Impact</strong>: Your software needs to handle constantly changing numbers!</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="c1"># Example: Drone stability control</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">keep_drone_stable</span><span class="p">():</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>    <span class="n">tilt_x</span> <span class="o">=</span> <span class="n">accelerometer</span><span class="o">.</span><span class="n">read_x</span><span class="p">()</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>    <span class="n">tilt_y</span> <span class="o">=</span> <span class="n">accelerometer</span><span class="o">.</span><span class="n">read_y</span><span class="p">()</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>    <span class="k">if</span> <span class="n">tilt_x</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">:</span>  <span class="c1"># Tilting too much right</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>        <span class="n">left_motor</span><span class="o">.</span><span class="n">speed_up</span><span class="p">()</span>   <span class="c1"># Compensate</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>        <span class="n">right_motor</span><span class="o">.</span><span class="n">slow_down</span><span class="p">()</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>    <span class="c1"># Software constantly adjusts based on sensor data!</span>
</span></code></pre></div>
<p><strong>Light Sensors - The Robot's Eyes:</strong></p>
<ul>
<li><strong>What they do</strong>: Measure brightness, detect objects, read colors</li>
<li><strong>Examples</strong>: Auto-adjusting screen brightness, security light activation</li>
<li><strong>Programming Challenge</strong>: Light levels change constantly - your code must adapt!</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c1"># Smart streetlight example</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">smart_streetlight</span><span class="p">():</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>    <span class="n">light_level</span> <span class="o">=</span> <span class="n">light_sensor</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>    <span class="n">motion_detected</span> <span class="o">=</span> <span class="n">motion_sensor</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>    <span class="k">if</span> <span class="n">light_level</span> <span class="o">&lt;</span> <span class="mi">100</span> <span class="ow">and</span> <span class="n">motion_detected</span><span class="p">:</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>        <span class="n">led</span><span class="o">.</span><span class="n">turn_on</span><span class="p">()</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Someone&#39;s walking in the dark - light on!&quot;</span><span class="p">)</span>
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>    <span class="k">elif</span> <span class="n">light_level</span> <span class="o">&gt;</span> <span class="mi">500</span><span class="p">:</span>  <span class="c1"># Bright daylight</span>
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>        <span class="n">led</span><span class="o">.</span><span class="n">turn_off</span><span class="p">()</span>
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Sunny day - saving energy!&quot;</span><span class="p">)</span>
</span></code></pre></div>
<h4 id="gaming-connection">🎮 Gaming Connection<a class="headerlink" href="#gaming-connection" title="Permanent link">&para;</a></h4>
<p>Your game controller uses tons of sensors:</p>
<ul>
<li><strong>Joystick position sensors</strong> - detect exactly where you're pointing</li>
<li><strong>Button pressure sensors</strong> - know how hard you're pressing triggers</li>
<li><strong>Motion sensors</strong> - for motion-controlled games like Mario Kart steering</li>
</ul>
<p>The game software reads these sensors 60+ times per second to create smooth gameplay!</p>
<h4 id="actuators-the-robots-muscles">💪 <strong>Actuators: The Robot's Muscles</strong><a class="headerlink" href="#actuators-the-robots-muscles" title="Permanent link">&para;</a></h4>
<p><strong>Servo Motors - Precise Positioning Masters:</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1"># Robot arm picking up objects</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">pick_up_object</span><span class="p">():</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>    <span class="n">shoulder_servo</span><span class="o">.</span><span class="n">move_to</span><span class="p">(</span><span class="mi">45</span><span class="p">)</span>    <span class="c1"># Lift arm</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>    <span class="n">elbow_servo</span><span class="o">.</span><span class="n">move_to</span><span class="p">(</span><span class="mi">90</span><span class="p">)</span>       <span class="c1"># Bend elbow</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>    <span class="n">wrist_servo</span><span class="o">.</span><span class="n">move_to</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>        <span class="c1"># Straighten wrist</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>    <span class="n">gripper_servo</span><span class="o">.</span><span class="n">move_to</span><span class="p">(</span><span class="mi">180</span><span class="p">)</span>    <span class="c1"># Close gripper</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Object grabbed with precision!&quot;</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>DC Motors - Speed and Power:</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c1"># Robot car navigation</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">drive_forward</span><span class="p">(</span><span class="n">speed_percent</span><span class="p">):</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>    <span class="n">left_motor</span><span class="o">.</span><span class="n">set_speed</span><span class="p">(</span><span class="n">speed_percent</span><span class="p">)</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>    <span class="n">right_motor</span><span class="o">.</span><span class="n">set_speed</span><span class="p">(</span><span class="n">speed_percent</span><span class="p">)</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>    <span class="c1"># Monitor sensors while driving</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>    <span class="k">while</span> <span class="n">ultrasonic_sensor</span><span class="o">.</span><span class="n">distance</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">:</span>  <span class="c1"># 10cm obstacle detection</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>        <span class="k">continue</span>  <span class="c1"># Keep driving</span>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a>    <span class="n">stop_motors</span><span class="p">()</span>  <span class="c1"># Emergency stop!</span>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Obstacle detected - stopped safely!&quot;</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Hydraulic Actuators - The Heavy Lifters:</strong></p>
<ul>
<li><strong>Real-world example</strong>: Excavator arms, car brakes, airplane wing flaps</li>
<li><strong>Programming challenge</strong>: Managing pressure and timing safely</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="c1"># Hydraulic press control (simplified)</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">hydraulic_press_cycle</span><span class="p">():</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>    <span class="k">if</span> <span class="n">safety_sensors_clear</span><span class="p">():</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>        <span class="n">hydraulic_valve</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>        <span class="k">while</span> <span class="n">pressure_sensor</span><span class="o">.</span><span class="n">read</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">target_pressure</span><span class="p">:</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>            <span class="k">continue</span>  <span class="c1"># Building pressure</span>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a>
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a>        <span class="n">hydraulic_valve</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Press cycle complete - part formed!&quot;</span><span class="p">)</span>
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="__span-8-12"><a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a>        <span class="n">emergency_stop</span><span class="p">()</span>
</span><span id="__span-8-13"><a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Safety violation - system halted!&quot;</span><span class="p">)</span>
</span></code></pre></div>
<h4 id="end-effectors-the-robots-hands">✋ <strong>End Effectors: The Robot's Hands</strong><a class="headerlink" href="#end-effectors-the-robots-hands" title="Permanent link">&para;</a></h4>
<p><strong>Robotic Grippers - Gentle Giants:</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">SmartGripper</span><span class="p">:</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">force_sensor</span> <span class="o">=</span> <span class="n">ForceSensor</span><span class="p">()</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">position_servo</span> <span class="o">=</span> <span class="n">Servo</span><span class="p">()</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">gentle_grip</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target_object</span><span class="p">):</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>        <span class="c1"># Start closing gripper</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>        <span class="k">for</span> <span class="n">position</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">180</span><span class="p">,</span> <span class="mi">5</span><span class="p">):</span>  <span class="c1"># Slow, controlled movement</span>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">position_servo</span><span class="o">.</span><span class="n">move_to</span><span class="p">(</span><span class="n">position</span><span class="p">)</span>
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a>
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a>            <span class="c1"># Check if we&#39;re touching something</span>
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">force_sensor</span><span class="o">.</span><span class="n">read</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mf">0.1</span><span class="p">:</span>
</span><span id="__span-9-13"><a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a>                <span class="k">break</span>  <span class="c1"># Stop before crushing!</span>
</span><span id="__span-9-14"><a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a>
</span><span id="__span-9-15"><a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Gently holding </span><span class="si">{</span><span class="n">target_object</span><span class="si">}</span><span class="s2"> with perfect force!&quot;</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Multi-Tool End Effectors:</strong>
Modern robots can swap tools like a Swiss Army knife:
<div class="language-python highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">robot_factory_worker</span><span class="p">():</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>    <span class="k">if</span> <span class="n">task</span> <span class="o">==</span> <span class="s2">&quot;welding&quot;</span><span class="p">:</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>        <span class="n">attach_welding_torch</span><span class="p">()</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>    <span class="k">elif</span> <span class="n">task</span> <span class="o">==</span> <span class="s2">&quot;painting&quot;</span><span class="p">:</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>        <span class="n">attach_spray_gun</span><span class="p">()</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>    <span class="k">elif</span> <span class="n">task</span> <span class="o">==</span> <span class="s2">&quot;assembly&quot;</span><span class="p">:</span>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a>        <span class="n">attach_precision_gripper</span><span class="p">()</span>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a>    <span class="c1"># Same robot, different capabilities!</span>
</span></code></pre></div></p>
<h3 id="data-in-mechatronic-systems-the-information-highway">Data in Mechatronic Systems: The Information Highway 📊🚗<a class="headerlink" href="#data-in-mechatronic-systems-the-information-highway" title="Permanent link">&para;</a></h3>
<p>Imagine you're driving and your brain is constantly processing information: <em>"How fast am I going? Is that car getting closer? Should I brake? How hard should I turn the steering wheel?"</em> That's exactly what happens in mechatronic systems - a constant flow of data driving intelligent decisions!</p>
<div class="diagram-container">
<button class="diagram-expand-btn">🔍 View Larger</button>
<div class="diagram-content">

<pre  class="mermaid"><code>flowchart LR
    S1[🌡️ Temperature<br/>Sensor] --> P[🧠 Processing<br/>Unit]
    S2[📏 Distance<br/>Sensor] --> P
    S3[⚡ Speed<br/>Sensor] --> P

    P --> A1[🔥 Heater<br/>Control]
    P --> A2[🚗 Motor<br/>Control]
    P --> A3[🚨 Warning<br/>System]

    A1 -.->|Feedback| S1
    A2 -.->|Feedback| S2
    A3 -.->|Feedback| S3
</code></pre>

</div>
</div>

<p><strong>The Never-Ending Data Loop</strong><br />
Just like your brain never stops processing what your eyes see, mechatronic systems continuously read sensors, make decisions, and adjust actuators. It's like having a super-fast conversation between hardware and software!</p>
<h4 id="real-example-smart-home-thermostat">🎯 <strong>Real Example: Smart Home Thermostat</strong><a class="headerlink" href="#real-example-smart-home-thermostat" title="Permanent link">&para;</a></h4>
<p>Let's see how data flows in a system you probably use every day:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">SmartThermostat</span><span class="p">:</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">target_temp</span> <span class="o">=</span> <span class="mi">22</span>  <span class="c1"># Celsius</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">learning_data</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># AI learning from your habits!</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">control_loop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a>        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a>            <span class="c1"># 1. SENSE: Gather data from multiple sources</span>
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a>            <span class="n">current_temp</span> <span class="o">=</span> <span class="n">temperature_sensor</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</span><span id="__span-11-10"><a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a>            <span class="n">humidity</span> <span class="o">=</span> <span class="n">humidity_sensor</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</span><span id="__span-11-11"><a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a>            <span class="n">time_of_day</span> <span class="o">=</span> <span class="n">get_current_time</span><span class="p">()</span>
</span><span id="__span-11-12"><a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a>            <span class="n">occupancy</span> <span class="o">=</span> <span class="n">motion_sensor</span><span class="o">.</span><span class="n">detected_recently</span><span class="p">()</span>
</span><span id="__span-11-13"><a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a>
</span><span id="__span-11-14"><a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a>            <span class="c1"># 2. THINK: Process the data intelligently</span>
</span><span id="__span-11-15"><a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a>            <span class="n">comfort_adjustment</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calculate_comfort_factor</span><span class="p">(</span><span class="n">humidity</span><span class="p">)</span>
</span><span id="__span-11-16"><a id="__codelineno-11-16" name="__codelineno-11-16" href="#__codelineno-11-16"></a>            <span class="n">energy_savings</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_away_mode</span><span class="p">(</span><span class="n">occupancy</span><span class="p">)</span>
</span><span id="__span-11-17"><a id="__codelineno-11-17" name="__codelineno-11-17" href="#__codelineno-11-17"></a>            <span class="n">predicted_needs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ai_prediction</span><span class="p">(</span><span class="n">time_of_day</span><span class="p">)</span>
</span><span id="__span-11-18"><a id="__codelineno-11-18" name="__codelineno-11-18" href="#__codelineno-11-18"></a>
</span><span id="__span-11-19"><a id="__codelineno-11-19" name="__codelineno-11-19" href="#__codelineno-11-19"></a>            <span class="c1"># 3. ACT: Make smart decisions</span>
</span><span id="__span-11-20"><a id="__codelineno-11-20" name="__codelineno-11-20" href="#__codelineno-11-20"></a>            <span class="k">if</span> <span class="n">current_temp</span> <span class="o">&lt;</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">target_temp</span> <span class="o">-</span> <span class="n">comfort_adjustment</span><span class="p">):</span>
</span><span id="__span-11-21"><a id="__codelineno-11-21" name="__codelineno-11-21" href="#__codelineno-11-21"></a>                <span class="n">heater</span><span class="o">.</span><span class="n">turn_on</span><span class="p">()</span>
</span><span id="__span-11-22"><a id="__codelineno-11-22" name="__codelineno-11-22" href="#__codelineno-11-22"></a>                <span class="n">data_point</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;heating&quot;</span><span class="p">,</span> <span class="s2">&quot;temp&quot;</span><span class="p">:</span> <span class="n">current_temp</span><span class="p">,</span> 
</span><span id="__span-11-23"><a id="__codelineno-11-23" name="__codelineno-11-23" href="#__codelineno-11-23"></a>                            <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="n">time_of_day</span><span class="p">}</span>
</span><span id="__span-11-24"><a id="__codelineno-11-24" name="__codelineno-11-24" href="#__codelineno-11-24"></a>            <span class="k">elif</span> <span class="n">current_temp</span> <span class="o">&gt;</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">target_temp</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
</span><span id="__span-11-25"><a id="__codelineno-11-25" name="__codelineno-11-25" href="#__codelineno-11-25"></a>                <span class="n">air_conditioner</span><span class="o">.</span><span class="n">turn_on</span><span class="p">()</span>
</span><span id="__span-11-26"><a id="__codelineno-11-26" name="__codelineno-11-26" href="#__codelineno-11-26"></a>                <span class="n">data_point</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;cooling&quot;</span><span class="p">,</span> <span class="s2">&quot;temp&quot;</span><span class="p">:</span> <span class="n">current_temp</span><span class="p">,</span> 
</span><span id="__span-11-27"><a id="__codelineno-11-27" name="__codelineno-11-27" href="#__codelineno-11-27"></a>                            <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="n">time_of_day</span><span class="p">}</span>
</span><span id="__span-11-28"><a id="__codelineno-11-28" name="__codelineno-11-28" href="#__codelineno-11-28"></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="__span-11-29"><a id="__codelineno-11-29" name="__codelineno-11-29" href="#__codelineno-11-29"></a>                <span class="n">heater</span><span class="o">.</span><span class="n">turn_off</span><span class="p">()</span>
</span><span id="__span-11-30"><a id="__codelineno-11-30" name="__codelineno-11-30" href="#__codelineno-11-30"></a>                <span class="n">air_conditioner</span><span class="o">.</span><span class="n">turn_off</span><span class="p">()</span>
</span><span id="__span-11-31"><a id="__codelineno-11-31" name="__codelineno-11-31" href="#__codelineno-11-31"></a>                <span class="n">data_point</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;maintaining&quot;</span><span class="p">,</span> <span class="s2">&quot;temp&quot;</span><span class="p">:</span> <span class="n">current_temp</span><span class="p">}</span>
</span><span id="__span-11-32"><a id="__codelineno-11-32" name="__codelineno-11-32" href="#__codelineno-11-32"></a>
</span><span id="__span-11-33"><a id="__codelineno-11-33" name="__codelineno-11-33" href="#__codelineno-11-33"></a>            <span class="c1"># 4. LEARN: Store data for future improvement</span>
</span><span id="__span-11-34"><a id="__codelineno-11-34" name="__codelineno-11-34" href="#__codelineno-11-34"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">learning_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data_point</span><span class="p">)</span>
</span><span id="__span-11-35"><a id="__codelineno-11-35" name="__codelineno-11-35" href="#__codelineno-11-35"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">update_ai_model</span><span class="p">()</span>  <span class="c1"># Get smarter over time!</span>
</span><span id="__span-11-36"><a id="__codelineno-11-36" name="__codelineno-11-36" href="#__codelineno-11-36"></a>
</span><span id="__span-11-37"><a id="__codelineno-11-37" name="__codelineno-11-37" href="#__codelineno-11-37"></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>  <span class="c1"># Check every 30 seconds</span>
</span></code></pre></div>
<h4 id="data-types-that-matter">📱 <strong>Data Types That Matter</strong><a class="headerlink" href="#data-types-that-matter" title="Permanent link">&para;</a></h4>
<p><strong>Sensor Data - The Raw Truth:</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="c1"># Examples of different data types sensors produce</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="n">temperature_reading</span> <span class="o">=</span> <span class="mf">23.5</span>      <span class="c1"># float - precise measurements</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="n">button_pressed</span> <span class="o">=</span> <span class="kc">True</span>           <span class="c1"># boolean - on/off states  </span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="n">rgb_color</span> <span class="o">=</span> <span class="p">[</span><span class="mi">255</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">64</span><span class="p">]</span>     <span class="c1"># list - complex sensor data</span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="n">error_code</span> <span class="o">=</span> <span class="s2">&quot;SENSOR_FAILURE&quot;</span>   <span class="c1"># string - diagnostic info</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="n">timestamp</span> <span class="o">=</span> <span class="mi">1699123456</span>          <span class="c1"># integer - when it happened</span>
</span></code></pre></div></p>
<p><strong>Processed Data - The Smart Insights:</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="c1"># Your code transforms raw data into useful information</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">analyze_sensor_data</span><span class="p">(</span><span class="n">raw_readings</span><span class="p">):</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>    <span class="n">average</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">raw_readings</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">raw_readings</span><span class="p">)</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>    <span class="n">trend</span> <span class="o">=</span> <span class="s2">&quot;increasing&quot;</span> <span class="k">if</span> <span class="n">raw_readings</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">raw_readings</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">else</span> <span class="s2">&quot;decreasing&quot;</span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>    <span class="k">if</span> <span class="n">average</span> <span class="o">&gt;</span> <span class="mi">30</span><span class="p">:</span>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a>        <span class="n">status</span> <span class="o">=</span> <span class="s2">&quot;HOT&quot;</span>
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a>        <span class="n">recommended_action</span> <span class="o">=</span> <span class="s2">&quot;activate_cooling&quot;</span>
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a>    <span class="k">elif</span> <span class="n">average</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">:</span>
</span><span id="__span-13-10"><a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a>        <span class="n">status</span> <span class="o">=</span> <span class="s2">&quot;COLD&quot;</span>  
</span><span id="__span-13-11"><a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a>        <span class="n">recommended_action</span> <span class="o">=</span> <span class="s2">&quot;activate_heating&quot;</span>
</span><span id="__span-13-12"><a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="__span-13-13"><a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a>        <span class="n">status</span> <span class="o">=</span> <span class="s2">&quot;COMFORTABLE&quot;</span>
</span><span id="__span-13-14"><a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a>        <span class="n">recommended_action</span> <span class="o">=</span> <span class="s2">&quot;maintain&quot;</span>
</span><span id="__span-13-15"><a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a>
</span><span id="__span-13-16"><a id="__codelineno-13-16" name="__codelineno-13-16" href="#__codelineno-13-16"></a>    <span class="k">return</span> <span class="p">{</span>
</span><span id="__span-13-17"><a id="__codelineno-13-17" name="__codelineno-13-17" href="#__codelineno-13-17"></a>        <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="n">status</span><span class="p">,</span>
</span><span id="__span-13-18"><a id="__codelineno-13-18" name="__codelineno-13-18" href="#__codelineno-13-18"></a>        <span class="s2">&quot;trend&quot;</span><span class="p">:</span> <span class="n">trend</span><span class="p">,</span>
</span><span id="__span-13-19"><a id="__codelineno-13-19" name="__codelineno-13-19" href="#__codelineno-13-19"></a>        <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="n">recommended_action</span><span class="p">,</span>
</span><span id="__span-13-20"><a id="__codelineno-13-20" name="__codelineno-13-20" href="#__codelineno-13-20"></a>        <span class="s2">&quot;confidence&quot;</span><span class="p">:</span> <span class="n">calculate_confidence</span><span class="p">(</span><span class="n">raw_readings</span><span class="p">)</span>
</span><span id="__span-13-21"><a id="__codelineno-13-21" name="__codelineno-13-21" href="#__codelineno-13-21"></a>    <span class="p">}</span>
</span></code></pre></div></p>
<h4 id="gaming-data-flow">🎮 Gaming Data Flow<a class="headerlink" href="#gaming-data-flow" title="Permanent link">&para;</a></h4>
<p>Ever notice how responsive modern games are? Here's the data flow in a racing game:</p>
<ol>
<li><strong>Input</strong>: Steering wheel angle, pedal pressure, button states</li>
<li><strong>Processing</strong>: Physics engine calculates car behavior</li>
<li><strong>Output</strong>: Force feedback to wheel, sound effects, screen updates</li>
<li><strong>Feedback Loop</strong>: Your reactions create new inputs - continuous cycle!</li>
</ol>
<p>This happens 60+ times per second for smooth gameplay. That's mechatronics in action!</p>
<h4 id="the-control-loop-where-magic-happens">🔄 <strong>The Control Loop: Where Magic Happens</strong><a class="headerlink" href="#the-control-loop-where-magic-happens" title="Permanent link">&para;</a></h4>
<p>Every mechatronic system runs on this basic pattern:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">universal_control_loop</span><span class="p">():</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>    <span class="k">while</span> <span class="n">system_active</span><span class="p">:</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>        <span class="c1"># STEP 1: Read the world</span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>        <span class="n">sensor_data</span> <span class="o">=</span> <span class="n">read_all_sensors</span><span class="p">()</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>        <span class="c1"># STEP 2: Understand the situation  </span>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>        <span class="n">current_state</span> <span class="o">=</span> <span class="n">analyze_data</span><span class="p">(</span><span class="n">sensor_data</span><span class="p">)</span>
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a>
</span><span id="__span-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a>        <span class="c1"># STEP 3: Decide what to do</span>
</span><span id="__span-14-10"><a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a>        <span class="n">desired_action</span> <span class="o">=</span> <span class="n">make_decision</span><span class="p">(</span><span class="n">current_state</span><span class="p">,</span> <span class="n">goals</span><span class="p">)</span>
</span><span id="__span-14-11"><a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a>
</span><span id="__span-14-12"><a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a>        <span class="c1"># STEP 4: Take action</span>
</span><span id="__span-14-13"><a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a>        <span class="n">execute_commands</span><span class="p">(</span><span class="n">desired_action</span><span class="p">)</span>
</span><span id="__span-14-14"><a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a>
</span><span id="__span-14-15"><a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a>        <span class="c1"># STEP 5: Learn from results</span>
</span><span id="__span-14-16"><a id="__codelineno-14-16" name="__codelineno-14-16" href="#__codelineno-14-16"></a>        <span class="n">record_performance</span><span class="p">(</span><span class="n">sensor_data</span><span class="p">,</span> <span class="n">desired_action</span><span class="p">,</span> <span class="n">results</span><span class="p">)</span>
</span><span id="__span-14-17"><a id="__codelineno-14-17" name="__codelineno-14-17" href="#__codelineno-14-17"></a>
</span><span id="__span-14-18"><a id="__codelineno-14-18" name="__codelineno-14-18" href="#__codelineno-14-18"></a>        <span class="c1"># STEP 6: Wait a bit, then repeat</span>
</span><span id="__span-14-19"><a id="__codelineno-14-19" name="__codelineno-14-19" href="#__codelineno-14-19"></a>        <span class="n">sleep</span><span class="p">(</span><span class="n">control_frequency</span><span class="p">)</span>  <span class="c1"># Maybe 50 times per second!</span>
</span></code></pre></div>
<p><strong>Real-World Example: Autonomous Drone Delivery</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">drone_delivery_mission</span><span class="p">():</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>    <span class="k">while</span> <span class="ow">not</span> <span class="n">package_delivered</span><span class="p">:</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>        <span class="c1"># Read GPS, cameras, wind sensors, battery level</span>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>        <span class="n">position</span> <span class="o">=</span> <span class="n">gps</span><span class="o">.</span><span class="n">get_coordinates</span><span class="p">()</span>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>        <span class="n">obstacles</span> <span class="o">=</span> <span class="n">camera</span><span class="o">.</span><span class="n">detect_objects</span><span class="p">()</span>
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>        <span class="n">wind_speed</span> <span class="o">=</span> <span class="n">wind_sensor</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a>        <span class="n">battery_level</span> <span class="o">=</span> <span class="n">battery</span><span class="o">.</span><span class="n">get_charge</span><span class="p">()</span>
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a>
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a>        <span class="c1"># Make intelligent decisions</span>
</span><span id="__span-15-10"><a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a>        <span class="k">if</span> <span class="n">obstacles_detected</span><span class="p">(</span><span class="n">obstacles</span><span class="p">):</span>
</span><span id="__span-15-11"><a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a>            <span class="n">navigate_around_obstacles</span><span class="p">()</span>
</span><span id="__span-15-12"><a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a>        <span class="k">elif</span> <span class="n">wind_speed</span> <span class="o">&gt;</span> <span class="n">safe_threshold</span><span class="p">:</span>
</span><span id="__span-15-13"><a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a>            <span class="n">adjust_flight_pattern_for_wind</span><span class="p">()</span>
</span><span id="__span-15-14"><a id="__codelineno-15-14" name="__codelineno-15-14" href="#__codelineno-15-14"></a>        <span class="k">elif</span> <span class="n">battery_level</span> <span class="o">&lt;</span> <span class="n">return_threshold</span><span class="p">:</span>
</span><span id="__span-15-15"><a id="__codelineno-15-15" name="__codelineno-15-15" href="#__codelineno-15-15"></a>            <span class="n">return_to_base</span><span class="p">()</span>
</span><span id="__span-15-16"><a id="__codelineno-15-16" name="__codelineno-15-16" href="#__codelineno-15-16"></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="__span-15-17"><a id="__codelineno-15-17" name="__codelineno-15-17" href="#__codelineno-15-17"></a>            <span class="n">continue_to_destination</span><span class="p">()</span>
</span><span id="__span-15-18"><a id="__codelineno-15-18" name="__codelineno-15-18" href="#__codelineno-15-18"></a>
</span><span id="__span-15-19"><a id="__codelineno-15-19" name="__codelineno-15-19" href="#__codelineno-15-19"></a>        <span class="c1"># Update flight controls based on decisions</span>
</span><span id="__span-15-20"><a id="__codelineno-15-20" name="__codelineno-15-20" href="#__codelineno-15-20"></a>        <span class="n">update_motor_speeds</span><span class="p">()</span>
</span><span id="__span-15-21"><a id="__codelineno-15-21" name="__codelineno-15-21" href="#__codelineno-15-21"></a>        <span class="n">adjust_camera_gimbal</span><span class="p">()</span>
</span><span id="__span-15-22"><a id="__codelineno-15-22" name="__codelineno-15-22" href="#__codelineno-15-22"></a>
</span><span id="__span-15-23"><a id="__codelineno-15-23" name="__codelineno-15-23" href="#__codelineno-15-23"></a>        <span class="c1"># Log everything for analysis</span>
</span><span id="__span-15-24"><a id="__codelineno-15-24" name="__codelineno-15-24" href="#__codelineno-15-24"></a>        <span class="n">flight_data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
</span><span id="__span-15-25"><a id="__codelineno-15-25" name="__codelineno-15-25" href="#__codelineno-15-25"></a>            <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="n">now</span><span class="p">(),</span>
</span><span id="__span-15-26"><a id="__codelineno-15-26" name="__codelineno-15-26" href="#__codelineno-15-26"></a>            <span class="s2">&quot;position&quot;</span><span class="p">:</span> <span class="n">position</span><span class="p">,</span>
</span><span id="__span-15-27"><a id="__codelineno-15-27" name="__codelineno-15-27" href="#__codelineno-15-27"></a>            <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="n">current_action</span><span class="p">,</span>
</span><span id="__span-15-28"><a id="__codelineno-15-28" name="__codelineno-15-28" href="#__codelineno-15-28"></a>            <span class="s2">&quot;sensor_readings&quot;</span><span class="p">:</span> <span class="n">get_all_sensor_data</span><span class="p">()</span>
</span><span id="__span-15-29"><a id="__codelineno-15-29" name="__codelineno-15-29" href="#__codelineno-15-29"></a>        <span class="p">})</span>
</span></code></pre></div></p>
<h2 id="programming-and-building-from-idea-to-reality">Programming and Building: From Idea to Reality! 🛠️💡<a class="headerlink" href="#programming-and-building-from-idea-to-reality" title="Permanent link">&para;</a></h2>
<h3 id="introduction-the-makers-journey">Introduction: The Maker's Journey<a class="headerlink" href="#introduction-the-makers-journey" title="Permanent link">&para;</a></h3>
<p>Ever had a crazy idea for a robot that could help you with daily tasks? Maybe a coffee-making robot, or a pet-feeding system, or even a homework-organizing assistant? Welcome to the most exciting part of mechatronics - <strong>turning your wild ideas into working reality!</strong></p>
<p>This is where engineering meets creativity, where coding meets crafting, and where your imagination becomes something you can actually touch and use. It's like being Tony Stark building his first Iron Man suit in a cave... except you're building something awesome in your school lab or bedroom!</p>
<div class="diagram-container">
<button class="diagram-expand-btn">🔍 View Larger</button>
<div class="diagram-content">

<pre  class="mermaid"><code>flowchart LR
    I[💡 Crazy Idea] --> P[📝 Planning<br/>& Design]
    P --> B[🔨 Building<br/>Prototype]
    B --> C[💻 Coding<br/>the Brain]
    C --> T[🧪 Testing<br/>& Debugging]
    T --> I2[✨ Improved<br/>Version]

    T -.->|"Oops, that didn't work!"| P
    C -.->|"Need better sensors"| B
    B -.->|"Different approach needed"| P
</code></pre>

</div>
</div>

<p><strong>The Iterative Design Process</strong><br />
Just like developing a video game, building mechatronic systems is all about iterations. You'll go around this loop many times, each version getting better and better. Embrace the "failures" - they're actually learning opportunities!</p>
<p>The best part? Every challenge you solve makes you a better problem-solver, and every project teaches you skills that are incredibly valuable in today's tech-driven world.</p>
<h3 id="system-design-development-building-your-dream-machine">System Design &amp; Development: Building Your Dream Machine 🎯<a class="headerlink" href="#system-design-development-building-your-dream-machine" title="Permanent link">&para;</a></h3>
<p>Let's walk through creating a real project: <strong>The Ultimate Study Buddy Robot</strong> - because who doesn't need help staying focused while studying?</p>
<h4 id="step-1-define-the-challenge">🎯 <strong>Step 1: Define the Challenge</strong><a class="headerlink" href="#step-1-define-the-challenge" title="Permanent link">&para;</a></h4>
<p><strong>The Problem</strong>: Students get distracted while studying and forget to take healthy breaks.</p>
<p><strong>Our Solution</strong>: A friendly desktop robot that:</p>
<ul>
<li>Detects when you're getting distracted (looking at your phone)</li>
<li>Reminds you to take breaks every 25 minutes (Pomodoro Technique)</li>
<li>Plays motivational sounds and moves expressively</li>
<li>Tracks your study sessions and celebrates achievements</li>
</ul>
<h4 id="step-2-requirements-analysis">📋 <strong>Step 2: Requirements Analysis</strong><a class="headerlink" href="#step-2-requirements-analysis" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Subsystem</th>
<th style="text-align: center;">Specific Requirement</th>
<th style="text-align: center;">Why It Matters</th>
<th style="text-align: center;">Component Choice</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>👁️ Vision</strong></td>
<td style="text-align: center;">Detect face direction &amp; phone usage</td>
<td style="text-align: center;">Know when student is distracted</td>
<td style="text-align: center;">Camera module + AI</td>
</tr>
<tr>
<td><strong>🧠 Processing</strong></td>
<td style="text-align: center;">Run AI algorithms, timer, data logging</td>
<td style="text-align: center;">Smart decision making</td>
<td style="text-align: center;">Raspberry Pi 4</td>
</tr>
<tr>
<td><strong>🔊 Audio</strong></td>
<td style="text-align: center;">Play sounds, voice alerts</td>
<td style="text-align: center;">Friendly communication</td>
<td style="text-align: center;">Speaker + microphone</td>
</tr>
<tr>
<td><strong>🤖 Movement</strong></td>
<td style="text-align: center;">Expressive gestures, head turns</td>
<td style="text-align: center;">Personality &amp; engagement</td>
<td style="text-align: center;">Servo motors</td>
</tr>
<tr>
<td><strong>💾 Data</strong></td>
<td style="text-align: center;">Store study sessions, progress tracking</td>
<td style="text-align: center;">Long-term motivation</td>
<td style="text-align: center;">SD card storage</td>
</tr>
<tr>
<td><strong>⚡ Power</strong></td>
<td style="text-align: center;">8+ hours battery life</td>
<td style="text-align: center;">All-day study companion</td>
<td style="text-align: center;">Rechargeable battery pack</td>
</tr>
</tbody>
</table>
<h4 id="step-3-system-architecture">🏗️ <strong>Step 3: System Architecture</strong><a class="headerlink" href="#step-3-system-architecture" title="Permanent link">&para;</a></h4>
<div class="diagram-container">
<button class="diagram-expand-btn">🔍 View Larger</button>
<div class="diagram-content">

<pre  class="mermaid"><code>flowchart TD
    subgraph "INPUT LAYER"
        C[📹 Camera<br/>Face Detection]
        M[🎤 Microphone<br/>Voice Commands]
        B[🔘 Touch Buttons<br/>User Controls]
    end

    subgraph "PROCESSING LAYER"  
        PI[🥧 Raspberry Pi<br/>Main Controller]
        AI[🤖 AI Module<br/>Behavior Engine]
    end

    subgraph "OUTPUT LAYER"
        S[🔊 Speaker<br/>Audio Feedback]
        LED[💡 LED Eyes<br/>Visual Status]
        SERVO[⚙️ Servo Motors<br/>Head Movement]
    end

    C --> PI
    M --> PI  
    B --> PI
    PI --> AI
    AI --> S
    AI --> LED
    AI --> SERVO
</code></pre>

</div>
</div>

<p><strong>Layered Architecture Design</strong><br />
Just like how your phone has input (touchscreen, microphone), processing (CPU), and output (screen, speaker), our Study Buddy follows the same logical structure. This makes the code much easier to organize and debug!</p>
<h4 id="step-4-software-architecture">💻 <strong>Step 4: Software Architecture</strong><a class="headerlink" href="#step-4-software-architecture" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">StudyBuddyRobot</span><span class="p">:</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>        <span class="c1"># Initialize all hardware components</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">camera</span> <span class="o">=</span> <span class="n">Camera</span><span class="p">()</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">face_detector</span> <span class="o">=</span> <span class="n">FaceDetectionAI</span><span class="p">()</span>
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">speaker</span> <span class="o">=</span> <span class="n">AudioSystem</span><span class="p">()</span>
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">head_servo</span> <span class="o">=</span> <span class="n">ServoMotor</span><span class="p">(</span><span class="n">pin</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">led_eyes</span> <span class="o">=</span> <span class="n">LEDController</span><span class="p">()</span>
</span><span id="__span-16-9"><a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a>
</span><span id="__span-16-10"><a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a>        <span class="c1"># Study session tracking</span>
</span><span id="__span-16-11"><a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">study_timer</span> <span class="o">=</span> <span class="n">PomodoroTimer</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span>  <span class="c1"># 25-minute sessions</span>
</span><span id="__span-16-12"><a id="__codelineno-16-12" name="__codelineno-16-12" href="#__codelineno-16-12"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">distraction_count</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-16-13"><a id="__codelineno-16-13" name="__codelineno-16-13" href="#__codelineno-16-13"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">session_data</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-16-14"><a id="__codelineno-16-14" name="__codelineno-16-14" href="#__codelineno-16-14"></a>
</span><span id="__span-16-15"><a id="__codelineno-16-15" name="__codelineno-16-15" href="#__codelineno-16-15"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">main_behavior_loop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-16-16"><a id="__codelineno-16-16" name="__codelineno-16-16" href="#__codelineno-16-16"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;The robot&#39;s main &#39;brain&#39; function&quot;&quot;&quot;</span>
</span><span id="__span-16-17"><a id="__codelineno-16-17" name="__codelineno-16-17" href="#__codelineno-16-17"></a>        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
</span><span id="__span-16-18"><a id="__codelineno-16-18" name="__codelineno-16-18" href="#__codelineno-16-18"></a>            <span class="c1"># SENSE: What&#39;s happening?</span>
</span><span id="__span-16-19"><a id="__codelineno-16-19" name="__codelineno-16-19" href="#__codelineno-16-19"></a>            <span class="n">face_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">camera</span><span class="o">.</span><span class="n">detect_faces</span><span class="p">()</span>
</span><span id="__span-16-20"><a id="__codelineno-16-20" name="__codelineno-16-20" href="#__codelineno-16-20"></a>            <span class="n">audio_level</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">microphone</span><span class="o">.</span><span class="n">get_volume</span><span class="p">()</span>
</span><span id="__span-16-21"><a id="__codelineno-16-21" name="__codelineno-16-21" href="#__codelineno-16-21"></a>
</span><span id="__span-16-22"><a id="__codelineno-16-22" name="__codelineno-16-22" href="#__codelineno-16-22"></a>            <span class="c1"># THINK: Analyze the situation</span>
</span><span id="__span-16-23"><a id="__codelineno-16-23" name="__codelineno-16-23" href="#__codelineno-16-23"></a>            <span class="n">student_status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">analyze_student_behavior</span><span class="p">(</span><span class="n">face_data</span><span class="p">)</span>
</span><span id="__span-16-24"><a id="__codelineno-16-24" name="__codelineno-16-24" href="#__codelineno-16-24"></a>
</span><span id="__span-16-25"><a id="__codelineno-16-25" name="__codelineno-16-25" href="#__codelineno-16-25"></a>            <span class="c1"># ACT: Respond appropriately</span>
</span><span id="__span-16-26"><a id="__codelineno-16-26" name="__codelineno-16-26" href="#__codelineno-16-26"></a>            <span class="k">if</span> <span class="n">student_status</span> <span class="o">==</span> <span class="s2">&quot;DISTRACTED&quot;</span><span class="p">:</span>
</span><span id="__span-16-27"><a id="__codelineno-16-27" name="__codelineno-16-27" href="#__codelineno-16-27"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">gentle_refocus_reminder</span><span class="p">()</span>
</span><span id="__span-16-28"><a id="__codelineno-16-28" name="__codelineno-16-28" href="#__codelineno-16-28"></a>            <span class="k">elif</span> <span class="n">student_status</span> <span class="o">==</span> <span class="s2">&quot;FOCUSED&quot;</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">study_timer</span><span class="o">.</span><span class="n">break_time</span><span class="p">():</span>
</span><span id="__span-16-29"><a id="__codelineno-16-29" name="__codelineno-16-29" href="#__codelineno-16-29"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">encourage_break</span><span class="p">()</span>
</span><span id="__span-16-30"><a id="__codelineno-16-30" name="__codelineno-16-30" href="#__codelineno-16-30"></a>            <span class="k">elif</span> <span class="n">student_status</span> <span class="o">==</span> <span class="s2">&quot;FOCUSED&quot;</span><span class="p">:</span>
</span><span id="__span-16-31"><a id="__codelineno-16-31" name="__codelineno-16-31" href="#__codelineno-16-31"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">supportive_presence</span><span class="p">()</span>
</span><span id="__span-16-32"><a id="__codelineno-16-32" name="__codelineno-16-32" href="#__codelineno-16-32"></a>
</span><span id="__span-16-33"><a id="__codelineno-16-33" name="__codelineno-16-33" href="#__codelineno-16-33"></a>            <span class="c1"># LEARN: Track progress</span>
</span><span id="__span-16-34"><a id="__codelineno-16-34" name="__codelineno-16-34" href="#__codelineno-16-34"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">log_session_data</span><span class="p">(</span><span class="n">student_status</span><span class="p">)</span>
</span><span id="__span-16-35"><a id="__codelineno-16-35" name="__codelineno-16-35" href="#__codelineno-16-35"></a>
</span><span id="__span-16-36"><a id="__codelineno-16-36" name="__codelineno-16-36" href="#__codelineno-16-36"></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Check every second</span>
</span><span id="__span-16-37"><a id="__codelineno-16-37" name="__codelineno-16-37" href="#__codelineno-16-37"></a>
</span><span id="__span-16-38"><a id="__codelineno-16-38" name="__codelineno-16-38" href="#__codelineno-16-38"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">gentle_refocus_reminder</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-16-39"><a id="__codelineno-16-39" name="__codelineno-16-39" href="#__codelineno-16-39"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Friendly, non-annoying way to help refocus&quot;&quot;&quot;</span>
</span><span id="__span-16-40"><a id="__codelineno-16-40" name="__codelineno-16-40" href="#__codelineno-16-40"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">head_servo</span><span class="o">.</span><span class="n">turn_towards_student</span><span class="p">()</span>
</span><span id="__span-16-41"><a id="__codelineno-16-41" name="__codelineno-16-41" href="#__codelineno-16-41"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">led_eyes</span><span class="o">.</span><span class="n">pulse_slowly</span><span class="p">()</span>  <span class="c1"># Gentle attention</span>
</span><span id="__span-16-42"><a id="__codelineno-16-42" name="__codelineno-16-42" href="#__codelineno-16-42"></a>
</span><span id="__span-16-43"><a id="__codelineno-16-43" name="__codelineno-16-43" href="#__codelineno-16-43"></a>        <span class="n">friendly_messages</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="__span-16-44"><a id="__codelineno-16-44" name="__codelineno-16-44" href="#__codelineno-16-44"></a>            <span class="s2">&quot;Hey there! Ready to tackle that next problem?&quot;</span><span class="p">,</span>
</span><span id="__span-16-45"><a id="__codelineno-16-45" name="__codelineno-16-45" href="#__codelineno-16-45"></a>            <span class="s2">&quot;I believe in you! Let&#39;s focus for just 5 more minutes.&quot;</span><span class="p">,</span>
</span><span id="__span-16-46"><a id="__codelineno-16-46" name="__codelineno-16-46" href="#__codelineno-16-46"></a>            <span class="s2">&quot;You&#39;ve got this! Your future self will thank you.&quot;</span>
</span><span id="__span-16-47"><a id="__codelineno-16-47" name="__codelineno-16-47" href="#__codelineno-16-47"></a>        <span class="p">]</span>
</span><span id="__span-16-48"><a id="__codelineno-16-48" name="__codelineno-16-48" href="#__codelineno-16-48"></a>
</span><span id="__span-16-49"><a id="__codelineno-16-49" name="__codelineno-16-49" href="#__codelineno-16-49"></a>        <span class="n">message</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">friendly_messages</span><span class="p">)</span>
</span><span id="__span-16-50"><a id="__codelineno-16-50" name="__codelineno-16-50" href="#__codelineno-16-50"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">speaker</span><span class="o">.</span><span class="n">say</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
</span><span id="__span-16-51"><a id="__codelineno-16-51" name="__codelineno-16-51" href="#__codelineno-16-51"></a>
</span><span id="__span-16-52"><a id="__codelineno-16-52" name="__codelineno-16-52" href="#__codelineno-16-52"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">distraction_count</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="__span-16-53"><a id="__codelineno-16-53" name="__codelineno-16-53" href="#__codelineno-16-53"></a>
</span><span id="__span-16-54"><a id="__codelineno-16-54" name="__codelineno-16-54" href="#__codelineno-16-54"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">encourage_break</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-16-55"><a id="__codelineno-16-55" name="__codelineno-16-55" href="#__codelineno-16-55"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Celebrate progress and suggest healthy breaks&quot;&quot;&quot;</span>
</span><span id="__span-16-56"><a id="__codelineno-16-56" name="__codelineno-16-56" href="#__codelineno-16-56"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">head_servo</span><span class="o">.</span><span class="n">celebratory_dance</span><span class="p">()</span>  <span class="c1"># Happy movement!</span>
</span><span id="__span-16-57"><a id="__codelineno-16-57" name="__codelineno-16-57" href="#__codelineno-16-57"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">led_eyes</span><span class="o">.</span><span class="n">sparkle</span><span class="p">()</span>
</span><span id="__span-16-58"><a id="__codelineno-16-58" name="__codelineno-16-58" href="#__codelineno-16-58"></a>
</span><span id="__span-16-59"><a id="__codelineno-16-59" name="__codelineno-16-59" href="#__codelineno-16-59"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">speaker</span><span class="o">.</span><span class="n">say</span><span class="p">(</span><span class="s2">&quot;Amazing work! You&#39;ve earned a 5-minute break. &quot;</span>
</span><span id="__span-16-60"><a id="__codelineno-16-60" name="__codelineno-16-60" href="#__codelineno-16-60"></a>                        <span class="s2">&quot;Maybe stretch, grab some water, or do some deep breathing!&quot;</span><span class="p">)</span>
</span><span id="__span-16-61"><a id="__codelineno-16-61" name="__codelineno-16-61" href="#__codelineno-16-61"></a>
</span><span id="__span-16-62"><a id="__codelineno-16-62" name="__codelineno-16-62" href="#__codelineno-16-62"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">track_achievement</span><span class="p">(</span><span class="s2">&quot;completed_pomodoro_session&quot;</span><span class="p">)</span>
</span></code></pre></div>
<h4 id="design-challenge">🧩 Design Challenge!<a class="headerlink" href="#design-challenge" title="Permanent link">&para;</a></h4>
<p>What would you add to make the Study Buddy even better? Think about:</p>
<ul>
<li><strong>Environmental sensors</strong> - Should it detect room temperature and suggest opening a window?</li>
<li><strong>Health monitoring</strong> - Could it remind you about posture or eye strain?</li>
<li><strong>Gamification</strong> - What about earning points for focused study time?</li>
<li><strong>Social features</strong> - Could it connect with friends for study competitions?</li>
</ul>
<p>Every feature you imagine requires balancing hardware capabilities, software complexity, and user needs!</p>
<h4 id="step-5-hardware-software-integration">⚙️ <strong>Step 5: Hardware-Software Integration</strong><a class="headerlink" href="#step-5-hardware-software-integration" title="Permanent link">&para;</a></h4>
<p>Here's where the magic happens - making hardware and software work together seamlessly:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">HardwareManager</span><span class="p">:</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Handles all the low-level hardware communication&quot;&quot;&quot;</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>        <span class="c1"># Initialize hardware with error handling</span>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">setup_gpio_pins</span><span class="p">()</span>
</span><span id="__span-17-8"><a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">calibrate_servos</span><span class="p">()</span>
</span><span id="__span-17-9"><a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">test_camera_connection</span><span class="p">()</span>
</span><span id="__span-17-10"><a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">initialize_audio_system</span><span class="p">()</span>
</span><span id="__span-17-11"><a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;✅ All hardware systems ready!&quot;</span><span class="p">)</span>
</span><span id="__span-17-12"><a id="__codelineno-17-12" name="__codelineno-17-12" href="#__codelineno-17-12"></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="__span-17-13"><a id="__codelineno-17-13" name="__codelineno-17-13" href="#__codelineno-17-13"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Hardware setup failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-17-14"><a id="__codelineno-17-14" name="__codelineno-17-14" href="#__codelineno-17-14"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">safe_shutdown</span><span class="p">()</span>
</span><span id="__span-17-15"><a id="__codelineno-17-15" name="__codelineno-17-15" href="#__codelineno-17-15"></a>
</span><span id="__span-17-16"><a id="__codelineno-17-16" name="__codelineno-17-16" href="#__codelineno-17-16"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">setup_gpio_pins</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-17-17"><a id="__codelineno-17-17" name="__codelineno-17-17" href="#__codelineno-17-17"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Configure Raspberry Pi pins for different components&quot;&quot;&quot;</span>
</span><span id="__span-17-18"><a id="__codelineno-17-18" name="__codelineno-17-18" href="#__codelineno-17-18"></a>        <span class="n">GPIO</span><span class="o">.</span><span class="n">setmode</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">BCM</span><span class="p">)</span>
</span><span id="__span-17-19"><a id="__codelineno-17-19" name="__codelineno-17-19" href="#__codelineno-17-19"></a>
</span><span id="__span-17-20"><a id="__codelineno-17-20" name="__codelineno-17-20" href="#__codelineno-17-20"></a>        <span class="c1"># Servo motor controls</span>
</span><span id="__span-17-21"><a id="__codelineno-17-21" name="__codelineno-17-21" href="#__codelineno-17-21"></a>        <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span>  <span class="c1"># Head rotation</span>
</span><span id="__span-17-22"><a id="__codelineno-17-22" name="__codelineno-17-22" href="#__codelineno-17-22"></a>        <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="mi">19</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span>  <span class="c1"># Head tilt</span>
</span><span id="__span-17-23"><a id="__codelineno-17-23" name="__codelineno-17-23" href="#__codelineno-17-23"></a>
</span><span id="__span-17-24"><a id="__codelineno-17-24" name="__codelineno-17-24" href="#__codelineno-17-24"></a>        <span class="c1"># LED eye controls  </span>
</span><span id="__span-17-25"><a id="__codelineno-17-25" name="__codelineno-17-25" href="#__codelineno-17-25"></a>        <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span>  <span class="c1"># Left eye</span>
</span><span id="__span-17-26"><a id="__codelineno-17-26" name="__codelineno-17-26" href="#__codelineno-17-26"></a>        <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="mi">21</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span>  <span class="c1"># Right eye</span>
</span><span id="__span-17-27"><a id="__codelineno-17-27" name="__codelineno-17-27" href="#__codelineno-17-27"></a>
</span><span id="__span-17-28"><a id="__codelineno-17-28" name="__codelineno-17-28" href="#__codelineno-17-28"></a>        <span class="c1"># Button inputs</span>
</span><span id="__span-17-29"><a id="__codelineno-17-29" name="__codelineno-17-29" href="#__codelineno-17-29"></a>        <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">IN</span><span class="p">,</span> <span class="n">pull_up_down</span><span class="o">=</span><span class="n">GPIO</span><span class="o">.</span><span class="n">PUD_UP</span><span class="p">)</span>  <span class="c1"># Start button</span>
</span><span id="__span-17-30"><a id="__codelineno-17-30" name="__codelineno-17-30" href="#__codelineno-17-30"></a>        <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">IN</span><span class="p">,</span> <span class="n">pull_up_down</span><span class="o">=</span><span class="n">GPIO</span><span class="o">.</span><span class="n">PUD_UP</span><span class="p">)</span>  <span class="c1"># Settings button</span>
</span><span id="__span-17-31"><a id="__codelineno-17-31" name="__codelineno-17-31" href="#__codelineno-17-31"></a>
</span><span id="__span-17-32"><a id="__codelineno-17-32" name="__codelineno-17-32" href="#__codelineno-17-32"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">safe_shutdown</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-17-33"><a id="__codelineno-17-33" name="__codelineno-17-33" href="#__codelineno-17-33"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Properly shut down all hardware before exiting&quot;&quot;&quot;</span>
</span><span id="__span-17-34"><a id="__codelineno-17-34" name="__codelineno-17-34" href="#__codelineno-17-34"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">head_servo</span><span class="o">.</span><span class="n">center_position</span><span class="p">()</span>  <span class="c1"># Return to neutral</span>
</span><span id="__span-17-35"><a id="__codelineno-17-35" name="__codelineno-17-35" href="#__codelineno-17-35"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">led_eyes</span><span class="o">.</span><span class="n">turn_off</span><span class="p">()</span>
</span><span id="__span-17-36"><a id="__codelineno-17-36" name="__codelineno-17-36" href="#__codelineno-17-36"></a>        <span class="n">GPIO</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span>  <span class="c1"># Release all GPIO pins</span>
</span><span id="__span-17-37"><a id="__codelineno-17-37" name="__codelineno-17-37" href="#__codelineno-17-37"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hardware safely shut down&quot;</span><span class="p">)</span>
</span></code></pre></div>
<p>This integration layer is crucial because:</p>
<ul>
<li><strong>Hardware can fail</strong> - your code needs to handle sensor errors gracefully</li>
<li><strong>Timing matters</strong> - some operations need precise coordination</li>
<li><strong>Safety first</strong> - always have emergency stop procedures</li>
</ul>
<h3 id="algorithm-implementation-the-robots-decision-making-brain">Algorithm Implementation: The Robot's Decision-Making Brain 🧠⚡<a class="headerlink" href="#algorithm-implementation-the-robots-decision-making-brain" title="Permanent link">&para;</a></h3>
<p>Now for the most exciting part - writing the algorithms that make your robot intelligent! This is where your coding skills transform mechanical parts into a thinking, responding machine.</p>
<h4 id="smart-motor-control-smooth-as-butter">🎯 <strong>Smart Motor Control: Smooth as Butter</strong><a class="headerlink" href="#smart-motor-control-smooth-as-butter" title="Permanent link">&para;</a></h4>
<p>Remember jerky robot movements in old sci-fi movies? Modern robots are smooth because of smart control algorithms:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">SmoothMotorController</span><span class="p">:</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">motor_pin</span><span class="p">):</span>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">motor</span> <span class="o">=</span> <span class="n">ServoMotor</span><span class="p">(</span><span class="n">motor_pin</span><span class="p">)</span>
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">current_position</span> <span class="o">=</span> <span class="mi">90</span>  <span class="c1"># Start at center</span>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">target_position</span> <span class="o">=</span> <span class="mi">90</span>
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">move_to_position_smoothly</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">speed_factor</span><span class="o">=</span><span class="mf">0.1</span><span class="p">):</span>
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Move to target position with smooth acceleration/deceleration&quot;&quot;&quot;</span>
</span><span id="__span-18-9"><a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">target_position</span> <span class="o">=</span> <span class="n">target</span>
</span><span id="__span-18-10"><a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a>
</span><span id="__span-18-11"><a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a>        <span class="k">while</span> <span class="nb">abs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_position</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">target_position</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="__span-18-12"><a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a>            <span class="c1"># Calculate how far we need to move</span>
</span><span id="__span-18-13"><a id="__codelineno-18-13" name="__codelineno-18-13" href="#__codelineno-18-13"></a>            <span class="n">distance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">target_position</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_position</span>
</span><span id="__span-18-14"><a id="__codelineno-18-14" name="__codelineno-18-14" href="#__codelineno-18-14"></a>
</span><span id="__span-18-15"><a id="__codelineno-18-15" name="__codelineno-18-15" href="#__codelineno-18-15"></a>            <span class="c1"># Move a fraction of the remaining distance (creates smooth curve)</span>
</span><span id="__span-18-16"><a id="__codelineno-18-16" name="__codelineno-18-16" href="#__codelineno-18-16"></a>            <span class="n">step</span> <span class="o">=</span> <span class="n">distance</span> <span class="o">*</span> <span class="n">speed_factor</span>
</span><span id="__span-18-17"><a id="__codelineno-18-17" name="__codelineno-18-17" href="#__codelineno-18-17"></a>
</span><span id="__span-18-18"><a id="__codelineno-18-18" name="__codelineno-18-18" href="#__codelineno-18-18"></a>            <span class="c1"># Ensure we don&#39;t overshoot with tiny movements</span>
</span><span id="__span-18-19"><a id="__codelineno-18-19" name="__codelineno-18-19" href="#__codelineno-18-19"></a>            <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">step</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">0.5</span><span class="p">:</span>
</span><span id="__span-18-20"><a id="__codelineno-18-20" name="__codelineno-18-20" href="#__codelineno-18-20"></a>                <span class="n">step</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">distance</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="o">-</span><span class="mi">1</span>
</span><span id="__span-18-21"><a id="__codelineno-18-21" name="__codelineno-18-21" href="#__codelineno-18-21"></a>
</span><span id="__span-18-22"><a id="__codelineno-18-22" name="__codelineno-18-22" href="#__codelineno-18-22"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_position</span> <span class="o">+=</span> <span class="n">step</span>
</span><span id="__span-18-23"><a id="__codelineno-18-23" name="__codelineno-18-23" href="#__codelineno-18-23"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">motor</span><span class="o">.</span><span class="n">set_angle</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_position</span><span class="p">)</span>
</span><span id="__span-18-24"><a id="__codelineno-18-24" name="__codelineno-18-24" href="#__codelineno-18-24"></a>
</span><span id="__span-18-25"><a id="__codelineno-18-25" name="__codelineno-18-25" href="#__codelineno-18-25"></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.02</span><span class="p">)</span>  <span class="c1"># 50Hz update rate - smooth motion!</span>
</span><span id="__span-18-26"><a id="__codelineno-18-26" name="__codelineno-18-26" href="#__codelineno-18-26"></a>
</span><span id="__span-18-27"><a id="__codelineno-18-27" name="__codelineno-18-27" href="#__codelineno-18-27"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Smoothly reached position </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">target_position</span><span class="si">}</span><span class="s2">°&quot;</span><span class="p">)</span>
</span><span id="__span-18-28"><a id="__codelineno-18-28" name="__codelineno-18-28" href="#__codelineno-18-28"></a>
</span><span id="__span-18-29"><a id="__codelineno-18-29" name="__codelineno-18-29" href="#__codelineno-18-29"></a><span class="c1"># Example usage: Head tracking</span>
</span><span id="__span-18-30"><a id="__codelineno-18-30" name="__codelineno-18-30" href="#__codelineno-18-30"></a><span class="k">def</span><span class="w"> </span><span class="nf">track_student_face</span><span class="p">():</span>
</span><span id="__span-18-31"><a id="__codelineno-18-31" name="__codelineno-18-31" href="#__codelineno-18-31"></a>    <span class="n">head_controller</span> <span class="o">=</span> <span class="n">SmoothMotorController</span><span class="p">(</span><span class="mi">18</span><span class="p">)</span>
</span><span id="__span-18-32"><a id="__codelineno-18-32" name="__codelineno-18-32" href="#__codelineno-18-32"></a>
</span><span id="__span-18-33"><a id="__codelineno-18-33" name="__codelineno-18-33" href="#__codelineno-18-33"></a>    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
</span><span id="__span-18-34"><a id="__codelineno-18-34" name="__codelineno-18-34" href="#__codelineno-18-34"></a>        <span class="n">face_x</span><span class="p">,</span> <span class="n">face_y</span> <span class="o">=</span> <span class="n">camera</span><span class="o">.</span><span class="n">detect_face_position</span><span class="p">()</span>
</span><span id="__span-18-35"><a id="__codelineno-18-35" name="__codelineno-18-35" href="#__codelineno-18-35"></a>
</span><span id="__span-18-36"><a id="__codelineno-18-36" name="__codelineno-18-36" href="#__codelineno-18-36"></a>        <span class="k">if</span> <span class="n">face_x</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="__span-18-37"><a id="__codelineno-18-37" name="__codelineno-18-37" href="#__codelineno-18-37"></a>            <span class="c1"># Convert face position to servo angle (0-180°)</span>
</span><span id="__span-18-38"><a id="__codelineno-18-38" name="__codelineno-18-38" href="#__codelineno-18-38"></a>            <span class="n">target_angle</span> <span class="o">=</span> <span class="n">map_range</span><span class="p">(</span><span class="n">face_x</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">camera</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">180</span><span class="p">)</span>
</span><span id="__span-18-39"><a id="__codelineno-18-39" name="__codelineno-18-39" href="#__codelineno-18-39"></a>            <span class="n">head_controller</span><span class="o">.</span><span class="n">move_to_position_smoothly</span><span class="p">(</span><span class="n">target_angle</span><span class="p">)</span>
</span><span id="__span-18-40"><a id="__codelineno-18-40" name="__codelineno-18-40" href="#__codelineno-18-40"></a>
</span><span id="__span-18-41"><a id="__codelineno-18-41" name="__codelineno-18-41" href="#__codelineno-18-41"></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>  <span class="c1"># 10Hz face tracking</span>
</span></code></pre></div>
<h4 id="gaming-connection-smooth-camera-movement">🎮 Gaming Connection: Smooth Camera Movement<a class="headerlink" href="#gaming-connection-smooth-camera-movement" title="Permanent link">&para;</a></h4>
<p>Ever notice how camera movement in modern games feels natural? Game developers use similar smoothing algorithms:</p>
<ul>
<li><strong>Exponential smoothing</strong> - like our robot's smooth movement</li>
<li><strong>Acceleration curves</strong> - faster movement when far from target, slower when close</li>
<li><strong>Predictive movement</strong> - anticipating where the player wants to look</li>
</ul>
<p>The same math that makes your robot move smoothly makes your gaming experience enjoyable!</p>
<h4 id="object-detection-response-robot-vision">🔍 <strong>Object Detection &amp; Response: Robot Vision</strong><a class="headerlink" href="#object-detection-response-robot-vision" title="Permanent link">&para;</a></h4>
<p>Teaching robots to "see" and react is like giving them superpowers:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">cv2</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="k">class</span><span class="w"> </span><span class="nc">ObjectDetectionSystem</span><span class="p">:</span>
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">camera</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">VideoCapture</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="__span-19-7"><a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">object_cascade</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">CascadeClassifier</span><span class="p">(</span><span class="s1">&#39;phone_detector.xml&#39;</span><span class="p">)</span>
</span><span id="__span-19-8"><a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">distraction_threshold</span> <span class="o">=</span> <span class="mi">3</span>  <span class="c1"># seconds</span>
</span><span id="__span-19-9"><a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">distraction_timer</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-19-10"><a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a>
</span><span id="__span-19-11"><a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">detect_phone_usage</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-19-12"><a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Detect if student is looking at phone instead of studying&quot;&quot;&quot;</span>
</span><span id="__span-19-13"><a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a>        <span class="n">ret</span><span class="p">,</span> <span class="n">frame</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">camera</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</span><span id="__span-19-14"><a id="__codelineno-19-14" name="__codelineno-19-14" href="#__codelineno-19-14"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">ret</span><span class="p">:</span>
</span><span id="__span-19-15"><a id="__codelineno-19-15" name="__codelineno-19-15" href="#__codelineno-19-15"></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="__span-19-16"><a id="__codelineno-19-16" name="__codelineno-19-16" href="#__codelineno-19-16"></a>
</span><span id="__span-19-17"><a id="__codelineno-19-17" name="__codelineno-19-17" href="#__codelineno-19-17"></a>        <span class="c1"># Convert to grayscale for processing</span>
</span><span id="__span-19-18"><a id="__codelineno-19-18" name="__codelineno-19-18" href="#__codelineno-19-18"></a>        <span class="n">gray</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">COLOR_BGR2GRAY</span><span class="p">)</span>
</span><span id="__span-19-19"><a id="__codelineno-19-19" name="__codelineno-19-19" href="#__codelineno-19-19"></a>
</span><span id="__span-19-20"><a id="__codelineno-19-20" name="__codelineno-19-20" href="#__codelineno-19-20"></a>        <span class="c1"># Detect phone-like objects</span>
</span><span id="__span-19-21"><a id="__codelineno-19-21" name="__codelineno-19-21" href="#__codelineno-19-21"></a>        <span class="n">phones</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_cascade</span><span class="o">.</span><span class="n">detectMultiScale</span><span class="p">(</span><span class="n">gray</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</span><span id="__span-19-22"><a id="__codelineno-19-22" name="__codelineno-19-22" href="#__codelineno-19-22"></a>
</span><span id="__span-19-23"><a id="__codelineno-19-23" name="__codelineno-19-23" href="#__codelineno-19-23"></a>        <span class="c1"># Detect faces and their direction</span>
</span><span id="__span-19-24"><a id="__codelineno-19-24" name="__codelineno-19-24" href="#__codelineno-19-24"></a>        <span class="n">faces</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">detect_faces</span><span class="p">(</span><span class="n">gray</span><span class="p">)</span>
</span><span id="__span-19-25"><a id="__codelineno-19-25" name="__codelineno-19-25" href="#__codelineno-19-25"></a>
</span><span id="__span-19-26"><a id="__codelineno-19-26" name="__codelineno-19-26" href="#__codelineno-19-26"></a>        <span class="c1"># Analyze if person is looking at phone</span>
</span><span id="__span-19-27"><a id="__codelineno-19-27" name="__codelineno-19-27" href="#__codelineno-19-27"></a>        <span class="k">for</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span> <span class="ow">in</span> <span class="n">phones</span><span class="p">:</span>
</span><span id="__span-19-28"><a id="__codelineno-19-28" name="__codelineno-19-28" href="#__codelineno-19-28"></a>            <span class="k">for</span> <span class="p">(</span><span class="n">fx</span><span class="p">,</span> <span class="n">fy</span><span class="p">,</span> <span class="n">fw</span><span class="p">,</span> <span class="n">fh</span><span class="p">)</span> <span class="ow">in</span> <span class="n">faces</span><span class="p">:</span>
</span><span id="__span-19-29"><a id="__codelineno-19-29" name="__codelineno-19-29" href="#__codelineno-19-29"></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_person_looking_at_phone</span><span class="p">(</span><span class="n">faces</span><span class="p">,</span> <span class="n">phones</span><span class="p">):</span>
</span><span id="__span-19-30"><a id="__codelineno-19-30" name="__codelineno-19-30" href="#__codelineno-19-30"></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">distraction_timer</span> <span class="o">+=</span> <span class="mf">0.1</span>  <span class="c1"># 100ms increment</span>
</span><span id="__span-19-31"><a id="__codelineno-19-31" name="__codelineno-19-31" href="#__codelineno-19-31"></a>
</span><span id="__span-19-32"><a id="__codelineno-19-32" name="__codelineno-19-32" href="#__codelineno-19-32"></a>                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">distraction_timer</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">distraction_threshold</span><span class="p">:</span>
</span><span id="__span-19-33"><a id="__codelineno-19-33" name="__codelineno-19-33" href="#__codelineno-19-33"></a>                        <span class="k">return</span> <span class="kc">True</span>  <span class="c1"># Distracted for too long!</span>
</span><span id="__span-19-34"><a id="__codelineno-19-34" name="__codelineno-19-34" href="#__codelineno-19-34"></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="__span-19-35"><a id="__codelineno-19-35" name="__codelineno-19-35" href="#__codelineno-19-35"></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">distraction_timer</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">distraction_timer</span> <span class="o">-</span> <span class="mf">0.1</span><span class="p">)</span>
</span><span id="__span-19-36"><a id="__codelineno-19-36" name="__codelineno-19-36" href="#__codelineno-19-36"></a>
</span><span id="__span-19-37"><a id="__codelineno-19-37" name="__codelineno-19-37" href="#__codelineno-19-37"></a>        <span class="k">return</span> <span class="kc">False</span>
</span><span id="__span-19-38"><a id="__codelineno-19-38" name="__codelineno-19-38" href="#__codelineno-19-38"></a>
</span><span id="__span-19-39"><a id="__codelineno-19-39" name="__codelineno-19-39" href="#__codelineno-19-39"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">is_person_looking_at_phone</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">faces</span><span class="p">,</span> <span class="n">phones</span><span class="p">):</span>
</span><span id="__span-19-40"><a id="__codelineno-19-40" name="__codelineno-19-40" href="#__codelineno-19-40"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Determine if face is oriented toward phone&quot;&quot;&quot;</span>
</span><span id="__span-19-41"><a id="__codelineno-19-41" name="__codelineno-19-41" href="#__codelineno-19-41"></a>        <span class="c1"># This would use more complex computer vision</span>
</span><span id="__span-19-42"><a id="__codelineno-19-42" name="__codelineno-19-42" href="#__codelineno-19-42"></a>        <span class="c1"># For simplicity, checking if phone and face are close</span>
</span><span id="__span-19-43"><a id="__codelineno-19-43" name="__codelineno-19-43" href="#__codelineno-19-43"></a>        <span class="k">for</span> <span class="p">(</span><span class="n">fx</span><span class="p">,</span> <span class="n">fy</span><span class="p">,</span> <span class="n">fw</span><span class="p">,</span> <span class="n">fh</span><span class="p">)</span> <span class="ow">in</span> <span class="n">faces</span><span class="p">:</span>
</span><span id="__span-19-44"><a id="__codelineno-19-44" name="__codelineno-19-44" href="#__codelineno-19-44"></a>            <span class="n">face_center_x</span> <span class="o">=</span> <span class="n">fx</span> <span class="o">+</span> <span class="n">fw</span> <span class="o">//</span> <span class="mi">2</span>
</span><span id="__span-19-45"><a id="__codelineno-19-45" name="__codelineno-19-45" href="#__codelineno-19-45"></a>            <span class="n">face_center_y</span> <span class="o">=</span> <span class="n">fy</span> <span class="o">+</span> <span class="n">fh</span> <span class="o">//</span> <span class="mi">2</span>
</span><span id="__span-19-46"><a id="__codelineno-19-46" name="__codelineno-19-46" href="#__codelineno-19-46"></a>
</span><span id="__span-19-47"><a id="__codelineno-19-47" name="__codelineno-19-47" href="#__codelineno-19-47"></a>            <span class="k">for</span> <span class="p">(</span><span class="n">px</span><span class="p">,</span> <span class="n">py</span><span class="p">,</span> <span class="n">pw</span><span class="p">,</span> <span class="n">ph</span><span class="p">)</span> <span class="ow">in</span> <span class="n">phones</span><span class="p">:</span>
</span><span id="__span-19-48"><a id="__codelineno-19-48" name="__codelineno-19-48" href="#__codelineno-19-48"></a>                <span class="n">phone_center_x</span> <span class="o">=</span> <span class="n">px</span> <span class="o">+</span> <span class="n">pw</span> <span class="o">//</span> <span class="mi">2</span>
</span><span id="__span-19-49"><a id="__codelineno-19-49" name="__codelineno-19-49" href="#__codelineno-19-49"></a>                <span class="n">phone_center_y</span> <span class="o">=</span> <span class="n">py</span> <span class="o">+</span> <span class="n">ph</span> <span class="o">//</span> <span class="mi">2</span>
</span><span id="__span-19-50"><a id="__codelineno-19-50" name="__codelineno-19-50" href="#__codelineno-19-50"></a>
</span><span id="__span-19-51"><a id="__codelineno-19-51" name="__codelineno-19-51" href="#__codelineno-19-51"></a>                <span class="c1"># Calculate distance between face and phone</span>
</span><span id="__span-19-52"><a id="__codelineno-19-52" name="__codelineno-19-52" href="#__codelineno-19-52"></a>                <span class="n">distance</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">((</span><span class="n">face_center_x</span> <span class="o">-</span> <span class="n">phone_center_x</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> 
</span><span id="__span-19-53"><a id="__codelineno-19-53" name="__codelineno-19-53" href="#__codelineno-19-53"></a>                                 <span class="p">(</span><span class="n">face_center_y</span> <span class="o">-</span> <span class="n">phone_center_y</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
</span><span id="__span-19-54"><a id="__codelineno-19-54" name="__codelineno-19-54" href="#__codelineno-19-54"></a>
</span><span id="__span-19-55"><a id="__codelineno-19-55" name="__codelineno-19-55" href="#__codelineno-19-55"></a>                <span class="k">if</span> <span class="n">distance</span> <span class="o">&lt;</span> <span class="mi">200</span><span class="p">:</span>  <span class="c1"># pixels - they&#39;re close together</span>
</span><span id="__span-19-56"><a id="__codelineno-19-56" name="__codelineno-19-56" href="#__codelineno-19-56"></a>                    <span class="k">return</span> <span class="kc">True</span>
</span><span id="__span-19-57"><a id="__codelineno-19-57" name="__codelineno-19-57" href="#__codelineno-19-57"></a>
</span><span id="__span-19-58"><a id="__codelineno-19-58" name="__codelineno-19-58" href="#__codelineno-19-58"></a>        <span class="k">return</span> <span class="kc">False</span>
</span><span id="__span-19-59"><a id="__codelineno-19-59" name="__codelineno-19-59" href="#__codelineno-19-59"></a>
</span><span id="__span-19-60"><a id="__codelineno-19-60" name="__codelineno-19-60" href="#__codelineno-19-60"></a><span class="c1"># Integration with Study Buddy behavior</span>
</span><span id="__span-19-61"><a id="__codelineno-19-61" name="__codelineno-19-61" href="#__codelineno-19-61"></a><span class="k">def</span><span class="w"> </span><span class="nf">smart_distraction_detection</span><span class="p">():</span>
</span><span id="__span-19-62"><a id="__codelineno-19-62" name="__codelineno-19-62" href="#__codelineno-19-62"></a>    <span class="n">detector</span> <span class="o">=</span> <span class="n">ObjectDetectionSystem</span><span class="p">()</span>
</span><span id="__span-19-63"><a id="__codelineno-19-63" name="__codelineno-19-63" href="#__codelineno-19-63"></a>
</span><span id="__span-19-64"><a id="__codelineno-19-64" name="__codelineno-19-64" href="#__codelineno-19-64"></a>    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
</span><span id="__span-19-65"><a id="__codelineno-19-65" name="__codelineno-19-65" href="#__codelineno-19-65"></a>        <span class="k">if</span> <span class="n">detector</span><span class="o">.</span><span class="n">detect_phone_usage</span><span class="p">():</span>
</span><span id="__span-19-66"><a id="__codelineno-19-66" name="__codelineno-19-66" href="#__codelineno-19-66"></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;📱 Phone distraction detected!&quot;</span><span class="p">)</span>
</span><span id="__span-19-67"><a id="__codelineno-19-67" name="__codelineno-19-67" href="#__codelineno-19-67"></a>            <span class="n">study_buddy</span><span class="o">.</span><span class="n">gentle_refocus_reminder</span><span class="p">()</span>
</span><span id="__span-19-68"><a id="__codelineno-19-68" name="__codelineno-19-68" href="#__codelineno-19-68"></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="__span-19-69"><a id="__codelineno-19-69" name="__codelineno-19-69" href="#__codelineno-19-69"></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;✅ Student focused - great job!&quot;</span><span class="p">)</span>
</span><span id="__span-19-70"><a id="__codelineno-19-70" name="__codelineno-19-70" href="#__codelineno-19-70"></a>            <span class="n">study_buddy</span><span class="o">.</span><span class="n">supportive_presence</span><span class="p">()</span>
</span><span id="__span-19-71"><a id="__codelineno-19-71" name="__codelineno-19-71" href="#__codelineno-19-71"></a>
</span><span id="__span-19-72"><a id="__codelineno-19-72" name="__codelineno-19-72" href="#__codelineno-19-72"></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>  <span class="c1"># Check 10 times per second</span>
</span></code></pre></div>
<h4 id="multi-sensor-integration-the-complete-picture">🎯 <strong>Multi-Sensor Integration: The Complete Picture</strong><a class="headerlink" href="#multi-sensor-integration-the-complete-picture" title="Permanent link">&para;</a></h4>
<p>Real intelligence comes from combining multiple sensors - just like how you use all your senses together:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">MultiModalStudyTracker</span><span class="p">:</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">camera</span> <span class="o">=</span> <span class="n">ObjectDetectionSystem</span><span class="p">()</span>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">microphone</span> <span class="o">=</span> <span class="n">AudioAnalyzer</span><span class="p">()</span>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">environment</span> <span class="o">=</span> <span class="n">EnvironmentalSensors</span><span class="p">()</span>
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a>
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a>        <span class="c1"># Weighted scoring system</span>
</span><span id="__span-20-8"><a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">focus_score</span> <span class="o">=</span> <span class="mf">0.0</span>  <span class="c1"># 0 = totally distracted, 1 = perfectly focused</span>
</span><span id="__span-20-9"><a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a>
</span><span id="__span-20-10"><a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">calculate_focus_score</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-20-11"><a id="__codelineno-20-11" name="__codelineno-20-11" href="#__codelineno-20-11"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Combine multiple sensor inputs for accurate assessment&quot;&quot;&quot;</span>
</span><span id="__span-20-12"><a id="__codelineno-20-12" name="__codelineno-20-12" href="#__codelineno-20-12"></a>
</span><span id="__span-20-13"><a id="__codelineno-20-13" name="__codelineno-20-13" href="#__codelineno-20-13"></a>        <span class="c1"># Visual focus (50% weight)</span>
</span><span id="__span-20-14"><a id="__codelineno-20-14" name="__codelineno-20-14" href="#__codelineno-20-14"></a>        <span class="n">visual_focus</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">camera</span><span class="o">.</span><span class="n">detect_phone_usage</span><span class="p">()</span> <span class="k">else</span> <span class="mf">0.0</span>
</span><span id="__span-20-15"><a id="__codelineno-20-15" name="__codelineno-20-15" href="#__codelineno-20-15"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">camera</span><span class="o">.</span><span class="n">detect_book_or_computer</span><span class="p">():</span>
</span><span id="__span-20-16"><a id="__codelineno-20-16" name="__codelineno-20-16" href="#__codelineno-20-16"></a>            <span class="n">visual_focus</span> <span class="o">+=</span> <span class="mf">0.5</span>  <span class="c1"># Bonus for study materials</span>
</span><span id="__span-20-17"><a id="__codelineno-20-17" name="__codelineno-20-17" href="#__codelineno-20-17"></a>
</span><span id="__span-20-18"><a id="__codelineno-20-18" name="__codelineno-20-18" href="#__codelineno-20-18"></a>        <span class="c1"># Audio environment (25% weight)</span>
</span><span id="__span-20-19"><a id="__codelineno-20-19" name="__codelineno-20-19" href="#__codelineno-20-19"></a>        <span class="n">noise_level</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">microphone</span><span class="o">.</span><span class="n">get_background_noise</span><span class="p">()</span>
</span><span id="__span-20-20"><a id="__codelineno-20-20" name="__codelineno-20-20" href="#__codelineno-20-20"></a>        <span class="n">audio_focus</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="k">if</span> <span class="n">noise_level</span> <span class="o">&lt;</span> <span class="mi">40</span> <span class="k">else</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">(</span><span class="mi">60</span> <span class="o">-</span> <span class="n">noise_level</span><span class="p">)</span> <span class="o">/</span> <span class="mi">20</span><span class="p">)</span>
</span><span id="__span-20-21"><a id="__codelineno-20-21" name="__codelineno-20-21" href="#__codelineno-20-21"></a>
</span><span id="__span-20-22"><a id="__codelineno-20-22" name="__codelineno-20-22" href="#__codelineno-20-22"></a>        <span class="c1"># Environmental factors (15% weight)</span>
</span><span id="__span-20-23"><a id="__codelineno-20-23" name="__codelineno-20-23" href="#__codelineno-20-23"></a>        <span class="n">lighting</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">environment</span><span class="o">.</span><span class="n">get_light_level</span><span class="p">()</span>
</span><span id="__span-20-24"><a id="__codelineno-20-24" name="__codelineno-20-24" href="#__codelineno-20-24"></a>        <span class="n">lighting_focus</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="k">if</span> <span class="mi">300</span> <span class="o">&lt;</span> <span class="n">lighting</span> <span class="o">&lt;</span> <span class="mi">800</span> <span class="k">else</span> <span class="mf">0.7</span>
</span><span id="__span-20-25"><a id="__codelineno-20-25" name="__codelineno-20-25" href="#__codelineno-20-25"></a>
</span><span id="__span-20-26"><a id="__codelineno-20-26" name="__codelineno-20-26" href="#__codelineno-20-26"></a>        <span class="c1"># Movement/fidgeting (10% weight)</span>
</span><span id="__span-20-27"><a id="__codelineno-20-27" name="__codelineno-20-27" href="#__codelineno-20-27"></a>        <span class="n">movement</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">camera</span><span class="o">.</span><span class="n">detect_excessive_movement</span><span class="p">()</span>
</span><span id="__span-20-28"><a id="__codelineno-20-28" name="__codelineno-20-28" href="#__codelineno-20-28"></a>        <span class="n">movement_focus</span> <span class="o">=</span> <span class="mf">0.3</span> <span class="k">if</span> <span class="n">movement</span> <span class="k">else</span> <span class="mf">1.0</span>
</span><span id="__span-20-29"><a id="__codelineno-20-29" name="__codelineno-20-29" href="#__codelineno-20-29"></a>
</span><span id="__span-20-30"><a id="__codelineno-20-30" name="__codelineno-20-30" href="#__codelineno-20-30"></a>        <span class="c1"># Weighted combination</span>
</span><span id="__span-20-31"><a id="__codelineno-20-31" name="__codelineno-20-31" href="#__codelineno-20-31"></a>        <span class="n">total_focus</span> <span class="o">=</span> <span class="p">(</span><span class="n">visual_focus</span> <span class="o">*</span> <span class="mf">0.5</span> <span class="o">+</span> 
</span><span id="__span-20-32"><a id="__codelineno-20-32" name="__codelineno-20-32" href="#__codelineno-20-32"></a>                      <span class="n">audio_focus</span> <span class="o">*</span> <span class="mf">0.25</span> <span class="o">+</span> 
</span><span id="__span-20-33"><a id="__codelineno-20-33" name="__codelineno-20-33" href="#__codelineno-20-33"></a>                      <span class="n">lighting_focus</span> <span class="o">*</span> <span class="mf">0.15</span> <span class="o">+</span> 
</span><span id="__span-20-34"><a id="__codelineno-20-34" name="__codelineno-20-34" href="#__codelineno-20-34"></a>                      <span class="n">movement_focus</span> <span class="o">*</span> <span class="mf">0.1</span><span class="p">)</span>
</span><span id="__span-20-35"><a id="__codelineno-20-35" name="__codelineno-20-35" href="#__codelineno-20-35"></a>
</span><span id="__span-20-36"><a id="__codelineno-20-36" name="__codelineno-20-36" href="#__codelineno-20-36"></a>        <span class="c1"># Smooth the score to avoid jittery behavior</span>
</span><span id="__span-20-37"><a id="__codelineno-20-37" name="__codelineno-20-37" href="#__codelineno-20-37"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">focus_score</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">focus_score</span> <span class="o">*</span> <span class="mf">0.8</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">total_focus</span> <span class="o">*</span> <span class="mf">0.2</span><span class="p">)</span>
</span><span id="__span-20-38"><a id="__codelineno-20-38" name="__codelineno-20-38" href="#__codelineno-20-38"></a>
</span><span id="__span-20-39"><a id="__codelineno-20-39" name="__codelineno-20-39" href="#__codelineno-20-39"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">focus_score</span>
</span><span id="__span-20-40"><a id="__codelineno-20-40" name="__codelineno-20-40" href="#__codelineno-20-40"></a>
</span><span id="__span-20-41"><a id="__codelineno-20-41" name="__codelineno-20-41" href="#__codelineno-20-41"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">intelligent_response</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-20-42"><a id="__codelineno-20-42" name="__codelineno-20-42" href="#__codelineno-20-42"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Respond based on comprehensive analysis&quot;&quot;&quot;</span>
</span><span id="__span-20-43"><a id="__codelineno-20-43" name="__codelineno-20-43" href="#__codelineno-20-43"></a>        <span class="n">focus</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calculate_focus_score</span><span class="p">()</span>
</span><span id="__span-20-44"><a id="__codelineno-20-44" name="__codelineno-20-44" href="#__codelineno-20-44"></a>
</span><span id="__span-20-45"><a id="__codelineno-20-45" name="__codelineno-20-45" href="#__codelineno-20-45"></a>        <span class="k">if</span> <span class="n">focus</span> <span class="o">&gt;</span> <span class="mf">0.8</span><span class="p">:</span>
</span><span id="__span-20-46"><a id="__codelineno-20-46" name="__codelineno-20-46" href="#__codelineno-20-46"></a>            <span class="k">return</span> <span class="s2">&quot;EXCELLENT_FOCUS&quot;</span>  <span class="c1"># Celebrate silently</span>
</span><span id="__span-20-47"><a id="__codelineno-20-47" name="__codelineno-20-47" href="#__codelineno-20-47"></a>        <span class="k">elif</span> <span class="n">focus</span> <span class="o">&gt;</span> <span class="mf">0.6</span><span class="p">:</span>
</span><span id="__span-20-48"><a id="__codelineno-20-48" name="__codelineno-20-48" href="#__codelineno-20-48"></a>            <span class="k">return</span> <span class="s2">&quot;GOOD_FOCUS&quot;</span>       <span class="c1"># Gentle encouragement</span>
</span><span id="__span-20-49"><a id="__codelineno-20-49" name="__codelineno-20-49" href="#__codelineno-20-49"></a>        <span class="k">elif</span> <span class="n">focus</span> <span class="o">&gt;</span> <span class="mf">0.4</span><span class="p">:</span>
</span><span id="__span-20-50"><a id="__codelineno-20-50" name="__codelineno-20-50" href="#__codelineno-20-50"></a>            <span class="k">return</span> <span class="s2">&quot;MILD_DISTRACTION&quot;</span> <span class="c1"># Friendly reminder</span>
</span><span id="__span-20-51"><a id="__codelineno-20-51" name="__codelineno-20-51" href="#__codelineno-20-51"></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="__span-20-52"><a id="__codelineno-20-52" name="__codelineno-20-52" href="#__codelineno-20-52"></a>            <span class="k">return</span> <span class="s2">&quot;NEEDS_HELP&quot;</span>       <span class="c1"># Active intervention</span>
</span><span id="__span-20-53"><a id="__codelineno-20-53" name="__codelineno-20-53" href="#__codelineno-20-53"></a>
</span><span id="__span-20-54"><a id="__codelineno-20-54" name="__codelineno-20-54" href="#__codelineno-20-54"></a><span class="c1"># Usage in main control loop</span>
</span><span id="__span-20-55"><a id="__codelineno-20-55" name="__codelineno-20-55" href="#__codelineno-20-55"></a><span class="k">def</span><span class="w"> </span><span class="nf">main_intelligence_loop</span><span class="p">():</span>
</span><span id="__span-20-56"><a id="__codelineno-20-56" name="__codelineno-20-56" href="#__codelineno-20-56"></a>    <span class="n">tracker</span> <span class="o">=</span> <span class="n">MultiModalStudyTracker</span><span class="p">()</span>
</span><span id="__span-20-57"><a id="__codelineno-20-57" name="__codelineno-20-57" href="#__codelineno-20-57"></a>
</span><span id="__span-20-58"><a id="__codelineno-20-58" name="__codelineno-20-58" href="#__codelineno-20-58"></a>    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
</span><span id="__span-20-59"><a id="__codelineno-20-59" name="__codelineno-20-59" href="#__codelineno-20-59"></a>        <span class="n">focus_level</span> <span class="o">=</span> <span class="n">tracker</span><span class="o">.</span><span class="n">intelligent_response</span><span class="p">()</span>
</span><span id="__span-20-60"><a id="__codelineno-20-60" name="__codelineno-20-60" href="#__codelineno-20-60"></a>
</span><span id="__span-20-61"><a id="__codelineno-20-61" name="__codelineno-20-61" href="#__codelineno-20-61"></a>        <span class="k">if</span> <span class="n">focus_level</span> <span class="o">==</span> <span class="s2">&quot;EXCELLENT_FOCUS&quot;</span><span class="p">:</span>
</span><span id="__span-20-62"><a id="__codelineno-20-62" name="__codelineno-20-62" href="#__codelineno-20-62"></a>            <span class="n">study_buddy</span><span class="o">.</span><span class="n">subtle_positive_reinforcement</span><span class="p">()</span>
</span><span id="__span-20-63"><a id="__codelineno-20-63" name="__codelineno-20-63" href="#__codelineno-20-63"></a>        <span class="k">elif</span> <span class="n">focus_level</span> <span class="o">==</span> <span class="s2">&quot;GOOD_FOCUS&quot;</span><span class="p">:</span>
</span><span id="__span-20-64"><a id="__codelineno-20-64" name="__codelineno-20-64" href="#__codelineno-20-64"></a>            <span class="n">study_buddy</span><span class="o">.</span><span class="n">gentle_encouragement</span><span class="p">()</span>
</span><span id="__span-20-65"><a id="__codelineno-20-65" name="__codelineno-20-65" href="#__codelineno-20-65"></a>        <span class="k">elif</span> <span class="n">focus_level</span> <span class="o">==</span> <span class="s2">&quot;MILD_DISTRACTION&quot;</span><span class="p">:</span>
</span><span id="__span-20-66"><a id="__codelineno-20-66" name="__codelineno-20-66" href="#__codelineno-20-66"></a>            <span class="n">study_buddy</span><span class="o">.</span><span class="n">friendly_refocus_reminder</span><span class="p">()</span>
</span><span id="__span-20-67"><a id="__codelineno-20-67" name="__codelineno-20-67" href="#__codelineno-20-67"></a>        <span class="k">else</span><span class="p">:</span>  <span class="c1"># NEEDS_HELP</span>
</span><span id="__span-20-68"><a id="__codelineno-20-68" name="__codelineno-20-68" href="#__codelineno-20-68"></a>            <span class="n">study_buddy</span><span class="o">.</span><span class="n">active_intervention</span><span class="p">()</span>
</span><span id="__span-20-69"><a id="__codelineno-20-69" name="__codelineno-20-69" href="#__codelineno-20-69"></a>
</span><span id="__span-20-70"><a id="__codelineno-20-70" name="__codelineno-20-70" href="#__codelineno-20-70"></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>  <span class="c1"># Evaluate every 5 seconds</span>
</span></code></pre></div>
<p>This multi-sensor approach is what makes modern robots so intelligent - they don't rely on just one type of information, but combine multiple data sources to make smart decisions, just like humans do!</p>
<h3 id="simulation-prototyping">Simulation &amp; Prototyping<a class="headerlink" href="#simulation-prototyping" title="Permanent link">&para;</a></h3>
<p>Simulation tools (e.g., VEXcode VR, Tinkercad Circuits) allow you to test control algorithms virtually before building hardware. For physical prototyping, breadboards and microcontroller kits (Arduino, Raspberry Pi) help validate code and hardware integration. Example: Simulate a robotic arm’s movement in VEXcode VR, then build a breadboard circuit to test motor control.</p>
<h3 id="closed-loop-control-systems-the-secret-of-smooth-robots">Closed-Loop Control Systems: The Secret of Smooth Robots 🔄🎯<a class="headerlink" href="#closed-loop-control-systems-the-secret-of-smooth-robots" title="Permanent link">&para;</a></h3>
<p>Ever wonder why your car doesn't overshoot when you set cruise control to 100 km/h? Or how a robot arm can pick up an egg without crushing it? The magic is <strong>closed-loop control</strong> - where systems constantly adjust their behavior based on feedback, just like how you adjust your hand when reaching for a glass of water!</p>
<details class="info">
<summary>Control System Architecture</summary>
<p>Closed-loop control systems create a continuous feedback loop that enables precise, adaptive behavior in mechatronic systems.</p>
<pre  class="mermaid"><code>flowchart LR
    R[🎯 Reference<br/>Desired Value] --> E[➖ Error<br/>Calculator]
    E --> C[🧠 Controller<br/>PID Algorithm]
    C --> A[⚙️ Actuator<br/>Motor/Servo]
    A --> P[🏭 Plant<br/>Physical System]
    P --> S[📊 Sensor<br/>Feedback]
    S --> E

    P --> O[📈 Output<br/>Actual Value]

    style R fill:#e3f2fd
    style E fill:#ffebee
    style C fill:#e8f5e8
    style A fill:#fff3e0
    style P fill:#f3e5f5
    style S fill:#e0f2f1
    style O fill:#fce4ec
</code></pre>
<p><strong>The Control Loop in Action:</strong>
1. <strong>Set Target:</strong> "I want the robot arm at 45 degrees"
2. <strong>Measure Reality:</strong> "The arm is currently at 30 degrees"
3. <strong>Calculate Error:</strong> "15 degrees off target"
4. <strong>Adjust Output:</strong> "Speed up the motor to close the gap"
5. <strong>Repeat Continuously:</strong> Monitor and adjust 50+ times per second!</p>
</details>
<h4 id="pid-control-the-industry-standard-algorithm">🎯 <strong>PID Control: The Industry Standard Algorithm</strong><a class="headerlink" href="#pid-control-the-industry-standard-algorithm" title="Permanent link">&para;</a></h4>
<p>PID (Proportional-Integral-Derivative) control is like having three different driving personalities working together:</p>
<ul>
<li><strong>Proportional (P):</strong> "The further I am from target, the harder I try" - <em>The Aggressive Driver</em></li>
<li><strong>Integral (I):</strong> "I remember past mistakes and compensate" - <em>The Learning Driver</em>  </li>
<li><strong>Derivative (D):</strong> "I predict where I'm heading and slow down early" - <em>The Smart Driver</em></li>
</ul>
<p><strong>Real-World Example: Temperature Control System</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">SmartThermostat</span><span class="p">:</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">target_temp</span> <span class="o">=</span> <span class="mf">22.0</span>  <span class="c1"># Celsius</span>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">current_temp</span> <span class="o">=</span> <span class="mf">18.0</span>  <span class="c1"># Start cold</span>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a>
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a>        <span class="c1"># PID coefficients (these determine behavior!)</span>
</span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">Kp</span> <span class="o">=</span> <span class="mf">2.0</span>   <span class="c1"># Proportional gain - how aggressively to respond</span>
</span><span id="__span-21-8"><a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">Ki</span> <span class="o">=</span> <span class="mf">0.1</span>   <span class="c1"># Integral gain - how much to learn from past errors</span>
</span><span id="__span-21-9"><a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">Kd</span> <span class="o">=</span> <span class="mf">0.5</span>   <span class="c1"># Derivative gain - how much to predict future</span>
</span><span id="__span-21-10"><a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a>
</span><span id="__span-21-11"><a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a>        <span class="c1"># Memory for integral and derivative calculations</span>
</span><span id="__span-21-12"><a id="__codelineno-21-12" name="__codelineno-21-12" href="#__codelineno-21-12"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">previous_error</span> <span class="o">=</span> <span class="mf">0.0</span>
</span><span id="__span-21-13"><a id="__codelineno-21-13" name="__codelineno-21-13" href="#__codelineno-21-13"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">integral_sum</span> <span class="o">=</span> <span class="mf">0.0</span>
</span><span id="__span-21-14"><a id="__codelineno-21-14" name="__codelineno-21-14" href="#__codelineno-21-14"></a>
</span><span id="__span-21-15"><a id="__codelineno-21-15" name="__codelineno-21-15" href="#__codelineno-21-15"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">heater_power</span> <span class="o">=</span> <span class="mf">0.0</span>  <span class="c1"># 0-100% heater output</span>
</span><span id="__span-21-16"><a id="__codelineno-21-16" name="__codelineno-21-16" href="#__codelineno-21-16"></a>
</span><span id="__span-21-17"><a id="__codelineno-21-17" name="__codelineno-21-17" href="#__codelineno-21-17"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">pid_control_step</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-21-18"><a id="__codelineno-21-18" name="__codelineno-21-18" href="#__codelineno-21-18"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;One iteration of PID control - call this continuously!&quot;&quot;&quot;</span>
</span><span id="__span-21-19"><a id="__codelineno-21-19" name="__codelineno-21-19" href="#__codelineno-21-19"></a>
</span><span id="__span-21-20"><a id="__codelineno-21-20" name="__codelineno-21-20" href="#__codelineno-21-20"></a>        <span class="c1"># STEP 1: Calculate current error</span>
</span><span id="__span-21-21"><a id="__codelineno-21-21" name="__codelineno-21-21" href="#__codelineno-21-21"></a>        <span class="n">error</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">target_temp</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_temp</span>
</span><span id="__span-21-22"><a id="__codelineno-21-22" name="__codelineno-21-22" href="#__codelineno-21-22"></a>
</span><span id="__span-21-23"><a id="__codelineno-21-23" name="__codelineno-21-23" href="#__codelineno-21-23"></a>        <span class="c1"># STEP 2: Proportional term - immediate response to current error</span>
</span><span id="__span-21-24"><a id="__codelineno-21-24" name="__codelineno-21-24" href="#__codelineno-21-24"></a>        <span class="n">proportional</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Kp</span> <span class="o">*</span> <span class="n">error</span>
</span><span id="__span-21-25"><a id="__codelineno-21-25" name="__codelineno-21-25" href="#__codelineno-21-25"></a>
</span><span id="__span-21-26"><a id="__codelineno-21-26" name="__codelineno-21-26" href="#__codelineno-21-26"></a>        <span class="c1"># STEP 3: Integral term - learn from accumulated past errors</span>
</span><span id="__span-21-27"><a id="__codelineno-21-27" name="__codelineno-21-27" href="#__codelineno-21-27"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">integral_sum</span> <span class="o">+=</span> <span class="n">error</span>
</span><span id="__span-21-28"><a id="__codelineno-21-28" name="__codelineno-21-28" href="#__codelineno-21-28"></a>        <span class="n">integral</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Ki</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">integral_sum</span>
</span><span id="__span-21-29"><a id="__codelineno-21-29" name="__codelineno-21-29" href="#__codelineno-21-29"></a>
</span><span id="__span-21-30"><a id="__codelineno-21-30" name="__codelineno-21-30" href="#__codelineno-21-30"></a>        <span class="c1"># STEP 4: Derivative term - predict future based on error trend</span>
</span><span id="__span-21-31"><a id="__codelineno-21-31" name="__codelineno-21-31" href="#__codelineno-21-31"></a>        <span class="n">derivative</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Kd</span> <span class="o">*</span> <span class="p">(</span><span class="n">error</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">previous_error</span><span class="p">)</span>
</span><span id="__span-21-32"><a id="__codelineno-21-32" name="__codelineno-21-32" href="#__codelineno-21-32"></a>
</span><span id="__span-21-33"><a id="__codelineno-21-33" name="__codelineno-21-33" href="#__codelineno-21-33"></a>        <span class="c1"># STEP 5: Combine all three terms</span>
</span><span id="__span-21-34"><a id="__codelineno-21-34" name="__codelineno-21-34" href="#__codelineno-21-34"></a>        <span class="n">control_output</span> <span class="o">=</span> <span class="n">proportional</span> <span class="o">+</span> <span class="n">integral</span> <span class="o">+</span> <span class="n">derivative</span>
</span><span id="__span-21-35"><a id="__codelineno-21-35" name="__codelineno-21-35" href="#__codelineno-21-35"></a>
</span><span id="__span-21-36"><a id="__codelineno-21-36" name="__codelineno-21-36" href="#__codelineno-21-36"></a>        <span class="c1"># STEP 6: Convert to heater power (0-100%)</span>
</span><span id="__span-21-37"><a id="__codelineno-21-37" name="__codelineno-21-37" href="#__codelineno-21-37"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">heater_power</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">control_output</span><span class="p">))</span>
</span><span id="__span-21-38"><a id="__codelineno-21-38" name="__codelineno-21-38" href="#__codelineno-21-38"></a>
</span><span id="__span-21-39"><a id="__codelineno-21-39" name="__codelineno-21-39" href="#__codelineno-21-39"></a>        <span class="c1"># STEP 7: Apply control to physical system</span>
</span><span id="__span-21-40"><a id="__codelineno-21-40" name="__codelineno-21-40" href="#__codelineno-21-40"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">apply_heating</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">heater_power</span><span class="p">)</span>
</span><span id="__span-21-41"><a id="__codelineno-21-41" name="__codelineno-21-41" href="#__codelineno-21-41"></a>
</span><span id="__span-21-42"><a id="__codelineno-21-42" name="__codelineno-21-42" href="#__codelineno-21-42"></a>        <span class="c1"># STEP 8: Remember this error for next time</span>
</span><span id="__span-21-43"><a id="__codelineno-21-43" name="__codelineno-21-43" href="#__codelineno-21-43"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">previous_error</span> <span class="o">=</span> <span class="n">error</span>
</span><span id="__span-21-44"><a id="__codelineno-21-44" name="__codelineno-21-44" href="#__codelineno-21-44"></a>
</span><span id="__span-21-45"><a id="__codelineno-21-45" name="__codelineno-21-45" href="#__codelineno-21-45"></a>        <span class="c1"># Debug output to understand what&#39;s happening</span>
</span><span id="__span-21-46"><a id="__codelineno-21-46" name="__codelineno-21-46" href="#__codelineno-21-46"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Temp: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">current_temp</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">°C, Target: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">target_temp</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">°C&quot;</span><span class="p">)</span>
</span><span id="__span-21-47"><a id="__codelineno-21-47" name="__codelineno-21-47" href="#__codelineno-21-47"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;P: </span><span class="si">{</span><span class="n">proportional</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">, I: </span><span class="si">{</span><span class="n">integral</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">, D: </span><span class="si">{</span><span class="n">derivative</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-21-48"><a id="__codelineno-21-48" name="__codelineno-21-48" href="#__codelineno-21-48"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Heater Power: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">heater_power</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
</span><span id="__span-21-49"><a id="__codelineno-21-49" name="__codelineno-21-49" href="#__codelineno-21-49"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="mi">40</span><span class="p">)</span>
</span><span id="__span-21-50"><a id="__codelineno-21-50" name="__codelineno-21-50" href="#__codelineno-21-50"></a>
</span><span id="__span-21-51"><a id="__codelineno-21-51" name="__codelineno-21-51" href="#__codelineno-21-51"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">heater_power</span>
</span><span id="__span-21-52"><a id="__codelineno-21-52" name="__codelineno-21-52" href="#__codelineno-21-52"></a>
</span><span id="__span-21-53"><a id="__codelineno-21-53" name="__codelineno-21-53" href="#__codelineno-21-53"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">apply_heating</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">power_percent</span><span class="p">):</span>
</span><span id="__span-21-54"><a id="__codelineno-21-54" name="__codelineno-21-54" href="#__codelineno-21-54"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Simulate the physical heating process&quot;&quot;&quot;</span>
</span><span id="__span-21-55"><a id="__codelineno-21-55" name="__codelineno-21-55" href="#__codelineno-21-55"></a>        <span class="c1"># Heat added based on heater power</span>
</span><span id="__span-21-56"><a id="__codelineno-21-56" name="__codelineno-21-56" href="#__codelineno-21-56"></a>        <span class="n">heat_added</span> <span class="o">=</span> <span class="n">power_percent</span> <span class="o">*</span> <span class="mf">0.05</span>  <span class="c1"># 0.05°C per % of power</span>
</span><span id="__span-21-57"><a id="__codelineno-21-57" name="__codelineno-21-57" href="#__codelineno-21-57"></a>
</span><span id="__span-21-58"><a id="__codelineno-21-58" name="__codelineno-21-58" href="#__codelineno-21-58"></a>        <span class="c1"># Heat lost to environment (room cools down naturally)</span>
</span><span id="__span-21-59"><a id="__codelineno-21-59" name="__codelineno-21-59" href="#__codelineno-21-59"></a>        <span class="n">heat_lost</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_temp</span> <span class="o">-</span> <span class="mf">20.0</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.02</span>  <span class="c1"># Proportional to temp difference</span>
</span><span id="__span-21-60"><a id="__codelineno-21-60" name="__codelineno-21-60" href="#__codelineno-21-60"></a>
</span><span id="__span-21-61"><a id="__codelineno-21-61" name="__codelineno-21-61" href="#__codelineno-21-61"></a>        <span class="c1"># Update temperature based on physics</span>
</span><span id="__span-21-62"><a id="__codelineno-21-62" name="__codelineno-21-62" href="#__codelineno-21-62"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">current_temp</span> <span class="o">+=</span> <span class="n">heat_added</span> <span class="o">-</span> <span class="n">heat_lost</span>
</span><span id="__span-21-63"><a id="__codelineno-21-63" name="__codelineno-21-63" href="#__codelineno-21-63"></a>
</span><span id="__span-21-64"><a id="__codelineno-21-64" name="__codelineno-21-64" href="#__codelineno-21-64"></a>        <span class="c1"># Simulate sensor noise (real world is never perfect!)</span>
</span><span id="__span-21-65"><a id="__codelineno-21-65" name="__codelineno-21-65" href="#__codelineno-21-65"></a>        <span class="kn">import</span><span class="w"> </span><span class="nn">random</span>
</span><span id="__span-21-66"><a id="__codelineno-21-66" name="__codelineno-21-66" href="#__codelineno-21-66"></a>        <span class="n">sensor_noise</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
</span><span id="__span-21-67"><a id="__codelineno-21-67" name="__codelineno-21-67" href="#__codelineno-21-67"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">current_temp</span> <span class="o">+=</span> <span class="n">sensor_noise</span>
</span><span id="__span-21-68"><a id="__codelineno-21-68" name="__codelineno-21-68" href="#__codelineno-21-68"></a>
</span><span id="__span-21-69"><a id="__codelineno-21-69" name="__codelineno-21-69" href="#__codelineno-21-69"></a><span class="c1"># Demo: Watch PID control in action!</span>
</span><span id="__span-21-70"><a id="__codelineno-21-70" name="__codelineno-21-70" href="#__codelineno-21-70"></a><span class="k">def</span><span class="w"> </span><span class="nf">demonstrate_pid_control</span><span class="p">():</span>
</span><span id="__span-21-71"><a id="__codelineno-21-71" name="__codelineno-21-71" href="#__codelineno-21-71"></a>    <span class="n">thermostat</span> <span class="o">=</span> <span class="n">SmartThermostat</span><span class="p">()</span>
</span><span id="__span-21-72"><a id="__codelineno-21-72" name="__codelineno-21-72" href="#__codelineno-21-72"></a>
</span><span id="__span-21-73"><a id="__codelineno-21-73" name="__codelineno-21-73" href="#__codelineno-21-73"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;🌡️ Smart Thermostat PID Control Demo&quot;</span><span class="p">)</span>
</span><span id="__span-21-74"><a id="__codelineno-21-74" name="__codelineno-21-74" href="#__codelineno-21-74"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=&quot;</span> <span class="o">*</span> <span class="mi">50</span><span class="p">)</span>
</span><span id="__span-21-75"><a id="__codelineno-21-75" name="__codelineno-21-75" href="#__codelineno-21-75"></a>
</span><span id="__span-21-76"><a id="__codelineno-21-76" name="__codelineno-21-76" href="#__codelineno-21-76"></a>    <span class="c1"># Simulate 30 seconds of control (30 iterations)</span>
</span><span id="__span-21-77"><a id="__codelineno-21-77" name="__codelineno-21-77" href="#__codelineno-21-77"></a>    <span class="k">for</span> <span class="n">second</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">30</span><span class="p">):</span>
</span><span id="__span-21-78"><a id="__codelineno-21-78" name="__codelineno-21-78" href="#__codelineno-21-78"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Time: </span><span class="si">{</span><span class="n">second</span><span class="si">}</span><span class="s2">s&quot;</span><span class="p">)</span>
</span><span id="__span-21-79"><a id="__codelineno-21-79" name="__codelineno-21-79" href="#__codelineno-21-79"></a>        <span class="n">thermostat</span><span class="o">.</span><span class="n">pid_control_step</span><span class="p">()</span>
</span><span id="__span-21-80"><a id="__codelineno-21-80" name="__codelineno-21-80" href="#__codelineno-21-80"></a>
</span><span id="__span-21-81"><a id="__codelineno-21-81" name="__codelineno-21-81" href="#__codelineno-21-81"></a>        <span class="c1"># Simulate external disturbance (someone opens a window!)</span>
</span><span id="__span-21-82"><a id="__codelineno-21-82" name="__codelineno-21-82" href="#__codelineno-21-82"></a>        <span class="k">if</span> <span class="n">second</span> <span class="o">==</span> <span class="mi">15</span><span class="p">:</span>
</span><span id="__span-21-83"><a id="__codelineno-21-83" name="__codelineno-21-83" href="#__codelineno-21-83"></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;🌬️ DISTURBANCE: Window opened - temperature drops!&quot;</span><span class="p">)</span>
</span><span id="__span-21-84"><a id="__codelineno-21-84" name="__codelineno-21-84" href="#__codelineno-21-84"></a>            <span class="n">thermostat</span><span class="o">.</span><span class="n">current_temp</span> <span class="o">-=</span> <span class="mf">3.0</span>
</span><span id="__span-21-85"><a id="__codelineno-21-85" name="__codelineno-21-85" href="#__codelineno-21-85"></a>
</span><span id="__span-21-86"><a id="__codelineno-21-86" name="__codelineno-21-86" href="#__codelineno-21-86"></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>  <span class="c1"># Small delay for visualization</span>
</span><span id="__span-21-87"><a id="__codelineno-21-87" name="__codelineno-21-87" href="#__codelineno-21-87"></a>
</span><span id="__span-21-88"><a id="__codelineno-21-88" name="__codelineno-21-88" href="#__codelineno-21-88"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;✅ Demo complete! Notice how PID control:&quot;</span><span class="p">)</span>
</span><span id="__span-21-89"><a id="__codelineno-21-89" name="__codelineno-21-89" href="#__codelineno-21-89"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;   - Quickly responds to temperature changes (P term)&quot;</span><span class="p">)</span>
</span><span id="__span-21-90"><a id="__codelineno-21-90" name="__codelineno-21-90" href="#__codelineno-21-90"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;   - Eliminates steady-state error over time (I term)&quot;</span><span class="p">)</span>  
</span><span id="__span-21-91"><a id="__codelineno-21-91" name="__codelineno-21-91" href="#__codelineno-21-91"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;   - Reduces overshoot and oscillation (D term)&quot;</span><span class="p">)</span>
</span><span id="__span-21-92"><a id="__codelineno-21-92" name="__codelineno-21-92" href="#__codelineno-21-92"></a>
</span><span id="__span-21-93"><a id="__codelineno-21-93" name="__codelineno-21-93" href="#__codelineno-21-93"></a><span class="c1"># Run the demo</span>
</span><span id="__span-21-94"><a id="__codelineno-21-94" name="__codelineno-21-94" href="#__codelineno-21-94"></a><span class="n">demonstrate_pid_control</span><span class="p">()</span>
</span></code></pre></div></p>
<h4 id="gaming-connection-pid-in-action">🎮 <strong>Gaming Connection: PID in Action</strong><a class="headerlink" href="#gaming-connection-pid-in-action" title="Permanent link">&para;</a></h4>
<p>Racing games use PID control everywhere:</p>
<ul>
<li><strong>Steering assist:</strong> Helps keep your car on track without oversteering</li>
<li><strong>Adaptive AI:</strong> Computer opponents adjust their difficulty based on your performance</li>
<li><strong>Camera smoothing:</strong> Follows your car smoothly without jarring movements</li>
</ul>
<p>The same math that keeps your thermostat comfortable keeps your gaming experience smooth!</p>
<h4 id="robot-arm-position-control">🤖 <strong>Robot Arm Position Control</strong><a class="headerlink" href="#robot-arm-position-control" title="Permanent link">&para;</a></h4>
<p>Let's see PID control a robot arm with realistic physics:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">RobotArmController</span><span class="p">:</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>        <span class="c1"># Physical parameters</span>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">current_angle</span> <span class="o">=</span> <span class="mf">0.0</span>    <span class="c1"># degrees</span>
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">target_angle</span> <span class="o">=</span> <span class="mf">90.0</span>    <span class="c1"># degrees</span>
</span><span id="__span-22-6"><a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">velocity</span> <span class="o">=</span> <span class="mf">0.0</span>         <span class="c1"># degrees/second</span>
</span><span id="__span-22-7"><a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">motor_torque</span> <span class="o">=</span> <span class="mf">0.0</span>     <span class="c1"># Nm</span>
</span><span id="__span-22-8"><a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a>
</span><span id="__span-22-9"><a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a>        <span class="c1"># PID parameters (tuned for smooth arm movement)</span>
</span><span id="__span-22-10"><a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">Kp</span> <span class="o">=</span> <span class="mf">3.0</span>   <span class="c1"># Strong proportional response</span>
</span><span id="__span-22-11"><a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">Ki</span> <span class="o">=</span> <span class="mf">0.05</span>  <span class="c1"># Small integral to eliminate steady-state error</span>
</span><span id="__span-22-12"><a id="__codelineno-22-12" name="__codelineno-22-12" href="#__codelineno-22-12"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">Kd</span> <span class="o">=</span> <span class="mf">1.2</span>   <span class="c1"># Strong derivative to prevent overshoot</span>
</span><span id="__span-22-13"><a id="__codelineno-22-13" name="__codelineno-22-13" href="#__codelineno-22-13"></a>
</span><span id="__span-22-14"><a id="__codelineno-22-14" name="__codelineno-22-14" href="#__codelineno-22-14"></a>        <span class="c1"># Control history</span>
</span><span id="__span-22-15"><a id="__codelineno-22-15" name="__codelineno-22-15" href="#__codelineno-22-15"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">previous_error</span> <span class="o">=</span> <span class="mf">0.0</span>
</span><span id="__span-22-16"><a id="__codelineno-22-16" name="__codelineno-22-16" href="#__codelineno-22-16"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">integral_sum</span> <span class="o">=</span> <span class="mf">0.0</span>
</span><span id="__span-22-17"><a id="__codelineno-22-17" name="__codelineno-22-17" href="#__codelineno-22-17"></a>
</span><span id="__span-22-18"><a id="__codelineno-22-18" name="__codelineno-22-18" href="#__codelineno-22-18"></a>        <span class="c1"># Physical constraints</span>
</span><span id="__span-22-19"><a id="__codelineno-22-19" name="__codelineno-22-19" href="#__codelineno-22-19"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">max_torque</span> <span class="o">=</span> <span class="mf">10.0</span>      <span class="c1"># Motor torque limit</span>
</span><span id="__span-22-20"><a id="__codelineno-22-20" name="__codelineno-22-20" href="#__codelineno-22-20"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">arm_inertia</span> <span class="o">=</span> <span class="mf">0.5</span>      <span class="c1"># Rotational inertia (kg⋅m²)</span>
</span><span id="__span-22-21"><a id="__codelineno-22-21" name="__codelineno-22-21" href="#__codelineno-22-21"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">friction</span> <span class="o">=</span> <span class="mf">0.1</span>         <span class="c1"># Friction coefficient</span>
</span><span id="__span-22-22"><a id="__codelineno-22-22" name="__codelineno-22-22" href="#__codelineno-22-22"></a>
</span><span id="__span-22-23"><a id="__codelineno-22-23" name="__codelineno-22-23" href="#__codelineno-22-23"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">pid_control_loop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-22-24"><a id="__codelineno-22-24" name="__codelineno-22-24" href="#__codelineno-22-24"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Advanced PID control with realistic physics&quot;&quot;&quot;</span>
</span><span id="__span-22-25"><a id="__codelineno-22-25" name="__codelineno-22-25" href="#__codelineno-22-25"></a>
</span><span id="__span-22-26"><a id="__codelineno-22-26" name="__codelineno-22-26" href="#__codelineno-22-26"></a>        <span class="c1"># Calculate position error</span>
</span><span id="__span-22-27"><a id="__codelineno-22-27" name="__codelineno-22-27" href="#__codelineno-22-27"></a>        <span class="n">error</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">target_angle</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_angle</span>
</span><span id="__span-22-28"><a id="__codelineno-22-28" name="__codelineno-22-28" href="#__codelineno-22-28"></a>
</span><span id="__span-22-29"><a id="__codelineno-22-29" name="__codelineno-22-29" href="#__codelineno-22-29"></a>        <span class="c1"># PID calculations</span>
</span><span id="__span-22-30"><a id="__codelineno-22-30" name="__codelineno-22-30" href="#__codelineno-22-30"></a>        <span class="n">proportional</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Kp</span> <span class="o">*</span> <span class="n">error</span>
</span><span id="__span-22-31"><a id="__codelineno-22-31" name="__codelineno-22-31" href="#__codelineno-22-31"></a>
</span><span id="__span-22-32"><a id="__codelineno-22-32" name="__codelineno-22-32" href="#__codelineno-22-32"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">integral_sum</span> <span class="o">+=</span> <span class="n">error</span>
</span><span id="__span-22-33"><a id="__codelineno-22-33" name="__codelineno-22-33" href="#__codelineno-22-33"></a>        <span class="c1"># Prevent integral windup (common real-world problem!)</span>
</span><span id="__span-22-34"><a id="__codelineno-22-34" name="__codelineno-22-34" href="#__codelineno-22-34"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">integral_sum</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">integral_sum</span><span class="p">))</span>
</span><span id="__span-22-35"><a id="__codelineno-22-35" name="__codelineno-22-35" href="#__codelineno-22-35"></a>        <span class="n">integral</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Ki</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">integral_sum</span>
</span><span id="__span-22-36"><a id="__codelineno-22-36" name="__codelineno-22-36" href="#__codelineno-22-36"></a>
</span><span id="__span-22-37"><a id="__codelineno-22-37" name="__codelineno-22-37" href="#__codelineno-22-37"></a>        <span class="n">derivative</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Kd</span> <span class="o">*</span> <span class="p">(</span><span class="n">error</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">previous_error</span><span class="p">)</span>
</span><span id="__span-22-38"><a id="__codelineno-22-38" name="__codelineno-22-38" href="#__codelineno-22-38"></a>
</span><span id="__span-22-39"><a id="__codelineno-22-39" name="__codelineno-22-39" href="#__codelineno-22-39"></a>        <span class="c1"># Calculate desired motor torque</span>
</span><span id="__span-22-40"><a id="__codelineno-22-40" name="__codelineno-22-40" href="#__codelineno-22-40"></a>        <span class="n">desired_torque</span> <span class="o">=</span> <span class="n">proportional</span> <span class="o">+</span> <span class="n">integral</span> <span class="o">+</span> <span class="n">derivative</span>
</span><span id="__span-22-41"><a id="__codelineno-22-41" name="__codelineno-22-41" href="#__codelineno-22-41"></a>
</span><span id="__span-22-42"><a id="__codelineno-22-42" name="__codelineno-22-42" href="#__codelineno-22-42"></a>        <span class="c1"># Apply torque limits (motors have physical limits!)</span>
</span><span id="__span-22-43"><a id="__codelineno-22-43" name="__codelineno-22-43" href="#__codelineno-22-43"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">motor_torque</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">max_torque</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">max_torque</span><span class="p">,</span> <span class="n">desired_torque</span><span class="p">))</span>
</span><span id="__span-22-44"><a id="__codelineno-22-44" name="__codelineno-22-44" href="#__codelineno-22-44"></a>
</span><span id="__span-22-45"><a id="__codelineno-22-45" name="__codelineno-22-45" href="#__codelineno-22-45"></a>        <span class="c1"># Physics simulation: torque → acceleration → velocity → position</span>
</span><span id="__span-22-46"><a id="__codelineno-22-46" name="__codelineno-22-46" href="#__codelineno-22-46"></a>        <span class="n">acceleration</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">motor_torque</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">friction</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">velocity</span><span class="p">)</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">arm_inertia</span>
</span><span id="__span-22-47"><a id="__codelineno-22-47" name="__codelineno-22-47" href="#__codelineno-22-47"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">velocity</span> <span class="o">+=</span> <span class="n">acceleration</span> <span class="o">*</span> <span class="mf">0.01</span>  <span class="c1"># 10ms time step</span>
</span><span id="__span-22-48"><a id="__codelineno-22-48" name="__codelineno-22-48" href="#__codelineno-22-48"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">current_angle</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">velocity</span> <span class="o">*</span> <span class="mf">0.01</span>
</span><span id="__span-22-49"><a id="__codelineno-22-49" name="__codelineno-22-49" href="#__codelineno-22-49"></a>
</span><span id="__span-22-50"><a id="__codelineno-22-50" name="__codelineno-22-50" href="#__codelineno-22-50"></a>        <span class="c1"># Update for next iteration</span>
</span><span id="__span-22-51"><a id="__codelineno-22-51" name="__codelineno-22-51" href="#__codelineno-22-51"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">previous_error</span> <span class="o">=</span> <span class="n">error</span>
</span><span id="__span-22-52"><a id="__codelineno-22-52" name="__codelineno-22-52" href="#__codelineno-22-52"></a>
</span><span id="__span-22-53"><a id="__codelineno-22-53" name="__codelineno-22-53" href="#__codelineno-22-53"></a>        <span class="k">return</span> <span class="p">{</span>
</span><span id="__span-22-54"><a id="__codelineno-22-54" name="__codelineno-22-54" href="#__codelineno-22-54"></a>            <span class="s1">&#39;angle&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_angle</span><span class="p">,</span>
</span><span id="__span-22-55"><a id="__codelineno-22-55" name="__codelineno-22-55" href="#__codelineno-22-55"></a>            <span class="s1">&#39;target&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">target_angle</span><span class="p">,</span>
</span><span id="__span-22-56"><a id="__codelineno-22-56" name="__codelineno-22-56" href="#__codelineno-22-56"></a>            <span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="n">error</span><span class="p">,</span>
</span><span id="__span-22-57"><a id="__codelineno-22-57" name="__codelineno-22-57" href="#__codelineno-22-57"></a>            <span class="s1">&#39;torque&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">motor_torque</span><span class="p">,</span>
</span><span id="__span-22-58"><a id="__codelineno-22-58" name="__codelineno-22-58" href="#__codelineno-22-58"></a>            <span class="s1">&#39;velocity&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">velocity</span>
</span><span id="__span-22-59"><a id="__codelineno-22-59" name="__codelineno-22-59" href="#__codelineno-22-59"></a>        <span class="p">}</span>
</span><span id="__span-22-60"><a id="__codelineno-22-60" name="__codelineno-22-60" href="#__codelineno-22-60"></a>
</span><span id="__span-22-61"><a id="__codelineno-22-61" name="__codelineno-22-61" href="#__codelineno-22-61"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_target</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_target</span><span class="p">):</span>
</span><span id="__span-22-62"><a id="__codelineno-22-62" name="__codelineno-22-62" href="#__codelineno-22-62"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Change target position - watch PID adapt!&quot;&quot;&quot;</span>
</span><span id="__span-22-63"><a id="__codelineno-22-63" name="__codelineno-22-63" href="#__codelineno-22-63"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">target_angle</span> <span class="o">=</span> <span class="n">new_target</span>
</span><span id="__span-22-64"><a id="__codelineno-22-64" name="__codelineno-22-64" href="#__codelineno-22-64"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🎯 New target: </span><span class="si">{</span><span class="n">new_target</span><span class="si">}</span><span class="s2">°&quot;</span><span class="p">)</span>
</span><span id="__span-22-65"><a id="__codelineno-22-65" name="__codelineno-22-65" href="#__codelineno-22-65"></a>
</span><span id="__span-22-66"><a id="__codelineno-22-66" name="__codelineno-22-66" href="#__codelineno-22-66"></a><span class="c1"># Demo: Interactive robot arm control</span>
</span><span id="__span-22-67"><a id="__codelineno-22-67" name="__codelineno-22-67" href="#__codelineno-22-67"></a><span class="k">def</span><span class="w"> </span><span class="nf">robot_arm_demo</span><span class="p">():</span>
</span><span id="__span-22-68"><a id="__codelineno-22-68" name="__codelineno-22-68" href="#__codelineno-22-68"></a>    <span class="n">arm</span> <span class="o">=</span> <span class="n">RobotArmController</span><span class="p">()</span>
</span><span id="__span-22-69"><a id="__codelineno-22-69" name="__codelineno-22-69" href="#__codelineno-22-69"></a>
</span><span id="__span-22-70"><a id="__codelineno-22-70" name="__codelineno-22-70" href="#__codelineno-22-70"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;🤖 Robot Arm PID Control Demo&quot;</span><span class="p">)</span>
</span><span id="__span-22-71"><a id="__codelineno-22-71" name="__codelineno-22-71" href="#__codelineno-22-71"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=&quot;</span> <span class="o">*</span> <span class="mi">40</span><span class="p">)</span>
</span><span id="__span-22-72"><a id="__codelineno-22-72" name="__codelineno-22-72" href="#__codelineno-22-72"></a>
</span><span id="__span-22-73"><a id="__codelineno-22-73" name="__codelineno-22-73" href="#__codelineno-22-73"></a>    <span class="c1"># Sequence of movements</span>
</span><span id="__span-22-74"><a id="__codelineno-22-74" name="__codelineno-22-74" href="#__codelineno-22-74"></a>    <span class="n">targets</span> <span class="o">=</span> <span class="p">[</span><span class="mi">90</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mi">135</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">180</span><span class="p">]</span>
</span><span id="__span-22-75"><a id="__codelineno-22-75" name="__codelineno-22-75" href="#__codelineno-22-75"></a>
</span><span id="__span-22-76"><a id="__codelineno-22-76" name="__codelineno-22-76" href="#__codelineno-22-76"></a>    <span class="k">for</span> <span class="n">target</span> <span class="ow">in</span> <span class="n">targets</span><span class="p">:</span>
</span><span id="__span-22-77"><a id="__codelineno-22-77" name="__codelineno-22-77" href="#__codelineno-22-77"></a>        <span class="n">arm</span><span class="o">.</span><span class="n">set_target</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
</span><span id="__span-22-78"><a id="__codelineno-22-78" name="__codelineno-22-78" href="#__codelineno-22-78"></a>
</span><span id="__span-22-79"><a id="__codelineno-22-79" name="__codelineno-22-79" href="#__codelineno-22-79"></a>        <span class="c1"># Let PID control run for 3 seconds per target</span>
</span><span id="__span-22-80"><a id="__codelineno-22-80" name="__codelineno-22-80" href="#__codelineno-22-80"></a>        <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">300</span><span class="p">):</span>  <span class="c1"># 300 steps × 10ms = 3 seconds</span>
</span><span id="__span-22-81"><a id="__codelineno-22-81" name="__codelineno-22-81" href="#__codelineno-22-81"></a>            <span class="n">status</span> <span class="o">=</span> <span class="n">arm</span><span class="o">.</span><span class="n">pid_control_loop</span><span class="p">()</span>
</span><span id="__span-22-82"><a id="__codelineno-22-82" name="__codelineno-22-82" href="#__codelineno-22-82"></a>
</span><span id="__span-22-83"><a id="__codelineno-22-83" name="__codelineno-22-83" href="#__codelineno-22-83"></a>            <span class="c1"># Print status every 50 steps (0.5 seconds)</span>
</span><span id="__span-22-84"><a id="__codelineno-22-84" name="__codelineno-22-84" href="#__codelineno-22-84"></a>            <span class="k">if</span> <span class="n">step</span> <span class="o">%</span> <span class="mi">50</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="__span-22-85"><a id="__codelineno-22-85" name="__codelineno-22-85" href="#__codelineno-22-85"></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Angle: </span><span class="si">{</span><span class="n">status</span><span class="p">[</span><span class="s1">&#39;angle&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">° | &quot;</span>
</span><span id="__span-22-86"><a id="__codelineno-22-86" name="__codelineno-22-86" href="#__codelineno-22-86"></a>                      <span class="sa">f</span><span class="s2">&quot;Error: </span><span class="si">{</span><span class="n">status</span><span class="p">[</span><span class="s1">&#39;error&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">° | &quot;</span>
</span><span id="__span-22-87"><a id="__codelineno-22-87" name="__codelineno-22-87" href="#__codelineno-22-87"></a>                      <span class="sa">f</span><span class="s2">&quot;Torque: </span><span class="si">{</span><span class="n">status</span><span class="p">[</span><span class="s1">&#39;torque&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">Nm&quot;</span><span class="p">)</span>
</span><span id="__span-22-88"><a id="__codelineno-22-88" name="__codelineno-22-88" href="#__codelineno-22-88"></a>
</span><span id="__span-22-89"><a id="__codelineno-22-89" name="__codelineno-22-89" href="#__codelineno-22-89"></a>            <span class="c1"># Check if we&#39;ve reached the target (within 1 degree)</span>
</span><span id="__span-22-90"><a id="__codelineno-22-90" name="__codelineno-22-90" href="#__codelineno-22-90"></a>            <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">status</span><span class="p">[</span><span class="s1">&#39;error&#39;</span><span class="p">])</span> <span class="o">&lt;</span> <span class="mf">1.0</span> <span class="ow">and</span> <span class="nb">abs</span><span class="p">(</span><span class="n">status</span><span class="p">[</span><span class="s1">&#39;velocity&#39;</span><span class="p">])</span> <span class="o">&lt;</span> <span class="mf">0.5</span><span class="p">:</span>
</span><span id="__span-22-91"><a id="__codelineno-22-91" name="__codelineno-22-91" href="#__codelineno-22-91"></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ Target reached in </span><span class="si">{</span><span class="n">step</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">10</span><span class="si">}</span><span class="s2">ms!&quot;</span><span class="p">)</span>
</span><span id="__span-22-92"><a id="__codelineno-22-92" name="__codelineno-22-92" href="#__codelineno-22-92"></a>                <span class="k">break</span>
</span><span id="__span-22-93"><a id="__codelineno-22-93" name="__codelineno-22-93" href="#__codelineno-22-93"></a>
</span><span id="__span-22-94"><a id="__codelineno-22-94" name="__codelineno-22-94" href="#__codelineno-22-94"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="mi">40</span><span class="p">)</span>
</span><span id="__span-22-95"><a id="__codelineno-22-95" name="__codelineno-22-95" href="#__codelineno-22-95"></a>
</span><span id="__span-22-96"><a id="__codelineno-22-96" name="__codelineno-22-96" href="#__codelineno-22-96"></a><span class="n">robot_arm_demo</span><span class="p">()</span>
</span></code></pre></div>
<h4 id="advanced-control-techniques">⚡ <strong>Advanced Control Techniques</strong><a class="headerlink" href="#advanced-control-techniques" title="Permanent link">&para;</a></h4>
<p><strong>1. Feedforward Control - The Predictive Helper</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">feedforward_control</span><span class="p">(</span><span class="n">desired_velocity</span><span class="p">,</span> <span class="n">desired_acceleration</span><span class="p">):</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Predict what motor output we&#39;ll need - faster response!&quot;&quot;&quot;</span>
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a>
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a>    <span class="c1"># Based on system model: τ = J⋅α + b⋅ω + τ_gravity</span>
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a>    <span class="n">predicted_torque</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="__span-23-6"><a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a>        <span class="mf">0.5</span> <span class="o">*</span> <span class="n">desired_acceleration</span> <span class="o">+</span>    <span class="c1"># Inertia compensation</span>
</span><span id="__span-23-7"><a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a>        <span class="mf">0.1</span> <span class="o">*</span> <span class="n">desired_velocity</span> <span class="o">+</span>        <span class="c1"># Friction compensation  </span>
</span><span id="__span-23-8"><a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a>        <span class="mf">2.0</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">current_angle</span><span class="p">)</span>   <span class="c1"># Gravity compensation</span>
</span><span id="__span-23-9"><a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a>    <span class="p">)</span>
</span><span id="__span-23-10"><a id="__codelineno-23-10" name="__codelineno-23-10" href="#__codelineno-23-10"></a>
</span><span id="__span-23-11"><a id="__codelineno-23-11" name="__codelineno-23-11" href="#__codelineno-23-11"></a>    <span class="k">return</span> <span class="n">predicted_torque</span>
</span><span id="__span-23-12"><a id="__codelineno-23-12" name="__codelineno-23-12" href="#__codelineno-23-12"></a>
</span><span id="__span-23-13"><a id="__codelineno-23-13" name="__codelineno-23-13" href="#__codelineno-23-13"></a><span class="c1"># Combine with PID for superior performance</span>
</span><span id="__span-23-14"><a id="__codelineno-23-14" name="__codelineno-23-14" href="#__codelineno-23-14"></a><span class="n">total_torque</span> <span class="o">=</span> <span class="n">pid_output</span> <span class="o">+</span> <span class="n">feedforward_control</span><span class="p">(</span><span class="n">target_velocity</span><span class="p">,</span> <span class="n">target_acceleration</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>2. Adaptive Control - The Learning Controller</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">AdaptiveController</span><span class="p">:</span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">Kp</span> <span class="o">=</span> <span class="mf">2.0</span>  <span class="c1"># Start with reasonable guess</span>
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">performance_history</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-24-5"><a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a>
</span><span id="__span-24-6"><a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">adaptive_control_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">error</span><span class="p">):</span>
</span><span id="__span-24-7"><a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Automatically tune PID gains based on performance&quot;&quot;&quot;</span>
</span><span id="__span-24-8"><a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a>
</span><span id="__span-24-9"><a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a>        <span class="c1"># Calculate control output</span>
</span><span id="__span-24-10"><a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a>        <span class="n">output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Kp</span> <span class="o">*</span> <span class="n">error</span>
</span><span id="__span-24-11"><a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a>
</span><span id="__span-24-12"><a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a>        <span class="c1"># Monitor performance</span>
</span><span id="__span-24-13"><a id="__codelineno-24-13" name="__codelineno-24-13" href="#__codelineno-24-13"></a>        <span class="n">performance</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
</span><span id="__span-24-14"><a id="__codelineno-24-14" name="__codelineno-24-14" href="#__codelineno-24-14"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">performance_history</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">performance</span><span class="p">)</span>
</span><span id="__span-24-15"><a id="__codelineno-24-15" name="__codelineno-24-15" href="#__codelineno-24-15"></a>
</span><span id="__span-24-16"><a id="__codelineno-24-16" name="__codelineno-24-16" href="#__codelineno-24-16"></a>        <span class="c1"># Adapt gains every 100 steps</span>
</span><span id="__span-24-17"><a id="__codelineno-24-17" name="__codelineno-24-17" href="#__codelineno-24-17"></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">performance_history</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">100</span><span class="p">:</span>
</span><span id="__span-24-18"><a id="__codelineno-24-18" name="__codelineno-24-18" href="#__codelineno-24-18"></a>            <span class="n">avg_error</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">performance_history</span><span class="p">[</span><span class="o">-</span><span class="mi">100</span><span class="p">:])</span> <span class="o">/</span> <span class="mi">100</span>
</span><span id="__span-24-19"><a id="__codelineno-24-19" name="__codelineno-24-19" href="#__codelineno-24-19"></a>
</span><span id="__span-24-20"><a id="__codelineno-24-20" name="__codelineno-24-20" href="#__codelineno-24-20"></a>            <span class="k">if</span> <span class="n">avg_error</span> <span class="o">&gt;</span> <span class="mf">2.0</span><span class="p">:</span>  <span class="c1"># Poor performance - increase gain</span>
</span><span id="__span-24-21"><a id="__codelineno-24-21" name="__codelineno-24-21" href="#__codelineno-24-21"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">Kp</span> <span class="o">*=</span> <span class="mf">1.05</span>
</span><span id="__span-24-22"><a id="__codelineno-24-22" name="__codelineno-24-22" href="#__codelineno-24-22"></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;📈 Increasing Kp to </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">Kp</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-24-23"><a id="__codelineno-24-23" name="__codelineno-24-23" href="#__codelineno-24-23"></a>            <span class="k">elif</span> <span class="n">avg_error</span> <span class="o">&lt;</span> <span class="mf">0.5</span><span class="p">:</span>  <span class="c1"># Excellent performance - might be able to reduce gain</span>
</span><span id="__span-24-24"><a id="__codelineno-24-24" name="__codelineno-24-24" href="#__codelineno-24-24"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">Kp</span> <span class="o">*=</span> <span class="mf">0.98</span>
</span><span id="__span-24-25"><a id="__codelineno-24-25" name="__codelineno-24-25" href="#__codelineno-24-25"></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;📉 Reducing Kp to </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">Kp</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-24-26"><a id="__codelineno-24-26" name="__codelineno-24-26" href="#__codelineno-24-26"></a>
</span><span id="__span-24-27"><a id="__codelineno-24-27" name="__codelineno-24-27" href="#__codelineno-24-27"></a>        <span class="k">return</span> <span class="n">output</span>
</span></code></pre></div></p>
<p><strong>3. Cascaded Control - Multiple Loops Working Together</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">CascadedController</span><span class="p">:</span>
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Inner loop controls velocity, outer loop controls position&quot;&quot;&quot;</span>
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a>
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-25-5"><a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a>        <span class="c1"># Position controller (outer loop)</span>
</span><span id="__span-25-6"><a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">position_pid</span> <span class="o">=</span> <span class="n">PIDController</span><span class="p">(</span><span class="n">Kp</span><span class="o">=</span><span class="mf">5.0</span><span class="p">,</span> <span class="n">Ki</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">Kd</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>
</span><span id="__span-25-7"><a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a>
</span><span id="__span-25-8"><a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a>        <span class="c1"># Velocity controller (inner loop) </span>
</span><span id="__span-25-9"><a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">velocity_pid</span> <span class="o">=</span> <span class="n">PIDController</span><span class="p">(</span><span class="n">Kp</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">Ki</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">Kd</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
</span><span id="__span-25-10"><a id="__codelineno-25-10" name="__codelineno-25-10" href="#__codelineno-25-10"></a>
</span><span id="__span-25-11"><a id="__codelineno-25-11" name="__codelineno-25-11" href="#__codelineno-25-11"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">control_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target_position</span><span class="p">,</span> <span class="n">current_position</span><span class="p">,</span> <span class="n">current_velocity</span><span class="p">):</span>
</span><span id="__span-25-12"><a id="__codelineno-25-12" name="__codelineno-25-12" href="#__codelineno-25-12"></a>        <span class="c1"># Outer loop: position error → desired velocity</span>
</span><span id="__span-25-13"><a id="__codelineno-25-13" name="__codelineno-25-13" href="#__codelineno-25-13"></a>        <span class="n">desired_velocity</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">position_pid</span><span class="o">.</span><span class="n">calculate</span><span class="p">(</span><span class="n">target_position</span><span class="p">,</span> <span class="n">current_position</span><span class="p">)</span>
</span><span id="__span-25-14"><a id="__codelineno-25-14" name="__codelineno-25-14" href="#__codelineno-25-14"></a>
</span><span id="__span-25-15"><a id="__codelineno-25-15" name="__codelineno-25-15" href="#__codelineno-25-15"></a>        <span class="c1"># Inner loop: velocity error → motor torque</span>
</span><span id="__span-25-16"><a id="__codelineno-25-16" name="__codelineno-25-16" href="#__codelineno-25-16"></a>        <span class="n">motor_torque</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">velocity_pid</span><span class="o">.</span><span class="n">calculate</span><span class="p">(</span><span class="n">desired_velocity</span><span class="p">,</span> <span class="n">current_velocity</span><span class="p">)</span>
</span><span id="__span-25-17"><a id="__codelineno-25-17" name="__codelineno-25-17" href="#__codelineno-25-17"></a>
</span><span id="__span-25-18"><a id="__codelineno-25-18" name="__codelineno-25-18" href="#__codelineno-25-18"></a>        <span class="k">return</span> <span class="n">motor_torque</span>
</span></code></pre></div></p>
<p>This cascaded approach gives much better performance for complex systems - it's like having a GPS (position control) and cruise control (velocity control) working together in your car!</p>
<h3 id="performance-enhancement-making-your-robot-lightning-fast">Performance Enhancement: Making Your Robot Lightning Fast ⚡🚀<a class="headerlink" href="#performance-enhancement-making-your-robot-lightning-fast" title="Permanent link">&para;</a></h3>
<p>Think of performance enhancement like tuning a race car - you can have the best engine (controller) in the world, but without proper tuning, you'll still lose the race! Let's explore advanced techniques that professional roboticists use to make their systems faster, smoother, and more responsive.</p>
<h4 id="feedforward-compensation-the-crystal-ball-technique">🔮 <strong>Feedforward Compensation: The Crystal Ball Technique</strong><a class="headerlink" href="#feedforward-compensation-the-crystal-ball-technique" title="Permanent link">&para;</a></h4>
<p>Imagine if you could predict the future and act before problems occur - that's exactly what feedforward control does! Instead of waiting for errors to happen and then reacting (like PID), feedforward predicts what the system needs and provides it proactively.</p>
<p><strong>The Restaurant Analogy:</strong>
- <strong>Feedback Control (PID):</strong> Wait for customers to complain about slow service, then add more staff
- <strong>Feedforward Control:</strong> See a bus of tourists arriving and immediately call in extra staff</p>
<p><strong>Real-World Example: Robotic 3D Printer Head</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">Advanced3DPrinterController</span><span class="p">:</span>
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a>        <span class="c1"># System parameters learned from calibration</span>
</span><span id="__span-26-4"><a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">nozzle_mass</span> <span class="o">=</span> <span class="mf">0.05</span>  <span class="c1"># kg</span>
</span><span id="__span-26-5"><a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">belt_friction</span> <span class="o">=</span> <span class="mf">0.02</span>  <span class="c1"># N⋅s/m</span>
</span><span id="__span-26-6"><a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">motor_efficiency</span> <span class="o">=</span> <span class="mf">0.85</span>
</span><span id="__span-26-7"><a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a>
</span><span id="__span-26-8"><a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a>        <span class="c1"># PID controller for feedback</span>
</span><span id="__span-26-9"><a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pid</span> <span class="o">=</span> <span class="n">PIDController</span><span class="p">(</span><span class="n">Kp</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">Ki</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">Kd</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
</span><span id="__span-26-10"><a id="__codelineno-26-10" name="__codelineno-26-10" href="#__codelineno-26-10"></a>
</span><span id="__span-26-11"><a id="__codelineno-26-11" name="__codelineno-26-11" href="#__codelineno-26-11"></a>        <span class="c1"># Feedforward model of the system</span>
</span><span id="__span-26-12"><a id="__codelineno-26-12" name="__codelineno-26-12" href="#__codelineno-26-12"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">motion_profile</span> <span class="o">=</span> <span class="n">MotionProfile</span><span class="p">()</span>
</span><span id="__span-26-13"><a id="__codelineno-26-13" name="__codelineno-26-13" href="#__codelineno-26-13"></a>
</span><span id="__span-26-14"><a id="__codelineno-26-14" name="__codelineno-26-14" href="#__codelineno-26-14"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">calculate_feedforward_force</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">desired_velocity</span><span class="p">,</span> <span class="n">desired_acceleration</span><span class="p">):</span>
</span><span id="__span-26-15"><a id="__codelineno-26-15" name="__codelineno-26-15" href="#__codelineno-26-15"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Predict exactly what force we&#39;ll need - physics-based!&quot;&quot;&quot;</span>
</span><span id="__span-26-16"><a id="__codelineno-26-16" name="__codelineno-26-16" href="#__codelineno-26-16"></a>
</span><span id="__span-26-17"><a id="__codelineno-26-17" name="__codelineno-26-17" href="#__codelineno-26-17"></a>        <span class="c1"># Newton&#39;s Second Law: F = ma (force needed for acceleration)</span>
</span><span id="__span-26-18"><a id="__codelineno-26-18" name="__codelineno-26-18" href="#__codelineno-26-18"></a>        <span class="n">inertial_force</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nozzle_mass</span> <span class="o">*</span> <span class="n">desired_acceleration</span>
</span><span id="__span-26-19"><a id="__codelineno-26-19" name="__codelineno-26-19" href="#__codelineno-26-19"></a>
</span><span id="__span-26-20"><a id="__codelineno-26-20" name="__codelineno-26-20" href="#__codelineno-26-20"></a>        <span class="c1"># Overcome friction proportional to velocity</span>
</span><span id="__span-26-21"><a id="__codelineno-26-21" name="__codelineno-26-21" href="#__codelineno-26-21"></a>        <span class="n">friction_force</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">belt_friction</span> <span class="o">*</span> <span class="n">desired_velocity</span>
</span><span id="__span-26-22"><a id="__codelineno-26-22" name="__codelineno-26-22" href="#__codelineno-26-22"></a>
</span><span id="__span-26-23"><a id="__codelineno-26-23" name="__codelineno-26-23" href="#__codelineno-26-23"></a>        <span class="c1"># Compensate for motor inefficiency</span>
</span><span id="__span-26-24"><a id="__codelineno-26-24" name="__codelineno-26-24" href="#__codelineno-26-24"></a>        <span class="n">total_predicted_force</span> <span class="o">=</span> <span class="p">(</span><span class="n">inertial_force</span> <span class="o">+</span> <span class="n">friction_force</span><span class="p">)</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">motor_efficiency</span>
</span><span id="__span-26-25"><a id="__codelineno-26-25" name="__codelineno-26-25" href="#__codelineno-26-25"></a>
</span><span id="__span-26-26"><a id="__codelineno-26-26" name="__codelineno-26-26" href="#__codelineno-26-26"></a>        <span class="k">return</span> <span class="n">total_predicted_force</span>
</span><span id="__span-26-27"><a id="__codelineno-26-27" name="__codelineno-26-27" href="#__codelineno-26-27"></a>
</span><span id="__span-26-28"><a id="__codelineno-26-28" name="__codelineno-26-28" href="#__codelineno-26-28"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">enhanced_position_control</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target_position</span><span class="p">,</span> <span class="n">current_position</span><span class="p">,</span> <span class="n">current_velocity</span><span class="p">):</span>
</span><span id="__span-26-29"><a id="__codelineno-26-29" name="__codelineno-26-29" href="#__codelineno-26-29"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Combine feedforward prediction with feedback correction&quot;&quot;&quot;</span>
</span><span id="__span-26-30"><a id="__codelineno-26-30" name="__codelineno-26-30" href="#__codelineno-26-30"></a>
</span><span id="__span-26-31"><a id="__codelineno-26-31" name="__codelineno-26-31" href="#__codelineno-26-31"></a>        <span class="c1"># Generate smooth motion profile to target</span>
</span><span id="__span-26-32"><a id="__codelineno-26-32" name="__codelineno-26-32" href="#__codelineno-26-32"></a>        <span class="n">motion_plan</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">motion_profile</span><span class="o">.</span><span class="n">calculate</span><span class="p">(</span>
</span><span id="__span-26-33"><a id="__codelineno-26-33" name="__codelineno-26-33" href="#__codelineno-26-33"></a>            <span class="n">start</span><span class="o">=</span><span class="n">current_position</span><span class="p">,</span>
</span><span id="__span-26-34"><a id="__codelineno-26-34" name="__codelineno-26-34" href="#__codelineno-26-34"></a>            <span class="n">end</span><span class="o">=</span><span class="n">target_position</span><span class="p">,</span>
</span><span id="__span-26-35"><a id="__codelineno-26-35" name="__codelineno-26-35" href="#__codelineno-26-35"></a>            <span class="n">max_velocity</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>  <span class="c1"># mm/s</span>
</span><span id="__span-26-36"><a id="__codelineno-26-36" name="__codelineno-26-36" href="#__codelineno-26-36"></a>            <span class="n">max_acceleration</span><span class="o">=</span><span class="mi">200</span>  <span class="c1"># mm/s²</span>
</span><span id="__span-26-37"><a id="__codelineno-26-37" name="__codelineno-26-37" href="#__codelineno-26-37"></a>        <span class="p">)</span>
</span><span id="__span-26-38"><a id="__codelineno-26-38" name="__codelineno-26-38" href="#__codelineno-26-38"></a>
</span><span id="__span-26-39"><a id="__codelineno-26-39" name="__codelineno-26-39" href="#__codelineno-26-39"></a>        <span class="c1"># FEEDFORWARD: Predict what we need based on physics</span>
</span><span id="__span-26-40"><a id="__codelineno-26-40" name="__codelineno-26-40" href="#__codelineno-26-40"></a>        <span class="n">feedforward_force</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calculate_feedforward_force</span><span class="p">(</span>
</span><span id="__span-26-41"><a id="__codelineno-26-41" name="__codelineno-26-41" href="#__codelineno-26-41"></a>            <span class="n">motion_plan</span><span class="o">.</span><span class="n">desired_velocity</span><span class="p">,</span>
</span><span id="__span-26-42"><a id="__codelineno-26-42" name="__codelineno-26-42" href="#__codelineno-26-42"></a>            <span class="n">motion_plan</span><span class="o">.</span><span class="n">desired_acceleration</span>
</span><span id="__span-26-43"><a id="__codelineno-26-43" name="__codelineno-26-43" href="#__codelineno-26-43"></a>        <span class="p">)</span>
</span><span id="__span-26-44"><a id="__codelineno-26-44" name="__codelineno-26-44" href="#__codelineno-26-44"></a>
</span><span id="__span-26-45"><a id="__codelineno-26-45" name="__codelineno-26-45" href="#__codelineno-26-45"></a>        <span class="c1"># FEEDBACK: Correct for any prediction errors</span>
</span><span id="__span-26-46"><a id="__codelineno-26-46" name="__codelineno-26-46" href="#__codelineno-26-46"></a>        <span class="n">position_error</span> <span class="o">=</span> <span class="n">motion_plan</span><span class="o">.</span><span class="n">desired_position</span> <span class="o">-</span> <span class="n">current_position</span>
</span><span id="__span-26-47"><a id="__codelineno-26-47" name="__codelineno-26-47" href="#__codelineno-26-47"></a>        <span class="n">feedback_force</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="o">.</span><span class="n">calculate</span><span class="p">(</span><span class="n">position_error</span><span class="p">)</span>
</span><span id="__span-26-48"><a id="__codelineno-26-48" name="__codelineno-26-48" href="#__codelineno-26-48"></a>
</span><span id="__span-26-49"><a id="__codelineno-26-49" name="__codelineno-26-49" href="#__codelineno-26-49"></a>        <span class="c1"># Combine both for superior performance</span>
</span><span id="__span-26-50"><a id="__codelineno-26-50" name="__codelineno-26-50" href="#__codelineno-26-50"></a>        <span class="n">total_force</span> <span class="o">=</span> <span class="n">feedforward_force</span> <span class="o">+</span> <span class="n">feedback_force</span>
</span><span id="__span-26-51"><a id="__codelineno-26-51" name="__codelineno-26-51" href="#__codelineno-26-51"></a>
</span><span id="__span-26-52"><a id="__codelineno-26-52" name="__codelineno-26-52" href="#__codelineno-26-52"></a>        <span class="c1"># Convert force to motor PWM signal</span>
</span><span id="__span-26-53"><a id="__codelineno-26-53" name="__codelineno-26-53" href="#__codelineno-26-53"></a>        <span class="n">motor_pwm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">force_to_pwm</span><span class="p">(</span><span class="n">total_force</span><span class="p">)</span>
</span><span id="__span-26-54"><a id="__codelineno-26-54" name="__codelineno-26-54" href="#__codelineno-26-54"></a>
</span><span id="__span-26-55"><a id="__codelineno-26-55" name="__codelineno-26-55" href="#__codelineno-26-55"></a>        <span class="k">return</span> <span class="p">{</span>
</span><span id="__span-26-56"><a id="__codelineno-26-56" name="__codelineno-26-56" href="#__codelineno-26-56"></a>            <span class="s1">&#39;motor_command&#39;</span><span class="p">:</span> <span class="n">motor_pwm</span><span class="p">,</span>
</span><span id="__span-26-57"><a id="__codelineno-26-57" name="__codelineno-26-57" href="#__codelineno-26-57"></a>            <span class="s1">&#39;feedforward_contribution&#39;</span><span class="p">:</span> <span class="n">feedforward_force</span><span class="p">,</span>
</span><span id="__span-26-58"><a id="__codelineno-26-58" name="__codelineno-26-58" href="#__codelineno-26-58"></a>            <span class="s1">&#39;feedback_contribution&#39;</span><span class="p">:</span> <span class="n">feedback_force</span><span class="p">,</span>
</span><span id="__span-26-59"><a id="__codelineno-26-59" name="__codelineno-26-59" href="#__codelineno-26-59"></a>            <span class="s1">&#39;predicted_position&#39;</span><span class="p">:</span> <span class="n">motion_plan</span><span class="o">.</span><span class="n">desired_position</span><span class="p">,</span>
</span><span id="__span-26-60"><a id="__codelineno-26-60" name="__codelineno-26-60" href="#__codelineno-26-60"></a>            <span class="s1">&#39;position_error&#39;</span><span class="p">:</span> <span class="n">position_error</span>
</span><span id="__span-26-61"><a id="__codelineno-26-61" name="__codelineno-26-61" href="#__codelineno-26-61"></a>        <span class="p">}</span>
</span><span id="__span-26-62"><a id="__codelineno-26-62" name="__codelineno-26-62" href="#__codelineno-26-62"></a>
</span><span id="__span-26-63"><a id="__codelineno-26-63" name="__codelineno-26-63" href="#__codelineno-26-63"></a><span class="k">class</span><span class="w"> </span><span class="nc">MotionProfile</span><span class="p">:</span>
</span><span id="__span-26-64"><a id="__codelineno-26-64" name="__codelineno-26-64" href="#__codelineno-26-64"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Generate smooth, efficient motion paths&quot;&quot;&quot;</span>
</span><span id="__span-26-65"><a id="__codelineno-26-65" name="__codelineno-26-65" href="#__codelineno-26-65"></a>
</span><span id="__span-26-66"><a id="__codelineno-26-66" name="__codelineno-26-66" href="#__codelineno-26-66"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">calculate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">max_velocity</span><span class="p">,</span> <span class="n">max_acceleration</span><span class="p">):</span>
</span><span id="__span-26-67"><a id="__codelineno-26-67" name="__codelineno-26-67" href="#__codelineno-26-67"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Create trapezoidal velocity profile - like how elevators move smoothly&quot;&quot;&quot;</span>
</span><span id="__span-26-68"><a id="__codelineno-26-68" name="__codelineno-26-68" href="#__codelineno-26-68"></a>
</span><span id="__span-26-69"><a id="__codelineno-26-69" name="__codelineno-26-69" href="#__codelineno-26-69"></a>        <span class="n">distance</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span>
</span><span id="__span-26-70"><a id="__codelineno-26-70" name="__codelineno-26-70" href="#__codelineno-26-70"></a>        <span class="n">direction</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">end</span> <span class="o">&gt;</span> <span class="n">start</span> <span class="k">else</span> <span class="o">-</span><span class="mi">1</span>
</span><span id="__span-26-71"><a id="__codelineno-26-71" name="__codelineno-26-71" href="#__codelineno-26-71"></a>
</span><span id="__span-26-72"><a id="__codelineno-26-72" name="__codelineno-26-72" href="#__codelineno-26-72"></a>        <span class="c1"># Phase 1: Accelerate to max velocity (or halfway point)</span>
</span><span id="__span-26-73"><a id="__codelineno-26-73" name="__codelineno-26-73" href="#__codelineno-26-73"></a>        <span class="n">accel_time</span> <span class="o">=</span> <span class="n">max_velocity</span> <span class="o">/</span> <span class="n">max_acceleration</span>
</span><span id="__span-26-74"><a id="__codelineno-26-74" name="__codelineno-26-74" href="#__codelineno-26-74"></a>        <span class="n">accel_distance</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">max_acceleration</span> <span class="o">*</span> <span class="n">accel_time</span><span class="o">**</span><span class="mi">2</span>
</span><span id="__span-26-75"><a id="__codelineno-26-75" name="__codelineno-26-75" href="#__codelineno-26-75"></a>
</span><span id="__span-26-76"><a id="__codelineno-26-76" name="__codelineno-26-76" href="#__codelineno-26-76"></a>        <span class="k">if</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">accel_distance</span> <span class="o">&gt;=</span> <span class="n">distance</span><span class="p">:</span>
</span><span id="__span-26-77"><a id="__codelineno-26-77" name="__codelineno-26-77" href="#__codelineno-26-77"></a>            <span class="c1"># Short move - triangular profile (never reach max velocity)</span>
</span><span id="__span-26-78"><a id="__codelineno-26-78" name="__codelineno-26-78" href="#__codelineno-26-78"></a>            <span class="n">actual_max_velocity</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">distance</span> <span class="o">*</span> <span class="n">max_acceleration</span><span class="p">)</span>
</span><span id="__span-26-79"><a id="__codelineno-26-79" name="__codelineno-26-79" href="#__codelineno-26-79"></a>            <span class="n">accel_time</span> <span class="o">=</span> <span class="n">actual_max_velocity</span> <span class="o">/</span> <span class="n">max_acceleration</span>
</span><span id="__span-26-80"><a id="__codelineno-26-80" name="__codelineno-26-80" href="#__codelineno-26-80"></a>            <span class="n">cruise_time</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-26-81"><a id="__codelineno-26-81" name="__codelineno-26-81" href="#__codelineno-26-81"></a>            <span class="n">decel_time</span> <span class="o">=</span> <span class="n">accel_time</span>
</span><span id="__span-26-82"><a id="__codelineno-26-82" name="__codelineno-26-82" href="#__codelineno-26-82"></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="__span-26-83"><a id="__codelineno-26-83" name="__codelineno-26-83" href="#__codelineno-26-83"></a>            <span class="c1"># Long move - trapezoidal profile</span>
</span><span id="__span-26-84"><a id="__codelineno-26-84" name="__codelineno-26-84" href="#__codelineno-26-84"></a>            <span class="n">cruise_distance</span> <span class="o">=</span> <span class="n">distance</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">accel_distance</span>
</span><span id="__span-26-85"><a id="__codelineno-26-85" name="__codelineno-26-85" href="#__codelineno-26-85"></a>            <span class="n">cruise_time</span> <span class="o">=</span> <span class="n">cruise_distance</span> <span class="o">/</span> <span class="n">max_velocity</span>
</span><span id="__span-26-86"><a id="__codelineno-26-86" name="__codelineno-26-86" href="#__codelineno-26-86"></a>            <span class="n">decel_time</span> <span class="o">=</span> <span class="n">accel_time</span>
</span><span id="__span-26-87"><a id="__codelineno-26-87" name="__codelineno-26-87" href="#__codelineno-26-87"></a>            <span class="n">actual_max_velocity</span> <span class="o">=</span> <span class="n">max_velocity</span>
</span><span id="__span-26-88"><a id="__codelineno-26-88" name="__codelineno-26-88" href="#__codelineno-26-88"></a>
</span><span id="__span-26-89"><a id="__codelineno-26-89" name="__codelineno-26-89" href="#__codelineno-26-89"></a>        <span class="k">return</span> <span class="n">MotionState</span><span class="p">(</span>
</span><span id="__span-26-90"><a id="__codelineno-26-90" name="__codelineno-26-90" href="#__codelineno-26-90"></a>            <span class="n">desired_position</span><span class="o">=</span><span class="n">start</span> <span class="o">+</span> <span class="n">direction</span> <span class="o">*</span> <span class="n">distance</span><span class="p">,</span>
</span><span id="__span-26-91"><a id="__codelineno-26-91" name="__codelineno-26-91" href="#__codelineno-26-91"></a>            <span class="n">desired_velocity</span><span class="o">=</span><span class="n">actual_max_velocity</span> <span class="o">*</span> <span class="n">direction</span><span class="p">,</span>
</span><span id="__span-26-92"><a id="__codelineno-26-92" name="__codelineno-26-92" href="#__codelineno-26-92"></a>            <span class="n">desired_acceleration</span><span class="o">=</span><span class="n">max_acceleration</span> <span class="o">*</span> <span class="n">direction</span><span class="p">,</span>
</span><span id="__span-26-93"><a id="__codelineno-26-93" name="__codelineno-26-93" href="#__codelineno-26-93"></a>            <span class="n">total_time</span><span class="o">=</span><span class="n">accel_time</span> <span class="o">+</span> <span class="n">cruise_time</span> <span class="o">+</span> <span class="n">decel_time</span>
</span><span id="__span-26-94"><a id="__codelineno-26-94" name="__codelineno-26-94" href="#__codelineno-26-94"></a>        <span class="p">)</span>
</span><span id="__span-26-95"><a id="__codelineno-26-95" name="__codelineno-26-95" href="#__codelineno-26-95"></a>
</span><span id="__span-26-96"><a id="__codelineno-26-96" name="__codelineno-26-96" href="#__codelineno-26-96"></a><span class="c1"># Performance comparison demo</span>
</span><span id="__span-26-97"><a id="__codelineno-26-97" name="__codelineno-26-97" href="#__codelineno-26-97"></a><span class="k">def</span><span class="w"> </span><span class="nf">compare_control_methods</span><span class="p">():</span>
</span><span id="__span-26-98"><a id="__codelineno-26-98" name="__codelineno-26-98" href="#__codelineno-26-98"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;See the dramatic difference feedforward makes!&quot;&quot;&quot;</span>
</span><span id="__span-26-99"><a id="__codelineno-26-99" name="__codelineno-26-99" href="#__codelineno-26-99"></a>
</span><span id="__span-26-100"><a id="__codelineno-26-100" name="__codelineno-26-100" href="#__codelineno-26-100"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;🏁 Control Method Performance Comparison&quot;</span><span class="p">)</span>
</span><span id="__span-26-101"><a id="__codelineno-26-101" name="__codelineno-26-101" href="#__codelineno-26-101"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=&quot;</span> <span class="o">*</span> <span class="mi">50</span><span class="p">)</span>
</span><span id="__span-26-102"><a id="__codelineno-26-102" name="__codelineno-26-102" href="#__codelineno-26-102"></a>
</span><span id="__span-26-103"><a id="__codelineno-26-103" name="__codelineno-26-103" href="#__codelineno-26-103"></a>    <span class="c1"># Test both methods on the same challenging motion</span>
</span><span id="__span-26-104"><a id="__codelineno-26-104" name="__codelineno-26-104" href="#__codelineno-26-104"></a>    <span class="n">target_positions</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">175</span><span class="p">]</span>  <span class="c1"># mm</span>
</span><span id="__span-26-105"><a id="__codelineno-26-105" name="__codelineno-26-105" href="#__codelineno-26-105"></a>
</span><span id="__span-26-106"><a id="__codelineno-26-106" name="__codelineno-26-106" href="#__codelineno-26-106"></a>    <span class="n">feedback_only_times</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-26-107"><a id="__codelineno-26-107" name="__codelineno-26-107" href="#__codelineno-26-107"></a>    <span class="n">feedforward_times</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-26-108"><a id="__codelineno-26-108" name="__codelineno-26-108" href="#__codelineno-26-108"></a>
</span><span id="__span-26-109"><a id="__codelineno-26-109" name="__codelineno-26-109" href="#__codelineno-26-109"></a>    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">target</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">target_positions</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="mi">1</span><span class="p">):</span>
</span><span id="__span-26-110"><a id="__codelineno-26-110" name="__codelineno-26-110" href="#__codelineno-26-110"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Move </span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">target_positions</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">mm → </span><span class="si">{</span><span class="n">target</span><span class="si">}</span><span class="s2">mm&quot;</span><span class="p">)</span>
</span><span id="__span-26-111"><a id="__codelineno-26-111" name="__codelineno-26-111" href="#__codelineno-26-111"></a>
</span><span id="__span-26-112"><a id="__codelineno-26-112" name="__codelineno-26-112" href="#__codelineno-26-112"></a>        <span class="c1"># Simulate feedback-only control</span>
</span><span id="__span-26-113"><a id="__codelineno-26-113" name="__codelineno-26-113" href="#__codelineno-26-113"></a>        <span class="n">fb_time</span> <span class="o">=</span> <span class="n">simulate_move</span><span class="p">(</span>
</span><span id="__span-26-114"><a id="__codelineno-26-114" name="__codelineno-26-114" href="#__codelineno-26-114"></a>            <span class="n">method</span><span class="o">=</span><span class="s2">&quot;feedback_only&quot;</span><span class="p">,</span>
</span><span id="__span-26-115"><a id="__codelineno-26-115" name="__codelineno-26-115" href="#__codelineno-26-115"></a>            <span class="n">start</span><span class="o">=</span><span class="n">target_positions</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> 
</span><span id="__span-26-116"><a id="__codelineno-26-116" name="__codelineno-26-116" href="#__codelineno-26-116"></a>            <span class="n">end</span><span class="o">=</span><span class="n">target</span><span class="p">,</span>
</span><span id="__span-26-117"><a id="__codelineno-26-117" name="__codelineno-26-117" href="#__codelineno-26-117"></a>            <span class="n">tolerance</span><span class="o">=</span><span class="mf">0.1</span>  <span class="c1"># mm</span>
</span><span id="__span-26-118"><a id="__codelineno-26-118" name="__codelineno-26-118" href="#__codelineno-26-118"></a>        <span class="p">)</span>
</span><span id="__span-26-119"><a id="__codelineno-26-119" name="__codelineno-26-119" href="#__codelineno-26-119"></a>        <span class="n">feedback_only_times</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fb_time</span><span class="p">)</span>
</span><span id="__span-26-120"><a id="__codelineno-26-120" name="__codelineno-26-120" href="#__codelineno-26-120"></a>
</span><span id="__span-26-121"><a id="__codelineno-26-121" name="__codelineno-26-121" href="#__codelineno-26-121"></a>        <span class="c1"># Simulate feedforward + feedback control</span>
</span><span id="__span-26-122"><a id="__codelineno-26-122" name="__codelineno-26-122" href="#__codelineno-26-122"></a>        <span class="n">ff_time</span> <span class="o">=</span> <span class="n">simulate_move</span><span class="p">(</span>
</span><span id="__span-26-123"><a id="__codelineno-26-123" name="__codelineno-26-123" href="#__codelineno-26-123"></a>            <span class="n">method</span><span class="o">=</span><span class="s2">&quot;feedforward_feedback&quot;</span><span class="p">,</span>
</span><span id="__span-26-124"><a id="__codelineno-26-124" name="__codelineno-26-124" href="#__codelineno-26-124"></a>            <span class="n">start</span><span class="o">=</span><span class="n">target_positions</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span>
</span><span id="__span-26-125"><a id="__codelineno-26-125" name="__codelineno-26-125" href="#__codelineno-26-125"></a>            <span class="n">end</span><span class="o">=</span><span class="n">target</span><span class="p">,</span> 
</span><span id="__span-26-126"><a id="__codelineno-26-126" name="__codelineno-26-126" href="#__codelineno-26-126"></a>            <span class="n">tolerance</span><span class="o">=</span><span class="mf">0.1</span>  <span class="c1"># mm</span>
</span><span id="__span-26-127"><a id="__codelineno-26-127" name="__codelineno-26-127" href="#__codelineno-26-127"></a>        <span class="p">)</span>
</span><span id="__span-26-128"><a id="__codelineno-26-128" name="__codelineno-26-128" href="#__codelineno-26-128"></a>        <span class="n">feedforward_times</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ff_time</span><span class="p">)</span>
</span><span id="__span-26-129"><a id="__codelineno-26-129" name="__codelineno-26-129" href="#__codelineno-26-129"></a>
</span><span id="__span-26-130"><a id="__codelineno-26-130" name="__codelineno-26-130" href="#__codelineno-26-130"></a>        <span class="n">improvement</span> <span class="o">=</span> <span class="p">((</span><span class="n">fb_time</span> <span class="o">-</span> <span class="n">ff_time</span><span class="p">)</span> <span class="o">/</span> <span class="n">fb_time</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
</span><span id="__span-26-131"><a id="__codelineno-26-131" name="__codelineno-26-131" href="#__codelineno-26-131"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Feedback only: </span><span class="si">{</span><span class="n">fb_time</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">s&quot;</span><span class="p">)</span>
</span><span id="__span-26-132"><a id="__codelineno-26-132" name="__codelineno-26-132" href="#__codelineno-26-132"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Feedforward+FB: </span><span class="si">{</span><span class="n">ff_time</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">s&quot;</span><span class="p">)</span>
</span><span id="__span-26-133"><a id="__codelineno-26-133" name="__codelineno-26-133" href="#__codelineno-26-133"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Improvement: </span><span class="si">{</span><span class="n">improvement</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">% faster! ⚡&quot;</span><span class="p">)</span>
</span><span id="__span-26-134"><a id="__codelineno-26-134" name="__codelineno-26-134" href="#__codelineno-26-134"></a>
</span><span id="__span-26-135"><a id="__codelineno-26-135" name="__codelineno-26-135" href="#__codelineno-26-135"></a>    <span class="n">avg_improvement</span> <span class="o">=</span> <span class="p">((</span><span class="nb">sum</span><span class="p">(</span><span class="n">feedback_only_times</span><span class="p">)</span> <span class="o">-</span> <span class="nb">sum</span><span class="p">(</span><span class="n">feedforward_times</span><span class="p">))</span> <span class="o">/</span> 
</span><span id="__span-26-136"><a id="__codelineno-26-136" name="__codelineno-26-136" href="#__codelineno-26-136"></a>                      <span class="nb">sum</span><span class="p">(</span><span class="n">feedback_only_times</span><span class="p">))</span> <span class="o">*</span> <span class="mi">100</span>
</span><span id="__span-26-137"><a id="__codelineno-26-137" name="__codelineno-26-137" href="#__codelineno-26-137"></a>
</span><span id="__span-26-138"><a id="__codelineno-26-138" name="__codelineno-26-138" href="#__codelineno-26-138"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">🎯 Overall Performance Improvement: </span><span class="si">{</span><span class="n">avg_improvement</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
</span><span id="__span-26-139"><a id="__codelineno-26-139" name="__codelineno-26-139" href="#__codelineno-26-139"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;💡 Feedforward prediction makes robots dramatically faster!&quot;</span><span class="p">)</span>
</span><span id="__span-26-140"><a id="__codelineno-26-140" name="__codelineno-26-140" href="#__codelineno-26-140"></a>
</span><span id="__span-26-141"><a id="__codelineno-26-141" name="__codelineno-26-141" href="#__codelineno-26-141"></a><span class="n">compare_control_methods</span><span class="p">()</span>
</span></code></pre></div></p>
<h4 id="adaptive-control-the-self-learning-system">🧠 <strong>Adaptive Control: The Self-Learning System</strong><a class="headerlink" href="#adaptive-control-the-self-learning-system" title="Permanent link">&para;</a></h4>
<p>What if your robot could automatically tune itself? Adaptive control systems monitor their own performance and adjust their parameters in real-time - like a robot that gets better at its job the more it works!</p>
<p><strong>Example: Self-Tuning Drone Stabilization</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">AdaptiveDroneController</span><span class="p">:</span>
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a>        <span class="c1"># Initial PID gains (starting guess)</span>
</span><span id="__span-27-4"><a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pitch_gains</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Kp&#39;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span> <span class="s1">&#39;Ki&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span> <span class="s1">&#39;Kd&#39;</span><span class="p">:</span> <span class="mf">0.8</span><span class="p">}</span>
</span><span id="__span-27-5"><a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">roll_gains</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Kp&#39;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span> <span class="s1">&#39;Ki&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span> <span class="s1">&#39;Kd&#39;</span><span class="p">:</span> <span class="mf">0.8</span><span class="p">}</span>
</span><span id="__span-27-6"><a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a>
</span><span id="__span-27-7"><a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a>        <span class="c1"># Performance monitoring</span>
</span><span id="__span-27-8"><a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">performance_window</span> <span class="o">=</span> <span class="mi">100</span>  <span class="c1"># Last 100 measurements</span>
</span><span id="__span-27-9"><a id="__codelineno-27-9" name="__codelineno-27-9" href="#__codelineno-27-9"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pitch_errors</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-27-10"><a id="__codelineno-27-10" name="__codelineno-27-10" href="#__codelineno-27-10"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">roll_errors</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-27-11"><a id="__codelineno-27-11" name="__codelineno-27-11" href="#__codelineno-27-11"></a>
</span><span id="__span-27-12"><a id="__codelineno-27-12" name="__codelineno-27-12" href="#__codelineno-27-12"></a>        <span class="c1"># Learning parameters</span>
</span><span id="__span-27-13"><a id="__codelineno-27-13" name="__codelineno-27-13" href="#__codelineno-27-13"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">learning_rate</span> <span class="o">=</span> <span class="mf">0.05</span>
</span><span id="__span-27-14"><a id="__codelineno-27-14" name="__codelineno-27-14" href="#__codelineno-27-14"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">adaptation_threshold</span> <span class="o">=</span> <span class="mf">5.0</span>  <span class="c1"># Start adapting if error &gt; 5°</span>
</span><span id="__span-27-15"><a id="__codelineno-27-15" name="__codelineno-27-15" href="#__codelineno-27-15"></a>
</span><span id="__span-27-16"><a id="__codelineno-27-16" name="__codelineno-27-16" href="#__codelineno-27-16"></a>        <span class="c1"># Flight conditions that affect performance</span>
</span><span id="__span-27-17"><a id="__codelineno-27-17" name="__codelineno-27-17" href="#__codelineno-27-17"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">wind_estimate</span> <span class="o">=</span> <span class="mf">0.0</span>
</span><span id="__span-27-18"><a id="__codelineno-27-18" name="__codelineno-27-18" href="#__codelineno-27-18"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">payload_estimate</span> <span class="o">=</span> <span class="mf">0.0</span>
</span><span id="__span-27-19"><a id="__codelineno-27-19" name="__codelineno-27-19" href="#__codelineno-27-19"></a>
</span><span id="__span-27-20"><a id="__codelineno-27-20" name="__codelineno-27-20" href="#__codelineno-27-20"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">adaptive_stabilization_control</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target_attitude</span><span class="p">,</span> <span class="n">current_attitude</span><span class="p">,</span> <span class="n">dt</span><span class="p">):</span>
</span><span id="__span-27-21"><a id="__codelineno-27-21" name="__codelineno-27-21" href="#__codelineno-27-21"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Self-tuning flight control that adapts to conditions&quot;&quot;&quot;</span>
</span><span id="__span-27-22"><a id="__codelineno-27-22" name="__codelineno-27-22" href="#__codelineno-27-22"></a>
</span><span id="__span-27-23"><a id="__codelineno-27-23" name="__codelineno-27-23" href="#__codelineno-27-23"></a>        <span class="c1"># Calculate attitude errors</span>
</span><span id="__span-27-24"><a id="__codelineno-27-24" name="__codelineno-27-24" href="#__codelineno-27-24"></a>        <span class="n">pitch_error</span> <span class="o">=</span> <span class="n">target_attitude</span><span class="p">[</span><span class="s1">&#39;pitch&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">current_attitude</span><span class="p">[</span><span class="s1">&#39;pitch&#39;</span><span class="p">]</span>
</span><span id="__span-27-25"><a id="__codelineno-27-25" name="__codelineno-27-25" href="#__codelineno-27-25"></a>        <span class="n">roll_error</span> <span class="o">=</span> <span class="n">target_attitude</span><span class="p">[</span><span class="s1">&#39;roll&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">current_attitude</span><span class="p">[</span><span class="s1">&#39;roll&#39;</span><span class="p">]</span>
</span><span id="__span-27-26"><a id="__codelineno-27-26" name="__codelineno-27-26" href="#__codelineno-27-26"></a>
</span><span id="__span-27-27"><a id="__codelineno-27-27" name="__codelineno-27-27" href="#__codelineno-27-27"></a>        <span class="c1"># Store errors for performance analysis</span>
</span><span id="__span-27-28"><a id="__codelineno-27-28" name="__codelineno-27-28" href="#__codelineno-27-28"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pitch_errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">pitch_error</span><span class="p">))</span>
</span><span id="__span-27-29"><a id="__codelineno-27-29" name="__codelineno-27-29" href="#__codelineno-27-29"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">roll_errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">roll_error</span><span class="p">))</span>
</span><span id="__span-27-30"><a id="__codelineno-27-30" name="__codelineno-27-30" href="#__codelineno-27-30"></a>
</span><span id="__span-27-31"><a id="__codelineno-27-31" name="__codelineno-27-31" href="#__codelineno-27-31"></a>        <span class="c1"># Keep only recent history</span>
</span><span id="__span-27-32"><a id="__codelineno-27-32" name="__codelineno-27-32" href="#__codelineno-27-32"></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pitch_errors</span><span class="p">)</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">performance_window</span><span class="p">:</span>
</span><span id="__span-27-33"><a id="__codelineno-27-33" name="__codelineno-27-33" href="#__codelineno-27-33"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">pitch_errors</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="__span-27-34"><a id="__codelineno-27-34" name="__codelineno-27-34" href="#__codelineno-27-34"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">roll_errors</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="__span-27-35"><a id="__codelineno-27-35" name="__codelineno-27-35" href="#__codelineno-27-35"></a>
</span><span id="__span-27-36"><a id="__codelineno-27-36" name="__codelineno-27-36" href="#__codelineno-27-36"></a>        <span class="c1"># Calculate current performance metrics</span>
</span><span id="__span-27-37"><a id="__codelineno-27-37" name="__codelineno-27-37" href="#__codelineno-27-37"></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pitch_errors</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">50</span><span class="p">:</span>  <span class="c1"># Need enough data</span>
</span><span id="__span-27-38"><a id="__codelineno-27-38" name="__codelineno-27-38" href="#__codelineno-27-38"></a>            <span class="n">avg_pitch_error</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pitch_errors</span><span class="p">[</span><span class="o">-</span><span class="mi">50</span><span class="p">:])</span> <span class="o">/</span> <span class="mi">50</span>
</span><span id="__span-27-39"><a id="__codelineno-27-39" name="__codelineno-27-39" href="#__codelineno-27-39"></a>            <span class="n">avg_roll_error</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">roll_errors</span><span class="p">[</span><span class="o">-</span><span class="mi">50</span><span class="p">:])</span> <span class="o">/</span> <span class="mi">50</span>
</span><span id="__span-27-40"><a id="__codelineno-27-40" name="__codelineno-27-40" href="#__codelineno-27-40"></a>
</span><span id="__span-27-41"><a id="__codelineno-27-41" name="__codelineno-27-41" href="#__codelineno-27-41"></a>            <span class="c1"># Adapt gains based on performance</span>
</span><span id="__span-27-42"><a id="__codelineno-27-42" name="__codelineno-27-42" href="#__codelineno-27-42"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">adapt_gains</span><span class="p">(</span><span class="n">avg_pitch_error</span><span class="p">,</span> <span class="n">avg_roll_error</span><span class="p">,</span> <span class="n">dt</span><span class="p">)</span>
</span><span id="__span-27-43"><a id="__codelineno-27-43" name="__codelineno-27-43" href="#__codelineno-27-43"></a>
</span><span id="__span-27-44"><a id="__codelineno-27-44" name="__codelineno-27-44" href="#__codelineno-27-44"></a>        <span class="c1"># Apply current control gains</span>
</span><span id="__span-27-45"><a id="__codelineno-27-45" name="__codelineno-27-45" href="#__codelineno-27-45"></a>        <span class="n">pitch_output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pid_calculate</span><span class="p">(</span>
</span><span id="__span-27-46"><a id="__codelineno-27-46" name="__codelineno-27-46" href="#__codelineno-27-46"></a>            <span class="n">pitch_error</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pitch_gains</span><span class="p">,</span> <span class="s1">&#39;pitch&#39;</span><span class="p">,</span> <span class="n">dt</span>
</span><span id="__span-27-47"><a id="__codelineno-27-47" name="__codelineno-27-47" href="#__codelineno-27-47"></a>        <span class="p">)</span>
</span><span id="__span-27-48"><a id="__codelineno-27-48" name="__codelineno-27-48" href="#__codelineno-27-48"></a>        <span class="n">roll_output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pid_calculate</span><span class="p">(</span>
</span><span id="__span-27-49"><a id="__codelineno-27-49" name="__codelineno-27-49" href="#__codelineno-27-49"></a>            <span class="n">roll_error</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">roll_gains</span><span class="p">,</span> <span class="s1">&#39;roll&#39;</span><span class="p">,</span> <span class="n">dt</span>
</span><span id="__span-27-50"><a id="__codelineno-27-50" name="__codelineno-27-50" href="#__codelineno-27-50"></a>        <span class="p">)</span>
</span><span id="__span-27-51"><a id="__codelineno-27-51" name="__codelineno-27-51" href="#__codelineno-27-51"></a>
</span><span id="__span-27-52"><a id="__codelineno-27-52" name="__codelineno-27-52" href="#__codelineno-27-52"></a>        <span class="k">return</span> <span class="p">{</span>
</span><span id="__span-27-53"><a id="__codelineno-27-53" name="__codelineno-27-53" href="#__codelineno-27-53"></a>            <span class="s1">&#39;pitch_command&#39;</span><span class="p">:</span> <span class="n">pitch_output</span><span class="p">,</span>
</span><span id="__span-27-54"><a id="__codelineno-27-54" name="__codelineno-27-54" href="#__codelineno-27-54"></a>            <span class="s1">&#39;roll_command&#39;</span><span class="p">:</span> <span class="n">roll_output</span><span class="p">,</span>
</span><span id="__span-27-55"><a id="__codelineno-27-55" name="__codelineno-27-55" href="#__codelineno-27-55"></a>            <span class="s1">&#39;current_gains&#39;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-27-56"><a id="__codelineno-27-56" name="__codelineno-27-56" href="#__codelineno-27-56"></a>                <span class="s1">&#39;pitch&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">pitch_gains</span><span class="o">.</span><span class="n">copy</span><span class="p">(),</span>
</span><span id="__span-27-57"><a id="__codelineno-27-57" name="__codelineno-27-57" href="#__codelineno-27-57"></a>                <span class="s1">&#39;roll&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">roll_gains</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</span><span id="__span-27-58"><a id="__codelineno-27-58" name="__codelineno-27-58" href="#__codelineno-27-58"></a>            <span class="p">},</span>
</span><span id="__span-27-59"><a id="__codelineno-27-59" name="__codelineno-27-59" href="#__codelineno-27-59"></a>            <span class="s1">&#39;performance&#39;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-27-60"><a id="__codelineno-27-60" name="__codelineno-27-60" href="#__codelineno-27-60"></a>                <span class="s1">&#39;pitch_error&#39;</span><span class="p">:</span> <span class="n">avg_pitch_error</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pitch_errors</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">50</span> <span class="k">else</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="__span-27-61"><a id="__codelineno-27-61" name="__codelineno-27-61" href="#__codelineno-27-61"></a>                <span class="s1">&#39;roll_error&#39;</span><span class="p">:</span> <span class="n">avg_roll_error</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">roll_errors</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">50</span> <span class="k">else</span> <span class="mi">0</span>
</span><span id="__span-27-62"><a id="__codelineno-27-62" name="__codelineno-27-62" href="#__codelineno-27-62"></a>            <span class="p">}</span>
</span><span id="__span-27-63"><a id="__codelineno-27-63" name="__codelineno-27-63" href="#__codelineno-27-63"></a>        <span class="p">}</span>
</span><span id="__span-27-64"><a id="__codelineno-27-64" name="__codelineno-27-64" href="#__codelineno-27-64"></a>
</span><span id="__span-27-65"><a id="__codelineno-27-65" name="__codelineno-27-65" href="#__codelineno-27-65"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">adapt_gains</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pitch_error</span><span class="p">,</span> <span class="n">roll_error</span><span class="p">,</span> <span class="n">dt</span><span class="p">):</span>
</span><span id="__span-27-66"><a id="__codelineno-27-66" name="__codelineno-27-66" href="#__codelineno-27-66"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Automatically tune PID gains based on performance&quot;&quot;&quot;</span>
</span><span id="__span-27-67"><a id="__codelineno-27-67" name="__codelineno-27-67" href="#__codelineno-27-67"></a>
</span><span id="__span-27-68"><a id="__codelineno-27-68" name="__codelineno-27-68" href="#__codelineno-27-68"></a>        <span class="c1"># Estimate external disturbances</span>
</span><span id="__span-27-69"><a id="__codelineno-27-69" name="__codelineno-27-69" href="#__codelineno-27-69"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">estimate_flight_conditions</span><span class="p">()</span>
</span><span id="__span-27-70"><a id="__codelineno-27-70" name="__codelineno-27-70" href="#__codelineno-27-70"></a>
</span><span id="__span-27-71"><a id="__codelineno-27-71" name="__codelineno-27-71" href="#__codelineno-27-71"></a>        <span class="c1"># Pitch axis adaptation</span>
</span><span id="__span-27-72"><a id="__codelineno-27-72" name="__codelineno-27-72" href="#__codelineno-27-72"></a>        <span class="k">if</span> <span class="n">pitch_error</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">adaptation_threshold</span><span class="p">:</span>
</span><span id="__span-27-73"><a id="__codelineno-27-73" name="__codelineno-27-73" href="#__codelineno-27-73"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_oscillating</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pitch_errors</span><span class="p">):</span>
</span><span id="__span-27-74"><a id="__codelineno-27-74" name="__codelineno-27-74" href="#__codelineno-27-74"></a>                <span class="c1"># Reduce derivative gain to stop oscillation</span>
</span><span id="__span-27-75"><a id="__codelineno-27-75" name="__codelineno-27-75" href="#__codelineno-27-75"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">pitch_gains</span><span class="p">[</span><span class="s1">&#39;Kd&#39;</span><span class="p">]</span> <span class="o">*=</span> <span class="mf">0.95</span>
</span><span id="__span-27-76"><a id="__codelineno-27-76" name="__codelineno-27-76" href="#__codelineno-27-76"></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🔧 Pitch oscillation detected - reducing Kd to </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">pitch_gains</span><span class="p">[</span><span class="s1">&#39;Kd&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-27-77"><a id="__codelineno-27-77" name="__codelineno-27-77" href="#__codelineno-27-77"></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="__span-27-78"><a id="__codelineno-27-78" name="__codelineno-27-78" href="#__codelineno-27-78"></a>                <span class="c1"># Increase proportional gain for faster response</span>
</span><span id="__span-27-79"><a id="__codelineno-27-79" name="__codelineno-27-79" href="#__codelineno-27-79"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">pitch_gains</span><span class="p">[</span><span class="s1">&#39;Kp&#39;</span><span class="p">]</span> <span class="o">*=</span> <span class="mf">1.02</span>
</span><span id="__span-27-80"><a id="__codelineno-27-80" name="__codelineno-27-80" href="#__codelineno-27-80"></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;📈 Slow pitch response - increasing Kp to </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">pitch_gains</span><span class="p">[</span><span class="s1">&#39;Kp&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-27-81"><a id="__codelineno-27-81" name="__codelineno-27-81" href="#__codelineno-27-81"></a>
</span><span id="__span-27-82"><a id="__codelineno-27-82" name="__codelineno-27-82" href="#__codelineno-27-82"></a>        <span class="k">elif</span> <span class="n">pitch_error</span> <span class="o">&lt;</span> <span class="mf">1.0</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_oscillating</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pitch_errors</span><span class="p">):</span>
</span><span id="__span-27-83"><a id="__codelineno-27-83" name="__codelineno-27-83" href="#__codelineno-27-83"></a>            <span class="c1"># Performance is good - try to optimize further</span>
</span><span id="__span-27-84"><a id="__codelineno-27-84" name="__codelineno-27-84" href="#__codelineno-27-84"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">pitch_gains</span><span class="p">[</span><span class="s1">&#39;Kp&#39;</span><span class="p">]</span> <span class="o">*=</span> <span class="mf">1.001</span>  <span class="c1"># Gentle increase</span>
</span><span id="__span-27-85"><a id="__codelineno-27-85" name="__codelineno-27-85" href="#__codelineno-27-85"></a>
</span><span id="__span-27-86"><a id="__codelineno-27-86" name="__codelineno-27-86" href="#__codelineno-27-86"></a>        <span class="c1"># Roll axis adaptation (similar logic)</span>
</span><span id="__span-27-87"><a id="__codelineno-27-87" name="__codelineno-27-87" href="#__codelineno-27-87"></a>        <span class="k">if</span> <span class="n">roll_error</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">adaptation_threshold</span><span class="p">:</span>
</span><span id="__span-27-88"><a id="__codelineno-27-88" name="__codelineno-27-88" href="#__codelineno-27-88"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_oscillating</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">roll_errors</span><span class="p">):</span>
</span><span id="__span-27-89"><a id="__codelineno-27-89" name="__codelineno-27-89" href="#__codelineno-27-89"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">roll_gains</span><span class="p">[</span><span class="s1">&#39;Kd&#39;</span><span class="p">]</span> <span class="o">*=</span> <span class="mf">0.95</span>
</span><span id="__span-27-90"><a id="__codelineno-27-90" name="__codelineno-27-90" href="#__codelineno-27-90"></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🔧 Roll oscillation detected - reducing Kd to </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">roll_gains</span><span class="p">[</span><span class="s1">&#39;Kd&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-27-91"><a id="__codelineno-27-91" name="__codelineno-27-91" href="#__codelineno-27-91"></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="__span-27-92"><a id="__codelineno-27-92" name="__codelineno-27-92" href="#__codelineno-27-92"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">roll_gains</span><span class="p">[</span><span class="s1">&#39;Kp&#39;</span><span class="p">]</span> <span class="o">*=</span> <span class="mf">1.02</span>
</span><span id="__span-27-93"><a id="__codelineno-27-93" name="__codelineno-27-93" href="#__codelineno-27-93"></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;📈 Slow roll response - increasing Kp to </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">roll_gains</span><span class="p">[</span><span class="s1">&#39;Kp&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-27-94"><a id="__codelineno-27-94" name="__codelineno-27-94" href="#__codelineno-27-94"></a>
</span><span id="__span-27-95"><a id="__codelineno-27-95" name="__codelineno-27-95" href="#__codelineno-27-95"></a>        <span class="c1"># Adapt to environmental conditions</span>
</span><span id="__span-27-96"><a id="__codelineno-27-96" name="__codelineno-27-96" href="#__codelineno-27-96"></a>        <span class="n">wind_compensation</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">wind_estimate</span> <span class="o">*</span> <span class="mf">0.1</span>
</span><span id="__span-27-97"><a id="__codelineno-27-97" name="__codelineno-27-97" href="#__codelineno-27-97"></a>        <span class="n">payload_compensation</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">payload_estimate</span> <span class="o">*</span> <span class="mf">0.05</span>
</span><span id="__span-27-98"><a id="__codelineno-27-98" name="__codelineno-27-98" href="#__codelineno-27-98"></a>
</span><span id="__span-27-99"><a id="__codelineno-27-99" name="__codelineno-27-99" href="#__codelineno-27-99"></a>        <span class="c1"># Apply environmental adaptations</span>
</span><span id="__span-27-100"><a id="__codelineno-27-100" name="__codelineno-27-100" href="#__codelineno-27-100"></a>        <span class="k">for</span> <span class="n">axis</span> <span class="ow">in</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">pitch_gains</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">roll_gains</span><span class="p">]:</span>
</span><span id="__span-27-101"><a id="__codelineno-27-101" name="__codelineno-27-101" href="#__codelineno-27-101"></a>            <span class="n">axis</span><span class="p">[</span><span class="s1">&#39;Kp&#39;</span><span class="p">]</span> <span class="o">*=</span> <span class="n">wind_compensation</span> <span class="o">*</span> <span class="n">payload_compensation</span>
</span><span id="__span-27-102"><a id="__codelineno-27-102" name="__codelineno-27-102" href="#__codelineno-27-102"></a>
</span><span id="__span-27-103"><a id="__codelineno-27-103" name="__codelineno-27-103" href="#__codelineno-27-103"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">estimate_flight_conditions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-27-104"><a id="__codelineno-27-104" name="__codelineno-27-104" href="#__codelineno-27-104"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Estimate wind and payload based on control effort&quot;&quot;&quot;</span>
</span><span id="__span-27-105"><a id="__codelineno-27-105" name="__codelineno-27-105" href="#__codelineno-27-105"></a>        <span class="c1"># This would use accelerometer, gyro, and motor current data</span>
</span><span id="__span-27-106"><a id="__codelineno-27-106" name="__codelineno-27-106" href="#__codelineno-27-106"></a>        <span class="c1"># Simplified version for demonstration</span>
</span><span id="__span-27-107"><a id="__codelineno-27-107" name="__codelineno-27-107" href="#__codelineno-27-107"></a>
</span><span id="__span-27-108"><a id="__codelineno-27-108" name="__codelineno-27-108" href="#__codelineno-27-108"></a>        <span class="n">recent_errors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pitch_errors</span><span class="p">[</span><span class="o">-</span><span class="mi">20</span><span class="p">:]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">roll_errors</span><span class="p">[</span><span class="o">-</span><span class="mi">20</span><span class="p">:]</span>
</span><span id="__span-27-109"><a id="__codelineno-27-109" name="__codelineno-27-109" href="#__codelineno-27-109"></a>        <span class="k">if</span> <span class="n">recent_errors</span><span class="p">:</span>
</span><span id="__span-27-110"><a id="__codelineno-27-110" name="__codelineno-27-110" href="#__codelineno-27-110"></a>            <span class="n">avg_disturbance</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">recent_errors</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">recent_errors</span><span class="p">)</span>
</span><span id="__span-27-111"><a id="__codelineno-27-111" name="__codelineno-27-111" href="#__codelineno-27-111"></a>
</span><span id="__span-27-112"><a id="__codelineno-27-112" name="__codelineno-27-112" href="#__codelineno-27-112"></a>            <span class="c1"># High consistent error suggests wind</span>
</span><span id="__span-27-113"><a id="__codelineno-27-113" name="__codelineno-27-113" href="#__codelineno-27-113"></a>            <span class="k">if</span> <span class="n">avg_disturbance</span> <span class="o">&gt;</span> <span class="mf">3.0</span><span class="p">:</span>
</span><span id="__span-27-114"><a id="__codelineno-27-114" name="__codelineno-27-114" href="#__codelineno-27-114"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">wind_estimate</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">wind_estimate</span> <span class="o">+</span> <span class="mf">0.01</span><span class="p">)</span>
</span><span id="__span-27-115"><a id="__codelineno-27-115" name="__codelineno-27-115" href="#__codelineno-27-115"></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="__span-27-116"><a id="__codelineno-27-116" name="__codelineno-27-116" href="#__codelineno-27-116"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">wind_estimate</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">wind_estimate</span> <span class="o">-</span> <span class="mf">0.005</span><span class="p">)</span>
</span><span id="__span-27-117"><a id="__codelineno-27-117" name="__codelineno-27-117" href="#__codelineno-27-117"></a>
</span><span id="__span-27-118"><a id="__codelineno-27-118" name="__codelineno-27-118" href="#__codelineno-27-118"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">is_oscillating</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">error_history</span><span class="p">):</span>
</span><span id="__span-27-119"><a id="__codelineno-27-119" name="__codelineno-27-119" href="#__codelineno-27-119"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Detect if the system is oscillating (sign of too much gain)&quot;&quot;&quot;</span>
</span><span id="__span-27-120"><a id="__codelineno-27-120" name="__codelineno-27-120" href="#__codelineno-27-120"></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">error_history</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">20</span><span class="p">:</span>
</span><span id="__span-27-121"><a id="__codelineno-27-121" name="__codelineno-27-121" href="#__codelineno-27-121"></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="__span-27-122"><a id="__codelineno-27-122" name="__codelineno-27-122" href="#__codelineno-27-122"></a>
</span><span id="__span-27-123"><a id="__codelineno-27-123" name="__codelineno-27-123" href="#__codelineno-27-123"></a>        <span class="c1"># Look for alternating high-low pattern</span>
</span><span id="__span-27-124"><a id="__codelineno-27-124" name="__codelineno-27-124" href="#__codelineno-27-124"></a>        <span class="n">recent</span> <span class="o">=</span> <span class="n">error_history</span><span class="p">[</span><span class="o">-</span><span class="mi">20</span><span class="p">:]</span>
</span><span id="__span-27-125"><a id="__codelineno-27-125" name="__codelineno-27-125" href="#__codelineno-27-125"></a>        <span class="n">sign_changes</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-27-126"><a id="__codelineno-27-126" name="__codelineno-27-126" href="#__codelineno-27-126"></a>
</span><span id="__span-27-127"><a id="__codelineno-27-127" name="__codelineno-27-127" href="#__codelineno-27-127"></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">recent</span><span class="p">)):</span>
</span><span id="__span-27-128"><a id="__codelineno-27-128" name="__codelineno-27-128" href="#__codelineno-27-128"></a>            <span class="k">if</span> <span class="p">(</span><span class="n">recent</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">recent</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="o">!=</span> <span class="p">(</span><span class="n">recent</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">recent</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="k">else</span> <span class="kc">True</span><span class="p">):</span>
</span><span id="__span-27-129"><a id="__codelineno-27-129" name="__codelineno-27-129" href="#__codelineno-27-129"></a>                <span class="n">sign_changes</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="__span-27-130"><a id="__codelineno-27-130" name="__codelineno-27-130" href="#__codelineno-27-130"></a>
</span><span id="__span-27-131"><a id="__codelineno-27-131" name="__codelineno-27-131" href="#__codelineno-27-131"></a>        <span class="c1"># More than 10 sign changes in 20 samples suggests oscillation</span>
</span><span id="__span-27-132"><a id="__codelineno-27-132" name="__codelineno-27-132" href="#__codelineno-27-132"></a>        <span class="k">return</span> <span class="n">sign_changes</span> <span class="o">&gt;</span> <span class="mi">10</span>
</span><span id="__span-27-133"><a id="__codelineno-27-133" name="__codelineno-27-133" href="#__codelineno-27-133"></a>
</span><span id="__span-27-134"><a id="__codelineno-27-134" name="__codelineno-27-134" href="#__codelineno-27-134"></a><span class="c1"># Adaptive control demonstration</span>
</span><span id="__span-27-135"><a id="__codelineno-27-135" name="__codelineno-27-135" href="#__codelineno-27-135"></a><span class="k">def</span><span class="w"> </span><span class="nf">adaptive_drone_demo</span><span class="p">():</span>
</span><span id="__span-27-136"><a id="__codelineno-27-136" name="__codelineno-27-136" href="#__codelineno-27-136"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Show how adaptive control handles changing conditions&quot;&quot;&quot;</span>
</span><span id="__span-27-137"><a id="__codelineno-27-137" name="__codelineno-27-137" href="#__codelineno-27-137"></a>
</span><span id="__span-27-138"><a id="__codelineno-27-138" name="__codelineno-27-138" href="#__codelineno-27-138"></a>    <span class="n">drone</span> <span class="o">=</span> <span class="n">AdaptiveDroneController</span><span class="p">()</span>
</span><span id="__span-27-139"><a id="__codelineno-27-139" name="__codelineno-27-139" href="#__codelineno-27-139"></a>
</span><span id="__span-27-140"><a id="__codelineno-27-140" name="__codelineno-27-140" href="#__codelineno-27-140"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;🚁 Adaptive Drone Control Demo&quot;</span><span class="p">)</span>
</span><span id="__span-27-141"><a id="__codelineno-27-141" name="__codelineno-27-141" href="#__codelineno-27-141"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=&quot;</span> <span class="o">*</span> <span class="mi">40</span><span class="p">)</span>
</span><span id="__span-27-142"><a id="__codelineno-27-142" name="__codelineno-27-142" href="#__codelineno-27-142"></a>
</span><span id="__span-27-143"><a id="__codelineno-27-143" name="__codelineno-27-143" href="#__codelineno-27-143"></a>    <span class="c1"># Simulate different flight conditions</span>
</span><span id="__span-27-144"><a id="__codelineno-27-144" name="__codelineno-27-144" href="#__codelineno-27-144"></a>    <span class="n">conditions</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="__span-27-145"><a id="__codelineno-27-145" name="__codelineno-27-145" href="#__codelineno-27-145"></a>        <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Calm weather&#39;</span><span class="p">,</span> <span class="s1">&#39;wind&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;payload&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;duration&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">},</span>
</span><span id="__span-27-146"><a id="__codelineno-27-146" name="__codelineno-27-146" href="#__codelineno-27-146"></a>        <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Light wind&#39;</span><span class="p">,</span> <span class="s1">&#39;wind&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;payload&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;duration&#39;</span><span class="p">:</span> <span class="mi">150</span><span class="p">},</span>
</span><span id="__span-27-147"><a id="__codelineno-27-147" name="__codelineno-27-147" href="#__codelineno-27-147"></a>        <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Heavy payload&#39;</span><span class="p">,</span> <span class="s1">&#39;wind&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;payload&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;duration&#39;</span><span class="p">:</span> <span class="mi">200</span><span class="p">},</span>
</span><span id="__span-27-148"><a id="__codelineno-27-148" name="__codelineno-27-148" href="#__codelineno-27-148"></a>        <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Windy + payload&#39;</span><span class="p">,</span> <span class="s1">&#39;wind&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;payload&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;duration&#39;</span><span class="p">:</span> <span class="mi">250</span><span class="p">}</span>
</span><span id="__span-27-149"><a id="__codelineno-27-149" name="__codelineno-27-149" href="#__codelineno-27-149"></a>    <span class="p">]</span>
</span><span id="__span-27-150"><a id="__codelineno-27-150" name="__codelineno-27-150" href="#__codelineno-27-150"></a>
</span><span id="__span-27-151"><a id="__codelineno-27-151" name="__codelineno-27-151" href="#__codelineno-27-151"></a>    <span class="n">target_attitude</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;pitch&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;roll&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>  <span class="c1"># Level flight</span>
</span><span id="__span-27-152"><a id="__codelineno-27-152" name="__codelineno-27-152" href="#__codelineno-27-152"></a>
</span><span id="__span-27-153"><a id="__codelineno-27-153" name="__codelineno-27-153" href="#__codelineno-27-153"></a>    <span class="k">for</span> <span class="n">condition</span> <span class="ow">in</span> <span class="n">conditions</span><span class="p">:</span>
</span><span id="__span-27-154"><a id="__codelineno-27-154" name="__codelineno-27-154" href="#__codelineno-27-154"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">🌪️ Condition: </span><span class="si">{</span><span class="n">condition</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-27-155"><a id="__codelineno-27-155" name="__codelineno-27-155" href="#__codelineno-27-155"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="mi">30</span><span class="p">)</span>
</span><span id="__span-27-156"><a id="__codelineno-27-156" name="__codelineno-27-156" href="#__codelineno-27-156"></a>
</span><span id="__span-27-157"><a id="__codelineno-27-157" name="__codelineno-27-157" href="#__codelineno-27-157"></a>        <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">condition</span><span class="p">[</span><span class="s1">&#39;duration&#39;</span><span class="p">]):</span>
</span><span id="__span-27-158"><a id="__codelineno-27-158" name="__codelineno-27-158" href="#__codelineno-27-158"></a>            <span class="c1"># Simulate disturbances</span>
</span><span id="__span-27-159"><a id="__codelineno-27-159" name="__codelineno-27-159" href="#__codelineno-27-159"></a>            <span class="n">wind_disturbance</span> <span class="o">=</span> <span class="n">condition</span><span class="p">[</span><span class="s1">&#39;wind&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">step</span> <span class="o">*</span> <span class="mf">0.1</span><span class="p">)</span>
</span><span id="__span-27-160"><a id="__codelineno-27-160" name="__codelineno-27-160" href="#__codelineno-27-160"></a>            <span class="n">payload_effect</span> <span class="o">=</span> <span class="n">condition</span><span class="p">[</span><span class="s1">&#39;payload&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mf">0.5</span>
</span><span id="__span-27-161"><a id="__codelineno-27-161" name="__codelineno-27-161" href="#__codelineno-27-161"></a>
</span><span id="__span-27-162"><a id="__codelineno-27-162" name="__codelineno-27-162" href="#__codelineno-27-162"></a>            <span class="c1"># Current attitude affected by disturbances</span>
</span><span id="__span-27-163"><a id="__codelineno-27-163" name="__codelineno-27-163" href="#__codelineno-27-163"></a>            <span class="n">current_attitude</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-27-164"><a id="__codelineno-27-164" name="__codelineno-27-164" href="#__codelineno-27-164"></a>                <span class="s1">&#39;pitch&#39;</span><span class="p">:</span> <span class="n">wind_disturbance</span> <span class="o">+</span> <span class="n">payload_effect</span><span class="p">,</span>
</span><span id="__span-27-165"><a id="__codelineno-27-165" name="__codelineno-27-165" href="#__codelineno-27-165"></a>                <span class="s1">&#39;roll&#39;</span><span class="p">:</span> <span class="n">wind_disturbance</span> <span class="o">*</span> <span class="mf">0.7</span>
</span><span id="__span-27-166"><a id="__codelineno-27-166" name="__codelineno-27-166" href="#__codelineno-27-166"></a>            <span class="p">}</span>
</span><span id="__span-27-167"><a id="__codelineno-27-167" name="__codelineno-27-167" href="#__codelineno-27-167"></a>
</span><span id="__span-27-168"><a id="__codelineno-27-168" name="__codelineno-27-168" href="#__codelineno-27-168"></a>            <span class="c1"># Run adaptive control</span>
</span><span id="__span-27-169"><a id="__codelineno-27-169" name="__codelineno-27-169" href="#__codelineno-27-169"></a>            <span class="n">control_output</span> <span class="o">=</span> <span class="n">drone</span><span class="o">.</span><span class="n">adaptive_stabilization_control</span><span class="p">(</span>
</span><span id="__span-27-170"><a id="__codelineno-27-170" name="__codelineno-27-170" href="#__codelineno-27-170"></a>                <span class="n">target_attitude</span><span class="p">,</span> <span class="n">current_attitude</span><span class="p">,</span> <span class="mf">0.01</span>  <span class="c1"># 10ms timestep</span>
</span><span id="__span-27-171"><a id="__codelineno-27-171" name="__codelineno-27-171" href="#__codelineno-27-171"></a>            <span class="p">)</span>
</span><span id="__span-27-172"><a id="__codelineno-27-172" name="__codelineno-27-172" href="#__codelineno-27-172"></a>
</span><span id="__span-27-173"><a id="__codelineno-27-173" name="__codelineno-27-173" href="#__codelineno-27-173"></a>            <span class="c1"># Print status every 50 steps</span>
</span><span id="__span-27-174"><a id="__codelineno-27-174" name="__codelineno-27-174" href="#__codelineno-27-174"></a>            <span class="k">if</span> <span class="n">step</span> <span class="o">%</span> <span class="mi">50</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="__span-27-175"><a id="__codelineno-27-175" name="__codelineno-27-175" href="#__codelineno-27-175"></a>                <span class="n">gains</span> <span class="o">=</span> <span class="n">control_output</span><span class="p">[</span><span class="s1">&#39;current_gains&#39;</span><span class="p">][</span><span class="s1">&#39;pitch&#39;</span><span class="p">]</span>
</span><span id="__span-27-176"><a id="__codelineno-27-176" name="__codelineno-27-176" href="#__codelineno-27-176"></a>                <span class="n">perf</span> <span class="o">=</span> <span class="n">control_output</span><span class="p">[</span><span class="s1">&#39;performance&#39;</span><span class="p">]</span>
</span><span id="__span-27-177"><a id="__codelineno-27-177" name="__codelineno-27-177" href="#__codelineno-27-177"></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Step </span><span class="si">{</span><span class="n">step</span><span class="si">}</span><span class="s2">: Kp=</span><span class="si">{</span><span class="n">gains</span><span class="p">[</span><span class="s1">&#39;Kp&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">, &quot;</span>
</span><span id="__span-27-178"><a id="__codelineno-27-178" name="__codelineno-27-178" href="#__codelineno-27-178"></a>                      <span class="sa">f</span><span class="s2">&quot;Error=</span><span class="si">{</span><span class="n">perf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;pitch_error&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">°&quot;</span><span class="p">)</span>
</span><span id="__span-27-179"><a id="__codelineno-27-179" name="__codelineno-27-179" href="#__codelineno-27-179"></a>
</span><span id="__span-27-180"><a id="__codelineno-27-180" name="__codelineno-27-180" href="#__codelineno-27-180"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">✅ Adaptive control automatically tuned gains for each condition!&quot;</span><span class="p">)</span>
</span><span id="__span-27-181"><a id="__codelineno-27-181" name="__codelineno-27-181" href="#__codelineno-27-181"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;💡 The drone learned to handle wind and payload without manual tuning!&quot;</span><span class="p">)</span>
</span><span id="__span-27-182"><a id="__codelineno-27-182" name="__codelineno-27-182" href="#__codelineno-27-182"></a>
</span><span id="__span-27-183"><a id="__codelineno-27-183" name="__codelineno-27-183" href="#__codelineno-27-183"></a><span class="n">adaptive_drone_demo</span><span class="p">()</span>
</span></code></pre></div></p>
<h4 id="performance-optimization-techniques">🏎️ <strong>Performance Optimization Techniques</strong><a class="headerlink" href="#performance-optimization-techniques" title="Permanent link">&para;</a></h4>
<p><strong>1. Multi-Rate Control - Different Loops, Different Speeds</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">MultiRateController</span><span class="p">:</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Run different control loops at optimal frequencies&quot;&quot;&quot;</span>
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a>
</span><span id="__span-28-4"><a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-28-5"><a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a>        <span class="c1"># Fast inner loop - motor current control (10kHz)</span>
</span><span id="__span-28-6"><a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">current_controller</span> <span class="o">=</span> <span class="n">CurrentController</span><span class="p">(</span><span class="n">frequency</span><span class="o">=</span><span class="mi">10000</span><span class="p">)</span>
</span><span id="__span-28-7"><a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a>
</span><span id="__span-28-8"><a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a>        <span class="c1"># Medium loop - velocity control (1kHz) </span>
</span><span id="__span-28-9"><a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">velocity_controller</span> <span class="o">=</span> <span class="n">VelocityController</span><span class="p">(</span><span class="n">frequency</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
</span><span id="__span-28-10"><a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a>
</span><span id="__span-28-11"><a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a>        <span class="c1"># Slow outer loop - position control (100Hz)</span>
</span><span id="__span-28-12"><a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">position_controller</span> <span class="o">=</span> <span class="n">PositionController</span><span class="p">(</span><span class="n">frequency</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</span><span id="__span-28-13"><a id="__codelineno-28-13" name="__codelineno-28-13" href="#__codelineno-28-13"></a>
</span><span id="__span-28-14"><a id="__codelineno-28-14" name="__codelineno-28-14" href="#__codelineno-28-14"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">step_counter</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-28-15"><a id="__codelineno-28-15" name="__codelineno-28-15" href="#__codelineno-28-15"></a>
</span><span id="__span-28-16"><a id="__codelineno-28-16" name="__codelineno-28-16" href="#__codelineno-28-16"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">control_step</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-28-17"><a id="__codelineno-28-17" name="__codelineno-28-17" href="#__codelineno-28-17"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Efficient multi-rate control execution&quot;&quot;&quot;</span>
</span><span id="__span-28-18"><a id="__codelineno-28-18" name="__codelineno-28-18" href="#__codelineno-28-18"></a>
</span><span id="__span-28-19"><a id="__codelineno-28-19" name="__codelineno-28-19" href="#__codelineno-28-19"></a>        <span class="c1"># Current control runs every step (10kHz)</span>
</span><span id="__span-28-20"><a id="__codelineno-28-20" name="__codelineno-28-20" href="#__codelineno-28-20"></a>        <span class="n">current_command</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_controller</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span><span id="__span-28-21"><a id="__codelineno-28-21" name="__codelineno-28-21" href="#__codelineno-28-21"></a>
</span><span id="__span-28-22"><a id="__codelineno-28-22" name="__codelineno-28-22" href="#__codelineno-28-22"></a>        <span class="c1"># Velocity control runs every 10 steps (1kHz)</span>
</span><span id="__span-28-23"><a id="__codelineno-28-23" name="__codelineno-28-23" href="#__codelineno-28-23"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">step_counter</span> <span class="o">%</span> <span class="mi">10</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="__span-28-24"><a id="__codelineno-28-24" name="__codelineno-28-24" href="#__codelineno-28-24"></a>            <span class="n">velocity_command</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">velocity_controller</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span><span id="__span-28-25"><a id="__codelineno-28-25" name="__codelineno-28-25" href="#__codelineno-28-25"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_controller</span><span class="o">.</span><span class="n">set_reference</span><span class="p">(</span><span class="n">velocity_command</span><span class="p">)</span>
</span><span id="__span-28-26"><a id="__codelineno-28-26" name="__codelineno-28-26" href="#__codelineno-28-26"></a>
</span><span id="__span-28-27"><a id="__codelineno-28-27" name="__codelineno-28-27" href="#__codelineno-28-27"></a>        <span class="c1"># Position control runs every 100 steps (100Hz)</span>
</span><span id="__span-28-28"><a id="__codelineno-28-28" name="__codelineno-28-28" href="#__codelineno-28-28"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">step_counter</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="__span-28-29"><a id="__codelineno-28-29" name="__codelineno-28-29" href="#__codelineno-28-29"></a>            <span class="n">position_command</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">position_controller</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span><span id="__span-28-30"><a id="__codelineno-28-30" name="__codelineno-28-30" href="#__codelineno-28-30"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">velocity_controller</span><span class="o">.</span><span class="n">set_reference</span><span class="p">(</span><span class="n">position_command</span><span class="p">)</span>
</span><span id="__span-28-31"><a id="__codelineno-28-31" name="__codelineno-28-31" href="#__codelineno-28-31"></a>
</span><span id="__span-28-32"><a id="__codelineno-28-32" name="__codelineno-28-32" href="#__codelineno-28-32"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">step_counter</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="__span-28-33"><a id="__codelineno-28-33" name="__codelineno-28-33" href="#__codelineno-28-33"></a>        <span class="k">return</span> <span class="n">current_command</span>
</span></code></pre></div></p>
<p><strong>2. Predictive Control - The Chess Master Approach</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">ModelPredictiveController</span><span class="p">:</span>
</span><span id="__span-29-2"><a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Look ahead and plan optimal control sequence&quot;&quot;&quot;</span>
</span><span id="__span-29-3"><a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a>
</span><span id="__span-29-4"><a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prediction_horizon</span><span class="o">=</span><span class="mi">20</span><span class="p">):</span>
</span><span id="__span-29-5"><a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">horizon</span> <span class="o">=</span> <span class="n">prediction_horizon</span>
</span><span id="__span-29-6"><a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">system_model</span> <span class="o">=</span> <span class="n">SystemModel</span><span class="p">()</span>  <span class="c1"># Mathematical model of robot</span>
</span><span id="__span-29-7"><a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a>
</span><span id="__span-29-8"><a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">calculate_optimal_control</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">current_state</span><span class="p">,</span> <span class="n">target_trajectory</span><span class="p">):</span>
</span><span id="__span-29-9"><a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Find best control sequence for next N steps&quot;&quot;&quot;</span>
</span><span id="__span-29-10"><a id="__codelineno-29-10" name="__codelineno-29-10" href="#__codelineno-29-10"></a>
</span><span id="__span-29-11"><a id="__codelineno-29-11" name="__codelineno-29-11" href="#__codelineno-29-11"></a>        <span class="n">best_control_sequence</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-29-12"><a id="__codelineno-29-12" name="__codelineno-29-12" href="#__codelineno-29-12"></a>        <span class="n">min_cost</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">)</span>
</span><span id="__span-29-13"><a id="__codelineno-29-13" name="__codelineno-29-13" href="#__codelineno-29-13"></a>
</span><span id="__span-29-14"><a id="__codelineno-29-14" name="__codelineno-29-14" href="#__codelineno-29-14"></a>        <span class="c1"># Try different control sequences (simplified optimization)</span>
</span><span id="__span-29-15"><a id="__codelineno-29-15" name="__codelineno-29-15" href="#__codelineno-29-15"></a>        <span class="k">for</span> <span class="n">control_sequence</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_candidate_sequences</span><span class="p">():</span>
</span><span id="__span-29-16"><a id="__codelineno-29-16" name="__codelineno-29-16" href="#__codelineno-29-16"></a>
</span><span id="__span-29-17"><a id="__codelineno-29-17" name="__codelineno-29-17" href="#__codelineno-29-17"></a>            <span class="c1"># Simulate what would happen with this control sequence</span>
</span><span id="__span-29-18"><a id="__codelineno-29-18" name="__codelineno-29-18" href="#__codelineno-29-18"></a>            <span class="n">predicted_states</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">simulate_future</span><span class="p">(</span>
</span><span id="__span-29-19"><a id="__codelineno-29-19" name="__codelineno-29-19" href="#__codelineno-29-19"></a>                <span class="n">current_state</span><span class="p">,</span> <span class="n">control_sequence</span>
</span><span id="__span-29-20"><a id="__codelineno-29-20" name="__codelineno-29-20" href="#__codelineno-29-20"></a>            <span class="p">)</span>
</span><span id="__span-29-21"><a id="__codelineno-29-21" name="__codelineno-29-21" href="#__codelineno-29-21"></a>
</span><span id="__span-29-22"><a id="__codelineno-29-22" name="__codelineno-29-22" href="#__codelineno-29-22"></a>            <span class="c1"># Calculate how good this sequence is</span>
</span><span id="__span-29-23"><a id="__codelineno-29-23" name="__codelineno-29-23" href="#__codelineno-29-23"></a>            <span class="n">cost</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">evaluate_performance</span><span class="p">(</span>
</span><span id="__span-29-24"><a id="__codelineno-29-24" name="__codelineno-29-24" href="#__codelineno-29-24"></a>                <span class="n">predicted_states</span><span class="p">,</span> <span class="n">target_trajectory</span>
</span><span id="__span-29-25"><a id="__codelineno-29-25" name="__codelineno-29-25" href="#__codelineno-29-25"></a>            <span class="p">)</span>
</span><span id="__span-29-26"><a id="__codelineno-29-26" name="__codelineno-29-26" href="#__codelineno-29-26"></a>
</span><span id="__span-29-27"><a id="__codelineno-29-27" name="__codelineno-29-27" href="#__codelineno-29-27"></a>            <span class="k">if</span> <span class="n">cost</span> <span class="o">&lt;</span> <span class="n">min_cost</span><span class="p">:</span>
</span><span id="__span-29-28"><a id="__codelineno-29-28" name="__codelineno-29-28" href="#__codelineno-29-28"></a>                <span class="n">min_cost</span> <span class="o">=</span> <span class="n">cost</span>
</span><span id="__span-29-29"><a id="__codelineno-29-29" name="__codelineno-29-29" href="#__codelineno-29-29"></a>                <span class="n">best_control_sequence</span> <span class="o">=</span> <span class="n">control_sequence</span>
</span><span id="__span-29-30"><a id="__codelineno-29-30" name="__codelineno-29-30" href="#__codelineno-29-30"></a>
</span><span id="__span-29-31"><a id="__codelineno-29-31" name="__codelineno-29-31" href="#__codelineno-29-31"></a>        <span class="c1"># Return just the first control action (receding horizon)</span>
</span><span id="__span-29-32"><a id="__codelineno-29-32" name="__codelineno-29-32" href="#__codelineno-29-32"></a>        <span class="k">return</span> <span class="n">best_control_sequence</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="__span-29-33"><a id="__codelineno-29-33" name="__codelineno-29-33" href="#__codelineno-29-33"></a>
</span><span id="__span-29-34"><a id="__codelineno-29-34" name="__codelineno-29-34" href="#__codelineno-29-34"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">simulate_future</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">initial_state</span><span class="p">,</span> <span class="n">control_sequence</span><span class="p">):</span>
</span><span id="__span-29-35"><a id="__codelineno-29-35" name="__codelineno-29-35" href="#__codelineno-29-35"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Predict future states using system model&quot;&quot;&quot;</span>
</span><span id="__span-29-36"><a id="__codelineno-29-36" name="__codelineno-29-36" href="#__codelineno-29-36"></a>        <span class="n">states</span> <span class="o">=</span> <span class="p">[</span><span class="n">initial_state</span><span class="p">]</span>
</span><span id="__span-29-37"><a id="__codelineno-29-37" name="__codelineno-29-37" href="#__codelineno-29-37"></a>
</span><span id="__span-29-38"><a id="__codelineno-29-38" name="__codelineno-29-38" href="#__codelineno-29-38"></a>        <span class="k">for</span> <span class="n">control_input</span> <span class="ow">in</span> <span class="n">control_sequence</span><span class="p">:</span>
</span><span id="__span-29-39"><a id="__codelineno-29-39" name="__codelineno-29-39" href="#__codelineno-29-39"></a>            <span class="n">next_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">system_model</span><span class="o">.</span><span class="n">predict_next_state</span><span class="p">(</span>
</span><span id="__span-29-40"><a id="__codelineno-29-40" name="__codelineno-29-40" href="#__codelineno-29-40"></a>                <span class="n">states</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">control_input</span>
</span><span id="__span-29-41"><a id="__codelineno-29-41" name="__codelineno-29-41" href="#__codelineno-29-41"></a>            <span class="p">)</span>
</span><span id="__span-29-42"><a id="__codelineno-29-42" name="__codelineno-29-42" href="#__codelineno-29-42"></a>            <span class="n">states</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">next_state</span><span class="p">)</span>
</span><span id="__span-29-43"><a id="__codelineno-29-43" name="__codelineno-29-43" href="#__codelineno-29-43"></a>
</span><span id="__span-29-44"><a id="__codelineno-29-44" name="__codelineno-29-44" href="#__codelineno-29-44"></a>        <span class="k">return</span> <span class="n">states</span>
</span></code></pre></div></p>
<p>This is just a taste of advanced control techniques! Professional robotics uses even more sophisticated methods like machine learning-based control, robust control theory, and multi-agent coordination algorithms.</p>
<h3 id="user-interface-design">User Interface Design<a class="headerlink" href="#user-interface-design" title="Permanent link">&para;</a></h3>
<p>Simple user interfaces allow humans to interact with mechatronic systems. Example: Console menu for robotic arm control.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">menu</span><span class="p">():</span>
</span><span id="__span-30-2"><a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;1. Move to position&quot;</span><span class="p">)</span>
</span><span id="__span-30-3"><a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;2. Activate gripper&quot;</span><span class="p">)</span>
</span><span id="__span-30-4"><a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a>    <span class="n">choice</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Select option: &quot;</span><span class="p">)</span>
</span><span id="__span-30-5"><a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a>    <span class="k">if</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
</span><span id="__span-30-6"><a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a>        <span class="n">pos</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter position: &quot;</span><span class="p">))</span>
</span><span id="__span-30-7"><a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a>        <span class="n">move_to_position</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span> <span class="n">read_position_sensor</span><span class="p">())</span>
</span><span id="__span-30-8"><a id="__codelineno-30-8" name="__codelineno-30-8" href="#__codelineno-30-8"></a>    <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;2&quot;</span><span class="p">:</span>
</span><span id="__span-30-9"><a id="__codelineno-30-9" name="__codelineno-30-9" href="#__codelineno-30-9"></a>        <span class="n">activate_gripper</span><span class="p">()</span>
</span></code></pre></div>
<h3 id="testing-validation">Testing &amp; Validation<a class="headerlink" href="#testing-validation" title="Permanent link">&para;</a></h3>
<p>Unit tests ensure each control subroutine works as intended. Example test case:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">test_move_to_position</span><span class="p">():</span>
</span><span id="__span-31-2"><a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a>    <span class="k">assert</span> <span class="n">move_to_position</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">90</span><span class="p">)</span> <span class="o">==</span> <span class="mf">5.0</span>  <span class="c1"># expected motor speed</span>
</span></code></pre></div>
<p>Run tests regularly to catch errors and ensure robustness.</p>
<h3 id="conclusion">Conclusion<a class="headerlink" href="#conclusion" title="Permanent link">&para;</a></h3>
<p><strong>Reflection Questions:</strong></p>
<ol>
<li>How does simulation help you refine your control algorithms before building hardware?</li>
<li>What strategies can you use to improve the maintainability of your mechatronic code?</li>
<li>How does user interface design impact the usability of your mechatronic solution?</li>
</ol>
<h3 id="software-control-dependencies">Software Control &amp; Dependencies<a class="headerlink" href="#software-control-dependencies" title="Permanent link">&para;</a></h3>
<p>Managing motion constraints and degrees of freedom requires combining subsystems, sensors, actuators, and end effectors into cohesive routines. Example pseudocode:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">control_robot_arm</span><span class="p">(</span><span class="n">position</span><span class="p">,</span> <span class="n">speed</span><span class="p">):</span>
</span><span id="__span-32-2"><a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a>    <span class="k">if</span> <span class="n">within_limits</span><span class="p">(</span><span class="n">position</span><span class="p">):</span>
</span><span id="__span-32-3"><a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a>        <span class="n">set_motor_speed</span><span class="p">(</span><span class="n">speed</span><span class="p">)</span>
</span><span id="__span-32-4"><a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a>        <span class="n">read_sensors</span><span class="p">()</span>
</span><span id="__span-32-5"><a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a>        <span class="n">adjust_gripper</span><span class="p">()</span>
</span><span id="__span-32-6"><a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="__span-32-7"><a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a>        <span class="n">stop_motion</span><span class="p">()</span>
</span></code></pre></div>
<h3 id="power-battery-materials">Power, Battery &amp; Materials<a class="headerlink" href="#power-battery-materials" title="Permanent link">&para;</a></h3>
<p>Determining power and battery requirements involves calculating the consumption of all system components and ensuring adequate supply for peak loads. Material choices (e.g., aluminum vs. plastic) affect weight, conductivity, and durability, influencing both electrical design and control strategies.</p>
<h3 id="wiring-diagrams">Wiring Diagrams<a class="headerlink" href="#wiring-diagrams" title="Permanent link">&para;</a></h3>
<p><strong>Sample Wiring Diagram:</strong></p>
<pre  class="mermaid"><code>flowchart TD
    P[Power Supply 12V] -->|Vcc| MCU[Microcontroller]
    MCU -->|Data Bus| S[Sensor]
    MCU -->|Data Bus| A[Actuator]
    P -.->|GND| MCU
    P -.->|GND| S
    P -.->|GND| A
</code></pre>
<h3 id="specialist-requirements-for-assistive-systems-technology-that-changes-lives">Specialist Requirements for Assistive Systems: Technology That Changes Lives 🦽♿💪<a class="headerlink" href="#specialist-requirements-for-assistive-systems-technology-that-changes-lives" title="Permanent link">&para;</a></h3>
<p>Designing mechatronic solutions for people with disabilities isn't just engineering - it's about creating independence, dignity, and opportunity. These systems must be extraordinarily reliable, intuitive, and adaptive because they become extensions of the human body.</p>
<h4 id="universal-design-principles-in-mechatronics"><strong>Universal Design Principles in Mechatronics</strong><a class="headerlink" href="#universal-design-principles-in-mechatronics" title="Permanent link">&para;</a></h4>
<p><strong>The Seven Principles Every Assistive System Must Follow:</strong></p>
<ol>
<li><strong>Equitable Use:</strong> The design is useful to people with diverse abilities</li>
<li><strong>Flexibility in Use:</strong> Accommodates preferences and abilities  </li>
<li><strong>Simple and Intuitive:</strong> Easy to understand regardless of experience</li>
<li><strong>Perceptible Information:</strong> Communicates effectively to the user</li>
<li><strong>Tolerance for Error:</strong> Minimizes hazards of accidental actions</li>
<li><strong>Low Physical Effort:</strong> Efficient and comfortable to use</li>
<li><strong>Size/Space:</strong> Appropriate for approach and use</li>
</ol>
<h4 id="real-world-assistive-mechatronics-case-studies"><strong>Real-World Assistive Mechatronics Case Studies</strong><a class="headerlink" href="#real-world-assistive-mechatronics-case-studies" title="Permanent link">&para;</a></h4>
<p><strong>Case Study 1: Advanced Prosthetic Hand Control</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">BionicHandController</span><span class="p">:</span>
</span><span id="__span-33-2"><a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;EMG-controlled prosthetic hand with machine learning adaptation&quot;&quot;&quot;</span>
</span><span id="__span-33-3"><a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a>
</span><span id="__span-33-4"><a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-33-5"><a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a>        <span class="c1"># Multi-channel EMG sensors</span>
</span><span id="__span-33-6"><a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">emg_sensors</span> <span class="o">=</span> <span class="n">EMGArray</span><span class="p">(</span><span class="n">channels</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">sample_rate</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
</span><span id="__span-33-7"><a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a>
</span><span id="__span-33-8"><a id="__codelineno-33-8" name="__codelineno-33-8" href="#__codelineno-33-8"></a>        <span class="c1"># Machine learning for gesture recognition</span>
</span><span id="__span-33-9"><a id="__codelineno-33-9" name="__codelineno-33-9" href="#__codelineno-33-9"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">gesture_classifier</span> <span class="o">=</span> <span class="n">AdaptiveMLModel</span><span class="p">(</span>
</span><span id="__span-33-10"><a id="__codelineno-33-10" name="__codelineno-33-10" href="#__codelineno-33-10"></a>            <span class="n">model_type</span><span class="o">=</span><span class="s1">&#39;neural_network&#39;</span><span class="p">,</span>
</span><span id="__span-33-11"><a id="__codelineno-33-11" name="__codelineno-33-11" href="#__codelineno-33-11"></a>            <span class="n">input_features</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span>  <span class="c1"># EMG feature vector</span>
</span><span id="__span-33-12"><a id="__codelineno-33-12" name="__codelineno-33-12" href="#__codelineno-33-12"></a>            <span class="n">output_classes</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;open&#39;</span><span class="p">,</span> <span class="s1">&#39;close&#39;</span><span class="p">,</span> <span class="s1">&#39;pinch&#39;</span><span class="p">,</span> <span class="s1">&#39;point&#39;</span><span class="p">,</span> <span class="s1">&#39;rest&#39;</span><span class="p">]</span>
</span><span id="__span-33-13"><a id="__codelineno-33-13" name="__codelineno-33-13" href="#__codelineno-33-13"></a>        <span class="p">)</span>
</span><span id="__span-33-14"><a id="__codelineno-33-14" name="__codelineno-33-14" href="#__codelineno-33-14"></a>
</span><span id="__span-33-15"><a id="__codelineno-33-15" name="__codelineno-33-15" href="#__codelineno-33-15"></a>        <span class="c1"># Hand mechanics</span>
</span><span id="__span-33-16"><a id="__codelineno-33-16" name="__codelineno-33-16" href="#__codelineno-33-16"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">finger_actuators</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="__span-33-17"><a id="__codelineno-33-17" name="__codelineno-33-17" href="#__codelineno-33-17"></a>            <span class="n">ServoMotor</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> <span class="n">max_force</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">position_resolution</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span> 
</span><span id="__span-33-18"><a id="__codelineno-33-18" name="__codelineno-33-18" href="#__codelineno-33-18"></a>            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</span><span id="__span-33-19"><a id="__codelineno-33-19" name="__codelineno-33-19" href="#__codelineno-33-19"></a>        <span class="p">]</span>
</span><span id="__span-33-20"><a id="__codelineno-33-20" name="__codelineno-33-20" href="#__codelineno-33-20"></a>
</span><span id="__span-33-21"><a id="__codelineno-33-21" name="__codelineno-33-21" href="#__codelineno-33-21"></a>        <span class="c1"># Force feedback sensors</span>
</span><span id="__span-33-22"><a id="__codelineno-33-22" name="__codelineno-33-22" href="#__codelineno-33-22"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">force_sensors</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="__span-33-23"><a id="__codelineno-33-23" name="__codelineno-33-23" href="#__codelineno-33-23"></a>            <span class="n">PressureSensor</span><span class="p">(</span><span class="n">finger</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> <span class="n">sensitivity</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span> 
</span><span id="__span-33-24"><a id="__codelineno-33-24" name="__codelineno-33-24" href="#__codelineno-33-24"></a>            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</span><span id="__span-33-25"><a id="__codelineno-33-25" name="__codelineno-33-25" href="#__codelineno-33-25"></a>        <span class="p">]</span>
</span><span id="__span-33-26"><a id="__codelineno-33-26" name="__codelineno-33-26" href="#__codelineno-33-26"></a>
</span><span id="__span-33-27"><a id="__codelineno-33-27" name="__codelineno-33-27" href="#__codelineno-33-27"></a>        <span class="c1"># Safety systems</span>
</span><span id="__span-33-28"><a id="__codelineno-33-28" name="__codelineno-33-28" href="#__codelineno-33-28"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">emergency_stop</span> <span class="o">=</span> <span class="n">EmergencySystem</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
</span><span id="__span-33-29"><a id="__codelineno-33-29" name="__codelineno-33-29" href="#__codelineno-33-29"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">force_limiter</span> <span class="o">=</span> <span class="n">ForceLimiter</span><span class="p">(</span><span class="n">max_grip_force</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>  <span class="c1"># Newtons</span>
</span><span id="__span-33-30"><a id="__codelineno-33-30" name="__codelineno-33-30" href="#__codelineno-33-30"></a>
</span><span id="__span-33-31"><a id="__codelineno-33-31" name="__codelineno-33-31" href="#__codelineno-33-31"></a>        <span class="c1"># User adaptation system</span>
</span><span id="__span-33-32"><a id="__codelineno-33-32" name="__codelineno-33-32" href="#__codelineno-33-32"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">user_profile</span> <span class="o">=</span> <span class="n">UserProfile</span><span class="p">()</span>
</span><span id="__span-33-33"><a id="__codelineno-33-33" name="__codelineno-33-33" href="#__codelineno-33-33"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">learning_system</span> <span class="o">=</span> <span class="n">ContinualLearning</span><span class="p">()</span>
</span><span id="__span-33-34"><a id="__codelineno-33-34" name="__codelineno-33-34" href="#__codelineno-33-34"></a>
</span><span id="__span-33-35"><a id="__codelineno-33-35" name="__codelineno-33-35" href="#__codelineno-33-35"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;🦾 Bionic hand controller initialized&quot;</span><span class="p">)</span>
</span><span id="__span-33-36"><a id="__codelineno-33-36" name="__codelineno-33-36" href="#__codelineno-33-36"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Learning user&#39;s unique muscle patterns...&quot;</span><span class="p">)</span>
</span><span id="__span-33-37"><a id="__codelineno-33-37" name="__codelineno-33-37" href="#__codelineno-33-37"></a>
</span><span id="__span-33-38"><a id="__codelineno-33-38" name="__codelineno-33-38" href="#__codelineno-33-38"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">continuous_control_loop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-33-39"><a id="__codelineno-33-39" name="__codelineno-33-39" href="#__codelineno-33-39"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Main control loop with adaptive learning&quot;&quot;&quot;</span>
</span><span id="__span-33-40"><a id="__codelineno-33-40" name="__codelineno-33-40" href="#__codelineno-33-40"></a>
</span><span id="__span-33-41"><a id="__codelineno-33-41" name="__codelineno-33-41" href="#__codelineno-33-41"></a>        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
</span><span id="__span-33-42"><a id="__codelineno-33-42" name="__codelineno-33-42" href="#__codelineno-33-42"></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="__span-33-43"><a id="__codelineno-33-43" name="__codelineno-33-43" href="#__codelineno-33-43"></a>                <span class="c1"># Read EMG signals from residual limb muscles</span>
</span><span id="__span-33-44"><a id="__codelineno-33-44" name="__codelineno-33-44" href="#__codelineno-33-44"></a>                <span class="n">raw_emg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">emg_sensors</span><span class="o">.</span><span class="n">read_all_channels</span><span class="p">()</span>
</span><span id="__span-33-45"><a id="__codelineno-33-45" name="__codelineno-33-45" href="#__codelineno-33-45"></a>
</span><span id="__span-33-46"><a id="__codelineno-33-46" name="__codelineno-33-46" href="#__codelineno-33-46"></a>                <span class="c1"># Filter and extract features</span>
</span><span id="__span-33-47"><a id="__codelineno-33-47" name="__codelineno-33-47" href="#__codelineno-33-47"></a>                <span class="n">emg_features</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_emg_signals</span><span class="p">(</span><span class="n">raw_emg</span><span class="p">)</span>
</span><span id="__span-33-48"><a id="__codelineno-33-48" name="__codelineno-33-48" href="#__codelineno-33-48"></a>
</span><span id="__span-33-49"><a id="__codelineno-33-49" name="__codelineno-33-49" href="#__codelineno-33-49"></a>                <span class="c1"># Classify intended gesture</span>
</span><span id="__span-33-50"><a id="__codelineno-33-50" name="__codelineno-33-50" href="#__codelineno-33-50"></a>                <span class="n">intended_gesture</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gesture_classifier</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">emg_features</span><span class="p">)</span>
</span><span id="__span-33-51"><a id="__codelineno-33-51" name="__codelineno-33-51" href="#__codelineno-33-51"></a>                <span class="n">confidence</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gesture_classifier</span><span class="o">.</span><span class="n">get_confidence</span><span class="p">()</span>
</span><span id="__span-33-52"><a id="__codelineno-33-52" name="__codelineno-33-52" href="#__codelineno-33-52"></a>
</span><span id="__span-33-53"><a id="__codelineno-33-53" name="__codelineno-33-53" href="#__codelineno-33-53"></a>                <span class="c1"># Only act on high-confidence predictions</span>
</span><span id="__span-33-54"><a id="__codelineno-33-54" name="__codelineno-33-54" href="#__codelineno-33-54"></a>                <span class="k">if</span> <span class="n">confidence</span> <span class="o">&gt;</span> <span class="mf">0.8</span><span class="p">:</span>
</span><span id="__span-33-55"><a id="__codelineno-33-55" name="__codelineno-33-55" href="#__codelineno-33-55"></a>                    <span class="c1"># Execute gesture with force control</span>
</span><span id="__span-33-56"><a id="__codelineno-33-56" name="__codelineno-33-56" href="#__codelineno-33-56"></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">execute_gesture_safely</span><span class="p">(</span><span class="n">intended_gesture</span><span class="p">)</span>
</span><span id="__span-33-57"><a id="__codelineno-33-57" name="__codelineno-33-57" href="#__codelineno-33-57"></a>
</span><span id="__span-33-58"><a id="__codelineno-33-58" name="__codelineno-33-58" href="#__codelineno-33-58"></a>                    <span class="c1"># Learn from this interaction</span>
</span><span id="__span-33-59"><a id="__codelineno-33-59" name="__codelineno-33-59" href="#__codelineno-33-59"></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">learning_system</span><span class="o">.</span><span class="n">update_model</span><span class="p">(</span><span class="n">emg_features</span><span class="p">,</span> <span class="n">intended_gesture</span><span class="p">)</span>
</span><span id="__span-33-60"><a id="__codelineno-33-60" name="__codelineno-33-60" href="#__codelineno-33-60"></a>
</span><span id="__span-33-61"><a id="__codelineno-33-61" name="__codelineno-33-61" href="#__codelineno-33-61"></a>                <span class="c1"># Provide haptic feedback to user</span>
</span><span id="__span-33-62"><a id="__codelineno-33-62" name="__codelineno-33-62" href="#__codelineno-33-62"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">provide_tactile_feedback</span><span class="p">()</span>
</span><span id="__span-33-63"><a id="__codelineno-33-63" name="__codelineno-33-63" href="#__codelineno-33-63"></a>
</span><span id="__span-33-64"><a id="__codelineno-33-64" name="__codelineno-33-64" href="#__codelineno-33-64"></a>                <span class="c1"># Safety monitoring</span>
</span><span id="__span-33-65"><a id="__codelineno-33-65" name="__codelineno-33-65" href="#__codelineno-33-65"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">monitor_system_health</span><span class="p">()</span>
</span><span id="__span-33-66"><a id="__codelineno-33-66" name="__codelineno-33-66" href="#__codelineno-33-66"></a>
</span><span id="__span-33-67"><a id="__codelineno-33-67" name="__codelineno-33-67" href="#__codelineno-33-67"></a>            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="__span-33-68"><a id="__codelineno-33-68" name="__codelineno-33-68" href="#__codelineno-33-68"></a>                <span class="c1"># Fail-safe: open hand and alert user</span>
</span><span id="__span-33-69"><a id="__codelineno-33-69" name="__codelineno-33-69" href="#__codelineno-33-69"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">emergency_stop</span><span class="o">.</span><span class="n">activate</span><span class="p">()</span>
</span><span id="__span-33-70"><a id="__codelineno-33-70" name="__codelineno-33-70" href="#__codelineno-33-70"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">alert_user</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;System error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-33-71"><a id="__codelineno-33-71" name="__codelineno-33-71" href="#__codelineno-33-71"></a>
</span><span id="__span-33-72"><a id="__codelineno-33-72" name="__codelineno-33-72" href="#__codelineno-33-72"></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.001</span><span class="p">)</span>  <span class="c1"># 1000 Hz control rate</span>
</span><span id="__span-33-73"><a id="__codelineno-33-73" name="__codelineno-33-73" href="#__codelineno-33-73"></a>
</span><span id="__span-33-74"><a id="__codelineno-33-74" name="__codelineno-33-74" href="#__codelineno-33-74"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">execute_gesture_safely</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gesture</span><span class="p">):</span>
</span><span id="__span-33-75"><a id="__codelineno-33-75" name="__codelineno-33-75" href="#__codelineno-33-75"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Execute hand gesture with multiple safety layers&quot;&quot;&quot;</span>
</span><span id="__span-33-76"><a id="__codelineno-33-76" name="__codelineno-33-76" href="#__codelineno-33-76"></a>
</span><span id="__span-33-77"><a id="__codelineno-33-77" name="__codelineno-33-77" href="#__codelineno-33-77"></a>        <span class="c1"># Pre-movement safety checks</span>
</span><span id="__span-33-78"><a id="__codelineno-33-78" name="__codelineno-33-78" href="#__codelineno-33-78"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">safety_clearance_check</span><span class="p">():</span>
</span><span id="__span-33-79"><a id="__codelineno-33-79" name="__codelineno-33-79" href="#__codelineno-33-79"></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="__span-33-80"><a id="__codelineno-33-80" name="__codelineno-33-80" href="#__codelineno-33-80"></a>
</span><span id="__span-33-81"><a id="__codelineno-33-81" name="__codelineno-33-81" href="#__codelineno-33-81"></a>        <span class="n">gesture_commands</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-33-82"><a id="__codelineno-33-82" name="__codelineno-33-82" href="#__codelineno-33-82"></a>            <span class="s1">&#39;open&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>  <span class="c1"># All fingers extended</span>
</span><span id="__span-33-83"><a id="__codelineno-33-83" name="__codelineno-33-83" href="#__codelineno-33-83"></a>            <span class="s1">&#39;close&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">90</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">90</span><span class="p">],</span>  <span class="c1"># Full grip</span>
</span><span id="__span-33-84"><a id="__codelineno-33-84" name="__codelineno-33-84" href="#__codelineno-33-84"></a>            <span class="s1">&#39;pinch&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">80</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">],</span>  <span class="c1"># Thumb-index pinch</span>
</span><span id="__span-33-85"><a id="__codelineno-33-85" name="__codelineno-33-85" href="#__codelineno-33-85"></a>            <span class="s1">&#39;point&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">80</span><span class="p">],</span>  <span class="c1"># Index finger pointing</span>
</span><span id="__span-33-86"><a id="__codelineno-33-86" name="__codelineno-33-86" href="#__codelineno-33-86"></a>            <span class="s1">&#39;rest&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_rest_position</span><span class="p">()</span>  <span class="c1"># Neutral position</span>
</span><span id="__span-33-87"><a id="__codelineno-33-87" name="__codelineno-33-87" href="#__codelineno-33-87"></a>        <span class="p">}</span>
</span><span id="__span-33-88"><a id="__codelineno-33-88" name="__codelineno-33-88" href="#__codelineno-33-88"></a>
</span><span id="__span-33-89"><a id="__codelineno-33-89" name="__codelineno-33-89" href="#__codelineno-33-89"></a>        <span class="n">target_positions</span> <span class="o">=</span> <span class="n">gesture_commands</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">gesture</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
</span><span id="__span-33-90"><a id="__codelineno-33-90" name="__codelineno-33-90" href="#__codelineno-33-90"></a>
</span><span id="__span-33-91"><a id="__codelineno-33-91" name="__codelineno-33-91" href="#__codelineno-33-91"></a>        <span class="c1"># Execute with force feedback</span>
</span><span id="__span-33-92"><a id="__codelineno-33-92" name="__codelineno-33-92" href="#__codelineno-33-92"></a>        <span class="k">for</span> <span class="n">finger_id</span><span class="p">,</span> <span class="n">target_pos</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">target_positions</span><span class="p">):</span>
</span><span id="__span-33-93"><a id="__codelineno-33-93" name="__codelineno-33-93" href="#__codelineno-33-93"></a>
</span><span id="__span-33-94"><a id="__codelineno-33-94" name="__codelineno-33-94" href="#__codelineno-33-94"></a>            <span class="c1"># Gradual movement with force monitoring</span>
</span><span id="__span-33-95"><a id="__codelineno-33-95" name="__codelineno-33-95" href="#__codelineno-33-95"></a>            <span class="n">current_pos</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">finger_actuators</span><span class="p">[</span><span class="n">finger_id</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
</span><span id="__span-33-96"><a id="__codelineno-33-96" name="__codelineno-33-96" href="#__codelineno-33-96"></a>
</span><span id="__span-33-97"><a id="__codelineno-33-97" name="__codelineno-33-97" href="#__codelineno-33-97"></a>            <span class="c1"># Plan smooth trajectory</span>
</span><span id="__span-33-98"><a id="__codelineno-33-98" name="__codelineno-33-98" href="#__codelineno-33-98"></a>            <span class="n">trajectory</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plan_safe_trajectory</span><span class="p">(</span><span class="n">current_pos</span><span class="p">,</span> <span class="n">target_pos</span><span class="p">)</span>
</span><span id="__span-33-99"><a id="__codelineno-33-99" name="__codelineno-33-99" href="#__codelineno-33-99"></a>
</span><span id="__span-33-100"><a id="__codelineno-33-100" name="__codelineno-33-100" href="#__codelineno-33-100"></a>            <span class="k">for</span> <span class="n">waypoint</span> <span class="ow">in</span> <span class="n">trajectory</span><span class="p">:</span>
</span><span id="__span-33-101"><a id="__codelineno-33-101" name="__codelineno-33-101" href="#__codelineno-33-101"></a>                <span class="c1"># Move to waypoint</span>
</span><span id="__span-33-102"><a id="__codelineno-33-102" name="__codelineno-33-102" href="#__codelineno-33-102"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">finger_actuators</span><span class="p">[</span><span class="n">finger_id</span><span class="p">]</span><span class="o">.</span><span class="n">move_to</span><span class="p">(</span><span class="n">waypoint</span><span class="p">)</span>
</span><span id="__span-33-103"><a id="__codelineno-33-103" name="__codelineno-33-103" href="#__codelineno-33-103"></a>
</span><span id="__span-33-104"><a id="__codelineno-33-104" name="__codelineno-33-104" href="#__codelineno-33-104"></a>                <span class="c1"># Monitor contact forces</span>
</span><span id="__span-33-105"><a id="__codelineno-33-105" name="__codelineno-33-105" href="#__codelineno-33-105"></a>                <span class="n">contact_force</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">force_sensors</span><span class="p">[</span><span class="n">finger_id</span><span class="p">]</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</span><span id="__span-33-106"><a id="__codelineno-33-106" name="__codelineno-33-106" href="#__codelineno-33-106"></a>
</span><span id="__span-33-107"><a id="__codelineno-33-107" name="__codelineno-33-107" href="#__codelineno-33-107"></a>                <span class="k">if</span> <span class="n">contact_force</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">force_limiter</span><span class="o">.</span><span class="n">safe_threshold</span><span class="p">:</span>
</span><span id="__span-33-108"><a id="__codelineno-33-108" name="__codelineno-33-108" href="#__codelineno-33-108"></a>                    <span class="c1"># Stop movement - contact detected</span>
</span><span id="__span-33-109"><a id="__codelineno-33-109" name="__codelineno-33-109" href="#__codelineno-33-109"></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;👆 Finger </span><span class="si">{</span><span class="n">finger_id</span><span class="si">}</span><span class="s2">: Contact detected at </span><span class="si">{</span><span class="n">contact_force</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">N&quot;</span><span class="p">)</span>
</span><span id="__span-33-110"><a id="__codelineno-33-110" name="__codelineno-33-110" href="#__codelineno-33-110"></a>                    <span class="k">break</span>
</span><span id="__span-33-111"><a id="__codelineno-33-111" name="__codelineno-33-111" href="#__codelineno-33-111"></a>
</span><span id="__span-33-112"><a id="__codelineno-33-112" name="__codelineno-33-112" href="#__codelineno-33-112"></a>                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.002</span><span class="p">)</span>  <span class="c1"># Smooth movement</span>
</span><span id="__span-33-113"><a id="__codelineno-33-113" name="__codelineno-33-113" href="#__codelineno-33-113"></a>
</span><span id="__span-33-114"><a id="__codelineno-33-114" name="__codelineno-33-114" href="#__codelineno-33-114"></a>        <span class="c1"># Log successful gesture</span>
</span><span id="__span-33-115"><a id="__codelineno-33-115" name="__codelineno-33-115" href="#__codelineno-33-115"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">user_profile</span><span class="o">.</span><span class="n">log_gesture</span><span class="p">(</span><span class="n">gesture</span><span class="p">,</span> <span class="n">success</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-33-116"><a id="__codelineno-33-116" name="__codelineno-33-116" href="#__codelineno-33-116"></a>
</span><span id="__span-33-117"><a id="__codelineno-33-117" name="__codelineno-33-117" href="#__codelineno-33-117"></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="__span-33-118"><a id="__codelineno-33-118" name="__codelineno-33-118" href="#__codelineno-33-118"></a>
</span><span id="__span-33-119"><a id="__codelineno-33-119" name="__codelineno-33-119" href="#__codelineno-33-119"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">process_emg_signals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raw_signals</span><span class="p">):</span>
</span><span id="__span-33-120"><a id="__codelineno-33-120" name="__codelineno-33-120" href="#__codelineno-33-120"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Advanced EMG signal processing for gesture recognition&quot;&quot;&quot;</span>
</span><span id="__span-33-121"><a id="__codelineno-33-121" name="__codelineno-33-121" href="#__codelineno-33-121"></a>
</span><span id="__span-33-122"><a id="__codelineno-33-122" name="__codelineno-33-122" href="#__codelineno-33-122"></a>        <span class="n">features</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-33-123"><a id="__codelineno-33-123" name="__codelineno-33-123" href="#__codelineno-33-123"></a>
</span><span id="__span-33-124"><a id="__codelineno-33-124" name="__codelineno-33-124" href="#__codelineno-33-124"></a>        <span class="k">for</span> <span class="n">channel</span> <span class="ow">in</span> <span class="n">raw_signals</span><span class="p">:</span>
</span><span id="__span-33-125"><a id="__codelineno-33-125" name="__codelineno-33-125" href="#__codelineno-33-125"></a>            <span class="c1"># Time domain features</span>
</span><span id="__span-33-126"><a id="__codelineno-33-126" name="__codelineno-33-126" href="#__codelineno-33-126"></a>            <span class="n">features</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="__span-33-127"><a id="__codelineno-33-127" name="__codelineno-33-127" href="#__codelineno-33-127"></a>                <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">channel</span><span class="p">)),</span>  <span class="c1"># Mean Absolute Value</span>
</span><span id="__span-33-128"><a id="__codelineno-33-128" name="__codelineno-33-128" href="#__codelineno-33-128"></a>                <span class="n">np</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="n">channel</span><span class="p">),</span>           <span class="c1"># Variance</span>
</span><span id="__span-33-129"><a id="__codelineno-33-129" name="__codelineno-33-129" href="#__codelineno-33-129"></a>                <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">channel</span><span class="o">**</span><span class="mi">2</span><span class="p">)),</span>  <span class="c1"># Root Mean Square</span>
</span><span id="__span-33-130"><a id="__codelineno-33-130" name="__codelineno-33-130" href="#__codelineno-33-130"></a>                <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">zero_crossings</span><span class="p">(</span><span class="n">channel</span><span class="p">))</span>  <span class="c1"># Zero crossings</span>
</span><span id="__span-33-131"><a id="__codelineno-33-131" name="__codelineno-33-131" href="#__codelineno-33-131"></a>            <span class="p">])</span>
</span><span id="__span-33-132"><a id="__codelineno-33-132" name="__codelineno-33-132" href="#__codelineno-33-132"></a>
</span><span id="__span-33-133"><a id="__codelineno-33-133" name="__codelineno-33-133" href="#__codelineno-33-133"></a>            <span class="c1"># Frequency domain features</span>
</span><span id="__span-33-134"><a id="__codelineno-33-134" name="__codelineno-33-134" href="#__codelineno-33-134"></a>            <span class="n">fft</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">fft</span><span class="o">.</span><span class="n">fft</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
</span><span id="__span-33-135"><a id="__codelineno-33-135" name="__codelineno-33-135" href="#__codelineno-33-135"></a>            <span class="n">power_spectrum</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">fft</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>
</span><span id="__span-33-136"><a id="__codelineno-33-136" name="__codelineno-33-136" href="#__codelineno-33-136"></a>
</span><span id="__span-33-137"><a id="__codelineno-33-137" name="__codelineno-33-137" href="#__codelineno-33-137"></a>            <span class="n">features</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="__span-33-138"><a id="__codelineno-33-138" name="__codelineno-33-138" href="#__codelineno-33-138"></a>                <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">power_spectrum</span><span class="p">[</span><span class="mi">10</span><span class="p">:</span><span class="mi">50</span><span class="p">]),</span>   <span class="c1"># Low frequency power</span>
</span><span id="__span-33-139"><a id="__codelineno-33-139" name="__codelineno-33-139" href="#__codelineno-33-139"></a>                <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">power_spectrum</span><span class="p">[</span><span class="mi">50</span><span class="p">:</span><span class="mi">150</span><span class="p">]),</span>  <span class="c1"># Mid frequency power</span>
</span><span id="__span-33-140"><a id="__codelineno-33-140" name="__codelineno-33-140" href="#__codelineno-33-140"></a>                <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">power_spectrum</span><span class="p">[</span><span class="mi">150</span><span class="p">:</span><span class="mi">250</span><span class="p">])</span>  <span class="c1"># High frequency power</span>
</span><span id="__span-33-141"><a id="__codelineno-33-141" name="__codelineno-33-141" href="#__codelineno-33-141"></a>            <span class="p">])</span>
</span><span id="__span-33-142"><a id="__codelineno-33-142" name="__codelineno-33-142" href="#__codelineno-33-142"></a>
</span><span id="__span-33-143"><a id="__codelineno-33-143" name="__codelineno-33-143" href="#__codelineno-33-143"></a>        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">features</span><span class="p">)</span>
</span><span id="__span-33-144"><a id="__codelineno-33-144" name="__codelineno-33-144" href="#__codelineno-33-144"></a>
</span><span id="__span-33-145"><a id="__codelineno-33-145" name="__codelineno-33-145" href="#__codelineno-33-145"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">provide_tactile_feedback</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-33-146"><a id="__codelineno-33-146" name="__codelineno-33-146" href="#__codelineno-33-146"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Provide haptic feedback about hand state&quot;&quot;&quot;</span>
</span><span id="__span-33-147"><a id="__codelineno-33-147" name="__codelineno-33-147" href="#__codelineno-33-147"></a>
</span><span id="__span-33-148"><a id="__codelineno-33-148" name="__codelineno-33-148" href="#__codelineno-33-148"></a>        <span class="c1"># Simple vibration patterns for different states</span>
</span><span id="__span-33-149"><a id="__codelineno-33-149" name="__codelineno-33-149" href="#__codelineno-33-149"></a>        <span class="n">total_force</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">sensor</span><span class="o">.</span><span class="n">read</span><span class="p">()</span> <span class="k">for</span> <span class="n">sensor</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">force_sensors</span><span class="p">)</span>
</span><span id="__span-33-150"><a id="__codelineno-33-150" name="__codelineno-33-150" href="#__codelineno-33-150"></a>
</span><span id="__span-33-151"><a id="__codelineno-33-151" name="__codelineno-33-151" href="#__codelineno-33-151"></a>        <span class="k">if</span> <span class="n">total_force</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">:</span>  <span class="c1"># Strong grip</span>
</span><span id="__span-33-152"><a id="__codelineno-33-152" name="__codelineno-33-152" href="#__codelineno-33-152"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">haptic_actuator</span><span class="o">.</span><span class="n">pulse</span><span class="p">(</span><span class="n">intensity</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
</span><span id="__span-33-153"><a id="__codelineno-33-153" name="__codelineno-33-153" href="#__codelineno-33-153"></a>        <span class="k">elif</span> <span class="n">total_force</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">:</span>  <span class="c1"># Light grip</span>
</span><span id="__span-33-154"><a id="__codelineno-33-154" name="__codelineno-33-154" href="#__codelineno-33-154"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">haptic_actuator</span><span class="o">.</span><span class="n">pulse</span><span class="p">(</span><span class="n">intensity</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
</span><span id="__span-33-155"><a id="__codelineno-33-155" name="__codelineno-33-155" href="#__codelineno-33-155"></a>        <span class="c1"># No feedback for no contact</span>
</span><span id="__span-33-156"><a id="__codelineno-33-156" name="__codelineno-33-156" href="#__codelineno-33-156"></a>
</span><span id="__span-33-157"><a id="__codelineno-33-157" name="__codelineno-33-157" href="#__codelineno-33-157"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">calibrate_to_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">):</span>
</span><span id="__span-33-158"><a id="__codelineno-33-158" name="__codelineno-33-158" href="#__codelineno-33-158"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Personalized calibration process&quot;&quot;&quot;</span>
</span><span id="__span-33-159"><a id="__codelineno-33-159" name="__codelineno-33-159" href="#__codelineno-33-159"></a>
</span><span id="__span-33-160"><a id="__codelineno-33-160" name="__codelineno-33-160" href="#__codelineno-33-160"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🎯 Starting calibration for user </span><span class="si">{</span><span class="n">user_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-33-161"><a id="__codelineno-33-161" name="__codelineno-33-161" href="#__codelineno-33-161"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Please perform each gesture when prompted...&quot;</span><span class="p">)</span>
</span><span id="__span-33-162"><a id="__codelineno-33-162" name="__codelineno-33-162" href="#__codelineno-33-162"></a>
</span><span id="__span-33-163"><a id="__codelineno-33-163" name="__codelineno-33-163" href="#__codelineno-33-163"></a>        <span class="n">calibration_data</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="__span-33-164"><a id="__codelineno-33-164" name="__codelineno-33-164" href="#__codelineno-33-164"></a>        <span class="n">gestures_to_learn</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;open&#39;</span><span class="p">,</span> <span class="s1">&#39;close&#39;</span><span class="p">,</span> <span class="s1">&#39;pinch&#39;</span><span class="p">,</span> <span class="s1">&#39;point&#39;</span><span class="p">,</span> <span class="s1">&#39;rest&#39;</span><span class="p">]</span>
</span><span id="__span-33-165"><a id="__codelineno-33-165" name="__codelineno-33-165" href="#__codelineno-33-165"></a>
</span><span id="__span-33-166"><a id="__codelineno-33-166" name="__codelineno-33-166" href="#__codelineno-33-166"></a>        <span class="k">for</span> <span class="n">gesture</span> <span class="ow">in</span> <span class="n">gestures_to_learn</span><span class="p">:</span>
</span><span id="__span-33-167"><a id="__codelineno-33-167" name="__codelineno-33-167" href="#__codelineno-33-167"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">👋 Please perform: </span><span class="si">{</span><span class="n">gesture</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-33-168"><a id="__codelineno-33-168" name="__codelineno-33-168" href="#__codelineno-33-168"></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hold the gesture for 3 seconds...&quot;</span><span class="p">)</span>
</span><span id="__span-33-169"><a id="__codelineno-33-169" name="__codelineno-33-169" href="#__codelineno-33-169"></a>
</span><span id="__span-33-170"><a id="__codelineno-33-170" name="__codelineno-33-170" href="#__codelineno-33-170"></a>            <span class="c1"># Collect training data</span>
</span><span id="__span-33-171"><a id="__codelineno-33-171" name="__codelineno-33-171" href="#__codelineno-33-171"></a>            <span class="n">emg_samples</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-33-172"><a id="__codelineno-33-172" name="__codelineno-33-172" href="#__codelineno-33-172"></a>            <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">300</span><span class="p">):</span>  <span class="c1"># 3 seconds at 100Hz</span>
</span><span id="__span-33-173"><a id="__codelineno-33-173" name="__codelineno-33-173" href="#__codelineno-33-173"></a>                <span class="n">raw_emg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">emg_sensors</span><span class="o">.</span><span class="n">read_all_channels</span><span class="p">()</span>
</span><span id="__span-33-174"><a id="__codelineno-33-174" name="__codelineno-33-174" href="#__codelineno-33-174"></a>                <span class="n">features</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_emg_signals</span><span class="p">(</span><span class="n">raw_emg</span><span class="p">)</span>
</span><span id="__span-33-175"><a id="__codelineno-33-175" name="__codelineno-33-175" href="#__codelineno-33-175"></a>                <span class="n">emg_samples</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">features</span><span class="p">)</span>
</span><span id="__span-33-176"><a id="__codelineno-33-176" name="__codelineno-33-176" href="#__codelineno-33-176"></a>                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.01</span><span class="p">)</span>
</span><span id="__span-33-177"><a id="__codelineno-33-177" name="__codelineno-33-177" href="#__codelineno-33-177"></a>
</span><span id="__span-33-178"><a id="__codelineno-33-178" name="__codelineno-33-178" href="#__codelineno-33-178"></a>            <span class="n">calibration_data</span><span class="p">[</span><span class="n">gesture</span><span class="p">]</span> <span class="o">=</span> <span class="n">emg_samples</span>
</span><span id="__span-33-179"><a id="__codelineno-33-179" name="__codelineno-33-179" href="#__codelineno-33-179"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ </span><span class="si">{</span><span class="n">gesture</span><span class="si">}</span><span class="s2"> pattern learned!&quot;</span><span class="p">)</span>
</span><span id="__span-33-180"><a id="__codelineno-33-180" name="__codelineno-33-180" href="#__codelineno-33-180"></a>
</span><span id="__span-33-181"><a id="__codelineno-33-181" name="__codelineno-33-181" href="#__codelineno-33-181"></a>        <span class="c1"># Train personalized model</span>
</span><span id="__span-33-182"><a id="__codelineno-33-182" name="__codelineno-33-182" href="#__codelineno-33-182"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">gesture_classifier</span><span class="o">.</span><span class="n">train_user_model</span><span class="p">(</span><span class="n">calibration_data</span><span class="p">)</span>
</span><span id="__span-33-183"><a id="__codelineno-33-183" name="__codelineno-33-183" href="#__codelineno-33-183"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">user_profile</span><span class="o">.</span><span class="n">save_calibration</span><span class="p">(</span><span class="n">user_id</span><span class="p">,</span> <span class="n">calibration_data</span><span class="p">)</span>
</span><span id="__span-33-184"><a id="__codelineno-33-184" name="__codelineno-33-184" href="#__codelineno-33-184"></a>
</span><span id="__span-33-185"><a id="__codelineno-33-185" name="__codelineno-33-185" href="#__codelineno-33-185"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;🎊 Calibration complete! Hand is ready for use.&quot;</span><span class="p">)</span>
</span><span id="__span-33-186"><a id="__codelineno-33-186" name="__codelineno-33-186" href="#__codelineno-33-186"></a>
</span><span id="__span-33-187"><a id="__codelineno-33-187" name="__codelineno-33-187" href="#__codelineno-33-187"></a><span class="c1"># Usage example</span>
</span><span id="__span-33-188"><a id="__codelineno-33-188" name="__codelineno-33-188" href="#__codelineno-33-188"></a><span class="n">bionic_hand</span> <span class="o">=</span> <span class="n">BionicHandController</span><span class="p">()</span>
</span><span id="__span-33-189"><a id="__codelineno-33-189" name="__codelineno-33-189" href="#__codelineno-33-189"></a><span class="n">bionic_hand</span><span class="o">.</span><span class="n">calibrate_to_user</span><span class="p">(</span><span class="s2">&quot;PATIENT_001&quot;</span><span class="p">)</span>
</span><span id="__span-33-190"><a id="__codelineno-33-190" name="__codelineno-33-190" href="#__codelineno-33-190"></a><span class="n">bionic_hand</span><span class="o">.</span><span class="n">continuous_control_loop</span><span class="p">()</span>
</span></code></pre></div></p>
<p><strong>Case Study 2: Eye-Tracking Wheelchair Control</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">EyeControlledWheelchair</span><span class="p">:</span>
</span><span id="__span-34-2"><a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Advanced wheelchair controlled by eye movements and blinks&quot;&quot;&quot;</span>
</span><span id="__span-34-3"><a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a>
</span><span id="__span-34-4"><a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-34-5"><a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a>        <span class="c1"># Eye tracking hardware</span>
</span><span id="__span-34-6"><a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">eye_tracker</span> <span class="o">=</span> <span class="n">EyeTracker</span><span class="p">(</span>
</span><span id="__span-34-7"><a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a>            <span class="n">camera_resolution</span><span class="o">=</span><span class="p">(</span><span class="mi">1920</span><span class="p">,</span> <span class="mi">1080</span><span class="p">),</span>
</span><span id="__span-34-8"><a id="__codelineno-34-8" name="__codelineno-34-8" href="#__codelineno-34-8"></a>            <span class="n">tracking_frequency</span><span class="o">=</span><span class="mi">120</span><span class="p">,</span>  <span class="c1"># Hz</span>
</span><span id="__span-34-9"><a id="__codelineno-34-9" name="__codelineno-34-9" href="#__codelineno-34-9"></a>            <span class="n">calibration_points</span><span class="o">=</span><span class="mi">9</span>
</span><span id="__span-34-10"><a id="__codelineno-34-10" name="__codelineno-34-10" href="#__codelineno-34-10"></a>        <span class="p">)</span>
</span><span id="__span-34-11"><a id="__codelineno-34-11" name="__codelineno-34-11" href="#__codelineno-34-11"></a>
</span><span id="__span-34-12"><a id="__codelineno-34-12" name="__codelineno-34-12" href="#__codelineno-34-12"></a>        <span class="c1"># Wheelchair mechanics</span>
</span><span id="__span-34-13"><a id="__codelineno-34-13" name="__codelineno-34-13" href="#__codelineno-34-13"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">left_motor</span> <span class="o">=</span> <span class="n">WheelchairMotor</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">max_speed</span><span class="o">=</span><span class="mf">5.0</span><span class="p">)</span>  <span class="c1"># m/s</span>
</span><span id="__span-34-14"><a id="__codelineno-34-14" name="__codelineno-34-14" href="#__codelineno-34-14"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">right_motor</span> <span class="o">=</span> <span class="n">WheelchairMotor</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">,</span> <span class="n">max_speed</span><span class="o">=</span><span class="mf">5.0</span><span class="p">)</span>
</span><span id="__span-34-15"><a id="__codelineno-34-15" name="__codelineno-34-15" href="#__codelineno-34-15"></a>
</span><span id="__span-34-16"><a id="__codelineno-34-16" name="__codelineno-34-16" href="#__codelineno-34-16"></a>        <span class="c1"># Safety systems</span>
</span><span id="__span-34-17"><a id="__codelineno-34-17" name="__codelineno-34-17" href="#__codelineno-34-17"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">obstacle_sensors</span> <span class="o">=</span> <span class="n">LidarArray</span><span class="p">(</span><span class="n">range_max</span><span class="o">=</span><span class="mf">5.0</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
</span><span id="__span-34-18"><a id="__codelineno-34-18" name="__codelineno-34-18" href="#__codelineno-34-18"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">emergency_stop</span> <span class="o">=</span> <span class="n">WirelessEmergencyButton</span><span class="p">()</span>
</span><span id="__span-34-19"><a id="__codelineno-34-19" name="__codelineno-34-19" href="#__codelineno-34-19"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tilt_sensor</span> <span class="o">=</span> <span class="n">IMU</span><span class="p">()</span>
</span><span id="__span-34-20"><a id="__codelineno-34-20" name="__codelineno-34-20" href="#__codelineno-34-20"></a>
</span><span id="__span-34-21"><a id="__codelineno-34-21" name="__codelineno-34-21" href="#__codelineno-34-21"></a>        <span class="c1"># User interface</span>
</span><span id="__span-34-22"><a id="__codelineno-34-22" name="__codelineno-34-22" href="#__codelineno-34-22"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">display</span> <span class="o">=</span> <span class="n">HeadMountedDisplay</span><span class="p">()</span>
</span><span id="__span-34-23"><a id="__codelineno-34-23" name="__codelineno-34-23" href="#__codelineno-34-23"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">voice_feedback</span> <span class="o">=</span> <span class="n">TextToSpeech</span><span class="p">()</span>
</span><span id="__span-34-24"><a id="__codelineno-34-24" name="__codelineno-34-24" href="#__codelineno-34-24"></a>
</span><span id="__span-34-25"><a id="__codelineno-34-25" name="__codelineno-34-25" href="#__codelineno-34-25"></a>        <span class="c1"># Control modes</span>
</span><span id="__span-34-26"><a id="__codelineno-34-26" name="__codelineno-34-26" href="#__codelineno-34-26"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">control_mode</span> <span class="o">=</span> <span class="s1">&#39;gaze_pointing&#39;</span>  <span class="c1"># or &#39;blink_commands&#39;</span>
</span><span id="__span-34-27"><a id="__codelineno-34-27" name="__codelineno-34-27" href="#__codelineno-34-27"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">safety_enabled</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="__span-34-28"><a id="__codelineno-34-28" name="__codelineno-34-28" href="#__codelineno-34-28"></a>
</span><span id="__span-34-29"><a id="__codelineno-34-29" name="__codelineno-34-29" href="#__codelineno-34-29"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;👁️ Eye-controlled wheelchair system initialized&quot;</span><span class="p">)</span>
</span><span id="__span-34-30"><a id="__codelineno-34-30" name="__codelineno-34-30" href="#__codelineno-34-30"></a>
</span><span id="__span-34-31"><a id="__codelineno-34-31" name="__codelineno-34-31" href="#__codelineno-34-31"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">main_control_loop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-34-32"><a id="__codelineno-34-32" name="__codelineno-34-32" href="#__codelineno-34-32"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Main wheelchair control with eye tracking&quot;&quot;&quot;</span>
</span><span id="__span-34-33"><a id="__codelineno-34-33" name="__codelineno-34-33" href="#__codelineno-34-33"></a>
</span><span id="__span-34-34"><a id="__codelineno-34-34" name="__codelineno-34-34" href="#__codelineno-34-34"></a>        <span class="c1"># Display control interface</span>
</span><span id="__span-34-35"><a id="__codelineno-34-35" name="__codelineno-34-35" href="#__codelineno-34-35"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">show_control_overlay</span><span class="p">()</span>
</span><span id="__span-34-36"><a id="__codelineno-34-36" name="__codelineno-34-36" href="#__codelineno-34-36"></a>
</span><span id="__span-34-37"><a id="__codelineno-34-37" name="__codelineno-34-37" href="#__codelineno-34-37"></a>        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
</span><span id="__span-34-38"><a id="__codelineno-34-38" name="__codelineno-34-38" href="#__codelineno-34-38"></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="__span-34-39"><a id="__codelineno-34-39" name="__codelineno-34-39" href="#__codelineno-34-39"></a>                <span class="c1"># Get eye tracking data</span>
</span><span id="__span-34-40"><a id="__codelineno-34-40" name="__codelineno-34-40" href="#__codelineno-34-40"></a>                <span class="n">gaze_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">eye_tracker</span><span class="o">.</span><span class="n">get_gaze_point</span><span class="p">()</span>
</span><span id="__span-34-41"><a id="__codelineno-34-41" name="__codelineno-34-41" href="#__codelineno-34-41"></a>                <span class="n">blink_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">eye_tracker</span><span class="o">.</span><span class="n">get_blink_events</span><span class="p">()</span>
</span><span id="__span-34-42"><a id="__codelineno-34-42" name="__codelineno-34-42" href="#__codelineno-34-42"></a>
</span><span id="__span-34-43"><a id="__codelineno-34-43" name="__codelineno-34-43" href="#__codelineno-34-43"></a>                <span class="c1"># Safety checks first</span>
</span><span id="__span-34-44"><a id="__codelineno-34-44" name="__codelineno-34-44" href="#__codelineno-34-44"></a>                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">safety_checks_passed</span><span class="p">():</span>
</span><span id="__span-34-45"><a id="__codelineno-34-45" name="__codelineno-34-45" href="#__codelineno-34-45"></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">stop_wheelchair</span><span class="p">()</span>
</span><span id="__span-34-46"><a id="__codelineno-34-46" name="__codelineno-34-46" href="#__codelineno-34-46"></a>                    <span class="k">continue</span>
</span><span id="__span-34-47"><a id="__codelineno-34-47" name="__codelineno-34-47" href="#__codelineno-34-47"></a>
</span><span id="__span-34-48"><a id="__codelineno-34-48" name="__codelineno-34-48" href="#__codelineno-34-48"></a>                <span class="c1"># Process control commands</span>
</span><span id="__span-34-49"><a id="__codelineno-34-49" name="__codelineno-34-49" href="#__codelineno-34-49"></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">control_mode</span> <span class="o">==</span> <span class="s1">&#39;gaze_pointing&#39;</span><span class="p">:</span>
</span><span id="__span-34-50"><a id="__codelineno-34-50" name="__codelineno-34-50" href="#__codelineno-34-50"></a>                    <span class="n">command</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_gaze_control</span><span class="p">(</span><span class="n">gaze_data</span><span class="p">)</span>
</span><span id="__span-34-51"><a id="__codelineno-34-51" name="__codelineno-34-51" href="#__codelineno-34-51"></a>                <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">control_mode</span> <span class="o">==</span> <span class="s1">&#39;blink_commands&#39;</span><span class="p">:</span>
</span><span id="__span-34-52"><a id="__codelineno-34-52" name="__codelineno-34-52" href="#__codelineno-34-52"></a>                    <span class="n">command</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_blink_control</span><span class="p">(</span><span class="n">blink_data</span><span class="p">)</span>
</span><span id="__span-34-53"><a id="__codelineno-34-53" name="__codelineno-34-53" href="#__codelineno-34-53"></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="__span-34-54"><a id="__codelineno-34-54" name="__codelineno-34-54" href="#__codelineno-34-54"></a>                    <span class="n">command</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;linear&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;angular&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
</span><span id="__span-34-55"><a id="__codelineno-34-55" name="__codelineno-34-55" href="#__codelineno-34-55"></a>
</span><span id="__span-34-56"><a id="__codelineno-34-56" name="__codelineno-34-56" href="#__codelineno-34-56"></a>                <span class="c1"># Execute movement command</span>
</span><span id="__span-34-57"><a id="__codelineno-34-57" name="__codelineno-34-57" href="#__codelineno-34-57"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">execute_movement</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
</span><span id="__span-34-58"><a id="__codelineno-34-58" name="__codelineno-34-58" href="#__codelineno-34-58"></a>
</span><span id="__span-34-59"><a id="__codelineno-34-59" name="__codelineno-34-59" href="#__codelineno-34-59"></a>                <span class="c1"># Update user interface</span>
</span><span id="__span-34-60"><a id="__codelineno-34-60" name="__codelineno-34-60" href="#__codelineno-34-60"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">update_display</span><span class="p">(</span><span class="n">gaze_data</span><span class="p">,</span> <span class="n">command</span><span class="p">)</span>
</span><span id="__span-34-61"><a id="__codelineno-34-61" name="__codelineno-34-61" href="#__codelineno-34-61"></a>
</span><span id="__span-34-62"><a id="__codelineno-34-62" name="__codelineno-34-62" href="#__codelineno-34-62"></a>            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="__span-34-63"><a id="__codelineno-34-63" name="__codelineno-34-63" href="#__codelineno-34-63"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">emergency_stop</span><span class="o">.</span><span class="n">activate</span><span class="p">()</span>
</span><span id="__span-34-64"><a id="__codelineno-34-64" name="__codelineno-34-64" href="#__codelineno-34-64"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">voice_feedback</span><span class="o">.</span><span class="n">speak</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;System error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-34-65"><a id="__codelineno-34-65" name="__codelineno-34-65" href="#__codelineno-34-65"></a>                <span class="k">break</span>
</span><span id="__span-34-66"><a id="__codelineno-34-66" name="__codelineno-34-66" href="#__codelineno-34-66"></a>
</span><span id="__span-34-67"><a id="__codelineno-34-67" name="__codelineno-34-67" href="#__codelineno-34-67"></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">60</span><span class="p">)</span>  <span class="c1"># 60 Hz control loop</span>
</span><span id="__span-34-68"><a id="__codelineno-34-68" name="__codelineno-34-68" href="#__codelineno-34-68"></a>
</span><span id="__span-34-69"><a id="__codelineno-34-69" name="__codelineno-34-69" href="#__codelineno-34-69"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">process_gaze_control</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gaze_data</span><span class="p">):</span>
</span><span id="__span-34-70"><a id="__codelineno-34-70" name="__codelineno-34-70" href="#__codelineno-34-70"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert eye gaze to wheelchair movement commands&quot;&quot;&quot;</span>
</span><span id="__span-34-71"><a id="__codelineno-34-71" name="__codelineno-34-71" href="#__codelineno-34-71"></a>
</span><span id="__span-34-72"><a id="__codelineno-34-72" name="__codelineno-34-72" href="#__codelineno-34-72"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">gaze_data</span><span class="o">.</span><span class="n">is_valid</span><span class="p">:</span>
</span><span id="__span-34-73"><a id="__codelineno-34-73" name="__codelineno-34-73" href="#__codelineno-34-73"></a>            <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;linear&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;angular&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
</span><span id="__span-34-74"><a id="__codelineno-34-74" name="__codelineno-34-74" href="#__codelineno-34-74"></a>
</span><span id="__span-34-75"><a id="__codelineno-34-75" name="__codelineno-34-75" href="#__codelineno-34-75"></a>        <span class="c1"># Get gaze position on screen (normalized 0-1)</span>
</span><span id="__span-34-76"><a id="__codelineno-34-76" name="__codelineno-34-76" href="#__codelineno-34-76"></a>        <span class="n">gaze_x</span><span class="p">,</span> <span class="n">gaze_y</span> <span class="o">=</span> <span class="n">gaze_data</span><span class="o">.</span><span class="n">normalized_position</span>
</span><span id="__span-34-77"><a id="__codelineno-34-77" name="__codelineno-34-77" href="#__codelineno-34-77"></a>
</span><span id="__span-34-78"><a id="__codelineno-34-78" name="__codelineno-34-78" href="#__codelineno-34-78"></a>        <span class="c1"># Convert to movement commands</span>
</span><span id="__span-34-79"><a id="__codelineno-34-79" name="__codelineno-34-79" href="#__codelineno-34-79"></a>        <span class="c1"># Center of screen = no movement</span>
</span><span id="__span-34-80"><a id="__codelineno-34-80" name="__codelineno-34-80" href="#__codelineno-34-80"></a>        <span class="c1"># Look up = forward, look down = backward</span>
</span><span id="__span-34-81"><a id="__codelineno-34-81" name="__codelineno-34-81" href="#__codelineno-34-81"></a>        <span class="c1"># Look left/right = turn</span>
</span><span id="__span-34-82"><a id="__codelineno-34-82" name="__codelineno-34-82" href="#__codelineno-34-82"></a>
</span><span id="__span-34-83"><a id="__codelineno-34-83" name="__codelineno-34-83" href="#__codelineno-34-83"></a>        <span class="n">center_x</span><span class="p">,</span> <span class="n">center_y</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span>
</span><span id="__span-34-84"><a id="__codelineno-34-84" name="__codelineno-34-84" href="#__codelineno-34-84"></a>        <span class="n">deadzone</span> <span class="o">=</span> <span class="mf">0.1</span>  <span class="c1"># 10% deadzone around center</span>
</span><span id="__span-34-85"><a id="__codelineno-34-85" name="__codelineno-34-85" href="#__codelineno-34-85"></a>
</span><span id="__span-34-86"><a id="__codelineno-34-86" name="__codelineno-34-86" href="#__codelineno-34-86"></a>        <span class="c1"># Calculate distances from center</span>
</span><span id="__span-34-87"><a id="__codelineno-34-87" name="__codelineno-34-87" href="#__codelineno-34-87"></a>        <span class="n">dx</span> <span class="o">=</span> <span class="n">gaze_x</span> <span class="o">-</span> <span class="n">center_x</span>
</span><span id="__span-34-88"><a id="__codelineno-34-88" name="__codelineno-34-88" href="#__codelineno-34-88"></a>        <span class="n">dy</span> <span class="o">=</span> <span class="n">gaze_y</span> <span class="o">-</span> <span class="n">center_y</span>
</span><span id="__span-34-89"><a id="__codelineno-34-89" name="__codelineno-34-89" href="#__codelineno-34-89"></a>
</span><span id="__span-34-90"><a id="__codelineno-34-90" name="__codelineno-34-90" href="#__codelineno-34-90"></a>        <span class="c1"># Apply deadzone</span>
</span><span id="__span-34-91"><a id="__codelineno-34-91" name="__codelineno-34-91" href="#__codelineno-34-91"></a>        <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">dx</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">deadzone</span> <span class="ow">and</span> <span class="nb">abs</span><span class="p">(</span><span class="n">dy</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">deadzone</span><span class="p">:</span>
</span><span id="__span-34-92"><a id="__codelineno-34-92" name="__codelineno-34-92" href="#__codelineno-34-92"></a>            <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;linear&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;angular&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
</span><span id="__span-34-93"><a id="__codelineno-34-93" name="__codelineno-34-93" href="#__codelineno-34-93"></a>
</span><span id="__span-34-94"><a id="__codelineno-34-94" name="__codelineno-34-94" href="#__codelineno-34-94"></a>        <span class="c1"># Convert to movement (with scaling and limits)</span>
</span><span id="__span-34-95"><a id="__codelineno-34-95" name="__codelineno-34-95" href="#__codelineno-34-95"></a>        <span class="n">max_linear_speed</span> <span class="o">=</span> <span class="mf">2.0</span>  <span class="c1"># m/s</span>
</span><span id="__span-34-96"><a id="__codelineno-34-96" name="__codelineno-34-96" href="#__codelineno-34-96"></a>        <span class="n">max_angular_speed</span> <span class="o">=</span> <span class="mf">1.0</span>  <span class="c1"># rad/s</span>
</span><span id="__span-34-97"><a id="__codelineno-34-97" name="__codelineno-34-97" href="#__codelineno-34-97"></a>
</span><span id="__span-34-98"><a id="__codelineno-34-98" name="__codelineno-34-98" href="#__codelineno-34-98"></a>        <span class="c1"># Forward/backward based on vertical gaze</span>
</span><span id="__span-34-99"><a id="__codelineno-34-99" name="__codelineno-34-99" href="#__codelineno-34-99"></a>        <span class="n">linear_speed</span> <span class="o">=</span> <span class="o">-</span><span class="p">(</span><span class="n">dy</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span><span class="n">dy</span><span class="p">)</span> <span class="o">*</span> <span class="n">deadzone</span><span class="p">)</span> <span class="o">*</span> <span class="n">max_linear_speed</span> <span class="o">/</span> <span class="p">(</span><span class="mf">0.5</span> <span class="o">-</span> <span class="n">deadzone</span><span class="p">)</span>
</span><span id="__span-34-100"><a id="__codelineno-34-100" name="__codelineno-34-100" href="#__codelineno-34-100"></a>        <span class="n">linear_speed</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">linear_speed</span><span class="p">,</span> <span class="o">-</span><span class="n">max_linear_speed</span><span class="p">,</span> <span class="n">max_linear_speed</span><span class="p">)</span>
</span><span id="__span-34-101"><a id="__codelineno-34-101" name="__codelineno-34-101" href="#__codelineno-34-101"></a>
</span><span id="__span-34-102"><a id="__codelineno-34-102" name="__codelineno-34-102" href="#__codelineno-34-102"></a>        <span class="c1"># Turning based on horizontal gaze</span>
</span><span id="__span-34-103"><a id="__codelineno-34-103" name="__codelineno-34-103" href="#__codelineno-34-103"></a>        <span class="n">angular_speed</span> <span class="o">=</span> <span class="o">-</span><span class="p">(</span><span class="n">dx</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span><span class="n">dx</span><span class="p">)</span> <span class="o">*</span> <span class="n">deadzone</span><span class="p">)</span> <span class="o">*</span> <span class="n">max_angular_speed</span> <span class="o">/</span> <span class="p">(</span><span class="mf">0.5</span> <span class="o">-</span> <span class="n">deadzone</span><span class="p">)</span>
</span><span id="__span-34-104"><a id="__codelineno-34-104" name="__codelineno-34-104" href="#__codelineno-34-104"></a>        <span class="n">angular_speed</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">angular_speed</span><span class="p">,</span> <span class="o">-</span><span class="n">max_angular_speed</span><span class="p">,</span> <span class="n">max_angular_speed</span><span class="p">)</span>
</span><span id="__span-34-105"><a id="__codelineno-34-105" name="__codelineno-34-105" href="#__codelineno-34-105"></a>
</span><span id="__span-34-106"><a id="__codelineno-34-106" name="__codelineno-34-106" href="#__codelineno-34-106"></a>        <span class="k">return</span> <span class="p">{</span>
</span><span id="__span-34-107"><a id="__codelineno-34-107" name="__codelineno-34-107" href="#__codelineno-34-107"></a>            <span class="s1">&#39;linear&#39;</span><span class="p">:</span> <span class="n">linear_speed</span><span class="p">,</span>
</span><span id="__span-34-108"><a id="__codelineno-34-108" name="__codelineno-34-108" href="#__codelineno-34-108"></a>            <span class="s1">&#39;angular&#39;</span><span class="p">:</span> <span class="n">angular_speed</span><span class="p">,</span>
</span><span id="__span-34-109"><a id="__codelineno-34-109" name="__codelineno-34-109" href="#__codelineno-34-109"></a>            <span class="s1">&#39;confidence&#39;</span><span class="p">:</span> <span class="n">gaze_data</span><span class="o">.</span><span class="n">confidence</span>
</span><span id="__span-34-110"><a id="__codelineno-34-110" name="__codelineno-34-110" href="#__codelineno-34-110"></a>        <span class="p">}</span>
</span><span id="__span-34-111"><a id="__codelineno-34-111" name="__codelineno-34-111" href="#__codelineno-34-111"></a>
</span><span id="__span-34-112"><a id="__codelineno-34-112" name="__codelineno-34-112" href="#__codelineno-34-112"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">process_blink_control</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">blink_data</span><span class="p">):</span>
</span><span id="__span-34-113"><a id="__codelineno-34-113" name="__codelineno-34-113" href="#__codelineno-34-113"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Alternative control using blink patterns&quot;&quot;&quot;</span>
</span><span id="__span-34-114"><a id="__codelineno-34-114" name="__codelineno-34-114" href="#__codelineno-34-114"></a>
</span><span id="__span-34-115"><a id="__codelineno-34-115" name="__codelineno-34-115" href="#__codelineno-34-115"></a>        <span class="c1"># Blink command mapping</span>
</span><span id="__span-34-116"><a id="__codelineno-34-116" name="__codelineno-34-116" href="#__codelineno-34-116"></a>        <span class="n">blink_commands</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-34-117"><a id="__codelineno-34-117" name="__codelineno-34-117" href="#__codelineno-34-117"></a>            <span class="s1">&#39;single_left&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;linear&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span> <span class="s1">&#39;angular&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">},</span>      <span class="c1"># Forward</span>
</span><span id="__span-34-118"><a id="__codelineno-34-118" name="__codelineno-34-118" href="#__codelineno-34-118"></a>            <span class="s1">&#39;single_right&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;linear&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="s1">&#39;angular&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">},</span>    <span class="c1"># Backward  </span>
</span><span id="__span-34-119"><a id="__codelineno-34-119" name="__codelineno-34-119" href="#__codelineno-34-119"></a>            <span class="s1">&#39;double_left&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;linear&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;angular&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">},</span>      <span class="c1"># Turn left</span>
</span><span id="__span-34-120"><a id="__codelineno-34-120" name="__codelineno-34-120" href="#__codelineno-34-120"></a>            <span class="s1">&#39;double_right&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;linear&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;angular&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">},</span>    <span class="c1"># Turn right</span>
</span><span id="__span-34-121"><a id="__codelineno-34-121" name="__codelineno-34-121" href="#__codelineno-34-121"></a>            <span class="s1">&#39;long_blink&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;linear&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;angular&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>          <span class="c1"># Stop</span>
</span><span id="__span-34-122"><a id="__codelineno-34-122" name="__codelineno-34-122" href="#__codelineno-34-122"></a>        <span class="p">}</span>
</span><span id="__span-34-123"><a id="__codelineno-34-123" name="__codelineno-34-123" href="#__codelineno-34-123"></a>
</span><span id="__span-34-124"><a id="__codelineno-34-124" name="__codelineno-34-124" href="#__codelineno-34-124"></a>        <span class="c1"># Detect blink patterns</span>
</span><span id="__span-34-125"><a id="__codelineno-34-125" name="__codelineno-34-125" href="#__codelineno-34-125"></a>        <span class="n">pattern</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">analyze_blink_pattern</span><span class="p">(</span><span class="n">blink_data</span><span class="p">)</span>
</span><span id="__span-34-126"><a id="__codelineno-34-126" name="__codelineno-34-126" href="#__codelineno-34-126"></a>
</span><span id="__span-34-127"><a id="__codelineno-34-127" name="__codelineno-34-127" href="#__codelineno-34-127"></a>        <span class="k">if</span> <span class="n">pattern</span> <span class="ow">in</span> <span class="n">blink_commands</span><span class="p">:</span>
</span><span id="__span-34-128"><a id="__codelineno-34-128" name="__codelineno-34-128" href="#__codelineno-34-128"></a>            <span class="n">command</span> <span class="o">=</span> <span class="n">blink_commands</span><span class="p">[</span><span class="n">pattern</span><span class="p">]</span>
</span><span id="__span-34-129"><a id="__codelineno-34-129" name="__codelineno-34-129" href="#__codelineno-34-129"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">voice_feedback</span><span class="o">.</span><span class="n">speak</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Command: </span><span class="si">{</span><span class="n">pattern</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-34-130"><a id="__codelineno-34-130" name="__codelineno-34-130" href="#__codelineno-34-130"></a>            <span class="k">return</span> <span class="n">command</span>
</span><span id="__span-34-131"><a id="__codelineno-34-131" name="__codelineno-34-131" href="#__codelineno-34-131"></a>
</span><span id="__span-34-132"><a id="__codelineno-34-132" name="__codelineno-34-132" href="#__codelineno-34-132"></a>        <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;linear&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;angular&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
</span><span id="__span-34-133"><a id="__codelineno-34-133" name="__codelineno-34-133" href="#__codelineno-34-133"></a>
</span><span id="__span-34-134"><a id="__codelineno-34-134" name="__codelineno-34-134" href="#__codelineno-34-134"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">safety_checks_passed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-34-135"><a id="__codelineno-34-135" name="__codelineno-34-135" href="#__codelineno-34-135"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Comprehensive safety validation&quot;&quot;&quot;</span>
</span><span id="__span-34-136"><a id="__codelineno-34-136" name="__codelineno-34-136" href="#__codelineno-34-136"></a>
</span><span id="__span-34-137"><a id="__codelineno-34-137" name="__codelineno-34-137" href="#__codelineno-34-137"></a>        <span class="c1"># Check for obstacles</span>
</span><span id="__span-34-138"><a id="__codelineno-34-138" name="__codelineno-34-138" href="#__codelineno-34-138"></a>        <span class="n">obstacles</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">obstacle_sensors</span><span class="o">.</span><span class="n">scan</span><span class="p">()</span>
</span><span id="__span-34-139"><a id="__codelineno-34-139" name="__codelineno-34-139" href="#__codelineno-34-139"></a>        <span class="n">min_distance</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">obstacles</span><span class="p">)</span> <span class="k">if</span> <span class="n">obstacles</span> <span class="k">else</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">)</span>
</span><span id="__span-34-140"><a id="__codelineno-34-140" name="__codelineno-34-140" href="#__codelineno-34-140"></a>
</span><span id="__span-34-141"><a id="__codelineno-34-141" name="__codelineno-34-141" href="#__codelineno-34-141"></a>        <span class="k">if</span> <span class="n">min_distance</span> <span class="o">&lt;</span> <span class="mf">0.5</span><span class="p">:</span>  <span class="c1"># 50cm safety margin</span>
</span><span id="__span-34-142"><a id="__codelineno-34-142" name="__codelineno-34-142" href="#__codelineno-34-142"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">voice_feedback</span><span class="o">.</span><span class="n">speak</span><span class="p">(</span><span class="s2">&quot;Obstacle detected. Stopping.&quot;</span><span class="p">)</span>
</span><span id="__span-34-143"><a id="__codelineno-34-143" name="__codelineno-34-143" href="#__codelineno-34-143"></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="__span-34-144"><a id="__codelineno-34-144" name="__codelineno-34-144" href="#__codelineno-34-144"></a>
</span><span id="__span-34-145"><a id="__codelineno-34-145" name="__codelineno-34-145" href="#__codelineno-34-145"></a>        <span class="c1"># Check wheelchair stability</span>
</span><span id="__span-34-146"><a id="__codelineno-34-146" name="__codelineno-34-146" href="#__codelineno-34-146"></a>        <span class="n">tilt_angle</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tilt_sensor</span><span class="o">.</span><span class="n">get_tilt_angle</span><span class="p">()</span>
</span><span id="__span-34-147"><a id="__codelineno-34-147" name="__codelineno-34-147" href="#__codelineno-34-147"></a>        <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">tilt_angle</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">15</span><span class="p">:</span>  <span class="c1"># degrees</span>
</span><span id="__span-34-148"><a id="__codelineno-34-148" name="__codelineno-34-148" href="#__codelineno-34-148"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">voice_feedback</span><span class="o">.</span><span class="n">speak</span><span class="p">(</span><span class="s2">&quot;Unsafe tilt detected. Stopping.&quot;</span><span class="p">)</span>
</span><span id="__span-34-149"><a id="__codelineno-34-149" name="__codelineno-34-149" href="#__codelineno-34-149"></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="__span-34-150"><a id="__codelineno-34-150" name="__codelineno-34-150" href="#__codelineno-34-150"></a>
</span><span id="__span-34-151"><a id="__codelineno-34-151" name="__codelineno-34-151" href="#__codelineno-34-151"></a>        <span class="c1"># Check emergency stop</span>
</span><span id="__span-34-152"><a id="__codelineno-34-152" name="__codelineno-34-152" href="#__codelineno-34-152"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">emergency_stop</span><span class="o">.</span><span class="n">is_pressed</span><span class="p">():</span>
</span><span id="__span-34-153"><a id="__codelineno-34-153" name="__codelineno-34-153" href="#__codelineno-34-153"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">voice_feedback</span><span class="o">.</span><span class="n">speak</span><span class="p">(</span><span class="s2">&quot;Emergency stop activated.&quot;</span><span class="p">)</span>
</span><span id="__span-34-154"><a id="__codelineno-34-154" name="__codelineno-34-154" href="#__codelineno-34-154"></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="__span-34-155"><a id="__codelineno-34-155" name="__codelineno-34-155" href="#__codelineno-34-155"></a>
</span><span id="__span-34-156"><a id="__codelineno-34-156" name="__codelineno-34-156" href="#__codelineno-34-156"></a>        <span class="c1"># Check eye tracker health</span>
</span><span id="__span-34-157"><a id="__codelineno-34-157" name="__codelineno-34-157" href="#__codelineno-34-157"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">eye_tracker</span><span class="o">.</span><span class="n">is_calibrated</span><span class="p">():</span>
</span><span id="__span-34-158"><a id="__codelineno-34-158" name="__codelineno-34-158" href="#__codelineno-34-158"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">voice_feedback</span><span class="o">.</span><span class="n">speak</span><span class="p">(</span><span class="s2">&quot;Eye tracker needs recalibration.&quot;</span><span class="p">)</span>
</span><span id="__span-34-159"><a id="__codelineno-34-159" name="__codelineno-34-159" href="#__codelineno-34-159"></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="__span-34-160"><a id="__codelineno-34-160" name="__codelineno-34-160" href="#__codelineno-34-160"></a>
</span><span id="__span-34-161"><a id="__codelineno-34-161" name="__codelineno-34-161" href="#__codelineno-34-161"></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="__span-34-162"><a id="__codelineno-34-162" name="__codelineno-34-162" href="#__codelineno-34-162"></a>
</span><span id="__span-34-163"><a id="__codelineno-34-163" name="__codelineno-34-163" href="#__codelineno-34-163"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">execute_movement</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">):</span>
</span><span id="__span-34-164"><a id="__codelineno-34-164" name="__codelineno-34-164" href="#__codelineno-34-164"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert high-level commands to motor controls&quot;&quot;&quot;</span>
</span><span id="__span-34-165"><a id="__codelineno-34-165" name="__codelineno-34-165" href="#__codelineno-34-165"></a>
</span><span id="__span-34-166"><a id="__codelineno-34-166" name="__codelineno-34-166" href="#__codelineno-34-166"></a>        <span class="n">linear_speed</span> <span class="o">=</span> <span class="n">command</span><span class="p">[</span><span class="s1">&#39;linear&#39;</span><span class="p">]</span>
</span><span id="__span-34-167"><a id="__codelineno-34-167" name="__codelineno-34-167" href="#__codelineno-34-167"></a>        <span class="n">angular_speed</span> <span class="o">=</span> <span class="n">command</span><span class="p">[</span><span class="s1">&#39;angular&#39;</span><span class="p">]</span>
</span><span id="__span-34-168"><a id="__codelineno-34-168" name="__codelineno-34-168" href="#__codelineno-34-168"></a>
</span><span id="__span-34-169"><a id="__codelineno-34-169" name="__codelineno-34-169" href="#__codelineno-34-169"></a>        <span class="c1"># Differential drive kinematics</span>
</span><span id="__span-34-170"><a id="__codelineno-34-170" name="__codelineno-34-170" href="#__codelineno-34-170"></a>        <span class="n">wheel_base</span> <span class="o">=</span> <span class="mf">0.6</span>  <span class="c1"># meters between wheels</span>
</span><span id="__span-34-171"><a id="__codelineno-34-171" name="__codelineno-34-171" href="#__codelineno-34-171"></a>
</span><span id="__span-34-172"><a id="__codelineno-34-172" name="__codelineno-34-172" href="#__codelineno-34-172"></a>        <span class="c1"># Calculate individual wheel speeds</span>
</span><span id="__span-34-173"><a id="__codelineno-34-173" name="__codelineno-34-173" href="#__codelineno-34-173"></a>        <span class="n">left_speed</span> <span class="o">=</span> <span class="n">linear_speed</span> <span class="o">-</span> <span class="p">(</span><span class="n">angular_speed</span> <span class="o">*</span> <span class="n">wheel_base</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="__span-34-174"><a id="__codelineno-34-174" name="__codelineno-34-174" href="#__codelineno-34-174"></a>        <span class="n">right_speed</span> <span class="o">=</span> <span class="n">linear_speed</span> <span class="o">+</span> <span class="p">(</span><span class="n">angular_speed</span> <span class="o">*</span> <span class="n">wheel_base</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="__span-34-175"><a id="__codelineno-34-175" name="__codelineno-34-175" href="#__codelineno-34-175"></a>
</span><span id="__span-34-176"><a id="__codelineno-34-176" name="__codelineno-34-176" href="#__codelineno-34-176"></a>        <span class="c1"># Apply speed limits</span>
</span><span id="__span-34-177"><a id="__codelineno-34-177" name="__codelineno-34-177" href="#__codelineno-34-177"></a>        <span class="n">max_wheel_speed</span> <span class="o">=</span> <span class="mf">3.0</span>  <span class="c1"># m/s</span>
</span><span id="__span-34-178"><a id="__codelineno-34-178" name="__codelineno-34-178" href="#__codelineno-34-178"></a>        <span class="n">left_speed</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">left_speed</span><span class="p">,</span> <span class="o">-</span><span class="n">max_wheel_speed</span><span class="p">,</span> <span class="n">max_wheel_speed</span><span class="p">)</span>
</span><span id="__span-34-179"><a id="__codelineno-34-179" name="__codelineno-34-179" href="#__codelineno-34-179"></a>        <span class="n">right_speed</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">right_speed</span><span class="p">,</span> <span class="o">-</span><span class="n">max_wheel_speed</span><span class="p">,</span> <span class="n">max_wheel_speed</span><span class="p">)</span>
</span><span id="__span-34-180"><a id="__codelineno-34-180" name="__codelineno-34-180" href="#__codelineno-34-180"></a>
</span><span id="__span-34-181"><a id="__codelineno-34-181" name="__codelineno-34-181" href="#__codelineno-34-181"></a>        <span class="c1"># Send commands to motors</span>
</span><span id="__span-34-182"><a id="__codelineno-34-182" name="__codelineno-34-182" href="#__codelineno-34-182"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">left_motor</span><span class="o">.</span><span class="n">set_speed</span><span class="p">(</span><span class="n">left_speed</span><span class="p">)</span>
</span><span id="__span-34-183"><a id="__codelineno-34-183" name="__codelineno-34-183" href="#__codelineno-34-183"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">right_motor</span><span class="o">.</span><span class="n">set_speed</span><span class="p">(</span><span class="n">right_speed</span><span class="p">)</span>
</span><span id="__span-34-184"><a id="__codelineno-34-184" name="__codelineno-34-184" href="#__codelineno-34-184"></a>
</span><span id="__span-34-185"><a id="__codelineno-34-185" name="__codelineno-34-185" href="#__codelineno-34-185"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">calibrate_user_eyes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">):</span>
</span><span id="__span-34-186"><a id="__codelineno-34-186" name="__codelineno-34-186" href="#__codelineno-34-186"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Personalized eye tracking calibration&quot;&quot;&quot;</span>
</span><span id="__span-34-187"><a id="__codelineno-34-187" name="__codelineno-34-187" href="#__codelineno-34-187"></a>
</span><span id="__span-34-188"><a id="__codelineno-34-188" name="__codelineno-34-188" href="#__codelineno-34-188"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;👁️ Starting eye calibration for </span><span class="si">{</span><span class="n">user_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-34-189"><a id="__codelineno-34-189" name="__codelineno-34-189" href="#__codelineno-34-189"></a>
</span><span id="__span-34-190"><a id="__codelineno-34-190" name="__codelineno-34-190" href="#__codelineno-34-190"></a>        <span class="n">calibration_points</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="__span-34-191"><a id="__codelineno-34-191" name="__codelineno-34-191" href="#__codelineno-34-191"></a>            <span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">),</span>  <span class="c1"># Top row</span>
</span><span id="__span-34-192"><a id="__codelineno-34-192" name="__codelineno-34-192" href="#__codelineno-34-192"></a>            <span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span>  <span class="c1"># Middle row  </span>
</span><span id="__span-34-193"><a id="__codelineno-34-193" name="__codelineno-34-193" href="#__codelineno-34-193"></a>            <span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">)</span>   <span class="c1"># Bottom row</span>
</span><span id="__span-34-194"><a id="__codelineno-34-194" name="__codelineno-34-194" href="#__codelineno-34-194"></a>        <span class="p">]</span>
</span><span id="__span-34-195"><a id="__codelineno-34-195" name="__codelineno-34-195" href="#__codelineno-34-195"></a>
</span><span id="__span-34-196"><a id="__codelineno-34-196" name="__codelineno-34-196" href="#__codelineno-34-196"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">voice_feedback</span><span class="o">.</span><span class="n">speak</span><span class="p">(</span><span class="s2">&quot;Look at each point when it appears&quot;</span><span class="p">)</span>
</span><span id="__span-34-197"><a id="__codelineno-34-197" name="__codelineno-34-197" href="#__codelineno-34-197"></a>
</span><span id="__span-34-198"><a id="__codelineno-34-198" name="__codelineno-34-198" href="#__codelineno-34-198"></a>        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">calibration_points</span><span class="p">):</span>
</span><span id="__span-34-199"><a id="__codelineno-34-199" name="__codelineno-34-199" href="#__codelineno-34-199"></a>            <span class="c1"># Show calibration point</span>
</span><span id="__span-34-200"><a id="__codelineno-34-200" name="__codelineno-34-200" href="#__codelineno-34-200"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">show_calibration_point</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</span><span id="__span-34-201"><a id="__codelineno-34-201" name="__codelineno-34-201" href="#__codelineno-34-201"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">voice_feedback</span><span class="o">.</span><span class="n">speak</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Point </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-34-202"><a id="__codelineno-34-202" name="__codelineno-34-202" href="#__codelineno-34-202"></a>
</span><span id="__span-34-203"><a id="__codelineno-34-203" name="__codelineno-34-203" href="#__codelineno-34-203"></a>            <span class="c1"># Collect gaze data</span>
</span><span id="__span-34-204"><a id="__codelineno-34-204" name="__codelineno-34-204" href="#__codelineno-34-204"></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">2.0</span><span class="p">)</span>  <span class="c1"># Give user time to look</span>
</span><span id="__span-34-205"><a id="__codelineno-34-205" name="__codelineno-34-205" href="#__codelineno-34-205"></a>            <span class="n">gaze_samples</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-34-206"><a id="__codelineno-34-206" name="__codelineno-34-206" href="#__codelineno-34-206"></a>
</span><span id="__span-34-207"><a id="__codelineno-34-207" name="__codelineno-34-207" href="#__codelineno-34-207"></a>            <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>  <span class="c1"># 1 second of data at 100Hz</span>
</span><span id="__span-34-208"><a id="__codelineno-34-208" name="__codelineno-34-208" href="#__codelineno-34-208"></a>                <span class="n">sample</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">eye_tracker</span><span class="o">.</span><span class="n">get_raw_gaze</span><span class="p">()</span>
</span><span id="__span-34-209"><a id="__codelineno-34-209" name="__codelineno-34-209" href="#__codelineno-34-209"></a>                <span class="n">gaze_samples</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</span><span id="__span-34-210"><a id="__codelineno-34-210" name="__codelineno-34-210" href="#__codelineno-34-210"></a>                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.01</span><span class="p">)</span>
</span><span id="__span-34-211"><a id="__codelineno-34-211" name="__codelineno-34-211" href="#__codelineno-34-211"></a>
</span><span id="__span-34-212"><a id="__codelineno-34-212" name="__codelineno-34-212" href="#__codelineno-34-212"></a>            <span class="c1"># Store calibration data</span>
</span><span id="__span-34-213"><a id="__codelineno-34-213" name="__codelineno-34-213" href="#__codelineno-34-213"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">eye_tracker</span><span class="o">.</span><span class="n">add_calibration_point</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">gaze_samples</span><span class="p">)</span>
</span><span id="__span-34-214"><a id="__codelineno-34-214" name="__codelineno-34-214" href="#__codelineno-34-214"></a>
</span><span id="__span-34-215"><a id="__codelineno-34-215" name="__codelineno-34-215" href="#__codelineno-34-215"></a>        <span class="c1"># Calculate calibration transformation</span>
</span><span id="__span-34-216"><a id="__codelineno-34-216" name="__codelineno-34-216" href="#__codelineno-34-216"></a>        <span class="n">calibration_accuracy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">eye_tracker</span><span class="o">.</span><span class="n">compute_calibration</span><span class="p">()</span>
</span><span id="__span-34-217"><a id="__codelineno-34-217" name="__codelineno-34-217" href="#__codelineno-34-217"></a>
</span><span id="__span-34-218"><a id="__codelineno-34-218" name="__codelineno-34-218" href="#__codelineno-34-218"></a>        <span class="k">if</span> <span class="n">calibration_accuracy</span> <span class="o">&gt;</span> <span class="mf">0.95</span><span class="p">:</span>  <span class="c1"># 95% accuracy threshold</span>
</span><span id="__span-34-219"><a id="__codelineno-34-219" name="__codelineno-34-219" href="#__codelineno-34-219"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">voice_feedback</span><span class="o">.</span><span class="n">speak</span><span class="p">(</span><span class="s2">&quot;Calibration successful!&quot;</span><span class="p">)</span>
</span><span id="__span-34-220"><a id="__codelineno-34-220" name="__codelineno-34-220" href="#__codelineno-34-220"></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="__span-34-221"><a id="__codelineno-34-221" name="__codelineno-34-221" href="#__codelineno-34-221"></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="__span-34-222"><a id="__codelineno-34-222" name="__codelineno-34-222" href="#__codelineno-34-222"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">voice_feedback</span><span class="o">.</span><span class="n">speak</span><span class="p">(</span><span class="s2">&quot;Calibration failed. Please try again.&quot;</span><span class="p">)</span>
</span><span id="__span-34-223"><a id="__codelineno-34-223" name="__codelineno-34-223" href="#__codelineno-34-223"></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="__span-34-224"><a id="__codelineno-34-224" name="__codelineno-34-224" href="#__codelineno-34-224"></a>
</span><span id="__span-34-225"><a id="__codelineno-34-225" name="__codelineno-34-225" href="#__codelineno-34-225"></a><span class="c1"># Complete assistive system</span>
</span><span id="__span-34-226"><a id="__codelineno-34-226" name="__codelineno-34-226" href="#__codelineno-34-226"></a><span class="n">wheelchair</span> <span class="o">=</span> <span class="n">EyeControlledWheelchair</span><span class="p">()</span>
</span><span id="__span-34-227"><a id="__codelineno-34-227" name="__codelineno-34-227" href="#__codelineno-34-227"></a><span class="k">if</span> <span class="n">wheelchair</span><span class="o">.</span><span class="n">calibrate_user_eyes</span><span class="p">(</span><span class="s2">&quot;USER_001&quot;</span><span class="p">):</span>
</span><span id="__span-34-228"><a id="__codelineno-34-228" name="__codelineno-34-228" href="#__codelineno-34-228"></a>    <span class="n">wheelchair</span><span class="o">.</span><span class="n">main_control_loop</span><span class="p">()</span>
</span></code></pre></div></p>
<h4 id="ethical-considerations-in-assistive-technology"><strong>Ethical Considerations in Assistive Technology</strong><a class="headerlink" href="#ethical-considerations-in-assistive-technology" title="Permanent link">&para;</a></h4>
<p><strong>Privacy and Data Security:</strong>
- EMG signals and eye movements are biometric data
- Must be encrypted and stored securely
- User owns their biological data
- No sharing without explicit consent</p>
<p><strong>Autonomy vs. Safety:</strong>
- Balance user independence with safety systems
- Transparent fail-safes that user understands
- Options to override safety systems when appropriate
- Regular safety system testing and validation</p>
<p><strong>Accessibility Economics:</strong>
- Cost-effective designs for wider access
- Modular systems that can be upgraded
- Repair-friendly designs to reduce lifetime costs
- Insurance compatibility and funding pathways</p>
<h3 id="comprehensive-reflection-questions">Comprehensive Reflection Questions 🤔💭<a class="headerlink" href="#comprehensive-reflection-questions" title="Permanent link">&para;</a></h3>
<p>These questions will help you synthesize everything you've learned and think critically about the future of mechatronics:</p>
<h4 id="technical-integration-questions"><strong>Technical Integration Questions</strong><a class="headerlink" href="#technical-integration-questions" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>Hardware-Software Synergy:</strong> How do hardware choices (e.g., microcontroller family, sensor resolution, actuator precision) fundamentally shape the way you write and optimize software? Give specific examples of how a hardware constraint forced you to change your programming approach.</p>
</li>
<li>
<p><strong>Sensor-Algorithm Interaction:</strong> In what ways can sensor characteristics (noise, latency, resolution, drift) affect control algorithms? Design a compensation strategy for a temperature sensor that drifts 0.1°C per hour in a precision heating system.</p>
</li>
<li>
<p><strong>Real-Time Constraints:</strong> How do you balance computational complexity with real-time requirements? Compare the trade-offs between a simple PID controller running at 10kHz vs. a sophisticated machine learning controller running at 100Hz for the same mechatronic system.</p>
</li>
</ol>
<h4 id="design-philosophy-questions"><strong>Design Philosophy Questions</strong><a class="headerlink" href="#design-philosophy-questions" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>Assistive Technology Ethics:</strong> How does designing for assistive technologies change your approach to mechatronic system development? Consider safety margins, user interface design, failure modes, and user dignity in your answer.</p>
</li>
<li>
<p><strong>Simulation vs. Reality Gap:</strong> You've built a perfect robot controller in simulation, but it fails catastrophically on the real hardware. What are the most likely causes, and how would you systematically debug this reality gap?</p>
</li>
<li>
<p><strong>Scalability Challenges:</strong> Your mechatronic system works perfectly for one robot. How would you modify your design to coordinate 100 identical robots working together? What new challenges emerge at scale?</p>
</li>
</ol>
<h4 id="future-thinking-questions"><strong>Future-Thinking Questions</strong><a class="headerlink" href="#future-thinking-questions" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>AI Integration:</strong> How will machine learning and AI change mechatronics in the next decade? What aspects of current control theory will become obsolete, and what will remain fundamental?</p>
</li>
<li>
<p><strong>Sustainability Impact:</strong> Design a mechatronic system that actively improves environmental sustainability. How do you measure and optimize for environmental impact alongside traditional performance metrics?</p>
</li>
<li>
<p><strong>Human-Robot Collaboration:</strong> As robots work more closely with humans, how do safety, trust, and communication change mechatronic system requirements? Design a control system that adapts its behavior based on human comfort levels.</p>
</li>
</ol>
<h4 id="creative-problem-solving-challenges"><strong>Creative Problem-Solving Challenges</strong><a class="headerlink" href="#creative-problem-solving-challenges" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>Resource Constraints:</strong> You need to build a Mars rover with only components available at a high school electronics lab. What compromises would you make, and how would clever software compensate for hardware limitations?</p>
</li>
<li>
<p><strong>Cross-Domain Innovation:</strong> Take a control algorithm from one field (e.g., autopilot from aerospace) and adapt it for a completely different application (e.g., automated coffee brewing). What insights transfer, and what must be completely reimagined?</p>
</li>
<li>
<p><strong>Failure Mode Design:</strong> Design a mechatronic system where controlled failure is a feature, not a bug. How do you engineer graceful degradation and self-repair capabilities?</p>
</li>
</ol>
<h4 id="interdisciplinary-integration"><strong>Interdisciplinary Integration</strong><a class="headerlink" href="#interdisciplinary-integration" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>Biology-Inspired Engineering:</strong> What control strategies from biological systems (neural networks, muscle control, homeostasis) could improve traditional mechatronic designs? Propose a specific bio-inspired improvement to a conventional system.</p>
</li>
<li>
<p><strong>Social Impact Assessment:</strong> Your mechatronic system could automate jobs that currently employ millions of people. How do you balance technological capability with social responsibility? What role should engineers play in managing technological disruption?</p>
</li>
<li>
<p><strong>Economic Optimization:</strong> Design a mechatronic system that optimizes not just for performance, but for total cost of ownership over 20 years. How do maintenance costs, energy efficiency, and upgrade pathways affect your design decisions?</p>
</li>
</ol>
<p><strong>🎯 Capstone Challenge: Design Your Legacy System</strong></p>
<p>Choose one complex problem that matters to you personally - it could be environmental restoration, medical assistance, space exploration, disaster response, or any other challenge that motivates you. Design a complete mechatronic system that addresses this problem, including:</p>
<ul>
<li><strong>Control algorithms</strong> with mathematical justification</li>
<li><strong>Hardware specifications</strong> with cost analysis  </li>
<li><strong>Safety systems</strong> with failure mode analysis</li>
<li><strong>User interface</strong> designed for your target users</li>
<li><strong>Testing strategy</strong> including simulation and validation</li>
<li><strong>Ethical considerations</strong> and social impact assessment</li>
<li><strong>10-year roadmap</strong> for system evolution and improvement</li>
</ul>
<p>Present your design as if you're proposing it to investors, engineers, and the people who would use it. This is your chance to show how mechatronics can change the world!</p>
<p>Remember: The best mechatronic engineers don't just build robots - they build solutions that make life better for everyone. What will your contribution be? 🚀</p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.top", "navigation.instant", "navigation.instant.prefetch", "search.highlight", "search.suggest", "content.code.annotate", "content.code.copy", "content.code.select", "content.tabs.link", "toc.follow"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.50899def.min.js"></script>
      
        <script src="../../assets/diagram-modal.js"></script>
      
    
  </body>
</html>