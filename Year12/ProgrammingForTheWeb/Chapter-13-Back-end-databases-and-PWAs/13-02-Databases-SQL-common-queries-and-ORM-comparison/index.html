
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Comprehensive educational resource for NSW HSC Software Engineering syllabus">
      
      
      
        <link rel="canonical" href="https://eatham532.github.io/Software-Engineering-HSC-Textbook/Year12/ProgrammingForTheWeb/Chapter-13-Back-end-databases-and-PWAs/13-02-Databases-SQL-common-queries-and-ORM-comparison/">
      
      
        <link rel="prev" href="../13-01-Server-side-Python-with-a-microframework-and-the-back-end-request-flow/quiz/">
      
      
        <link rel="next" href="quiz/">
      
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.21">
    
    
      
        <title>Content - Software Engineering Textbook HSC</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.2a3383ac.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../assets/diagram-modal.css">
    
      <link rel="stylesheet" href="../../../../assets/quiz.css">
    
      <link rel="stylesheet" href="../../../../assets/common.css">
    
      <link rel="stylesheet" href="../../../../assets/diagram-fix.css">
    
      <link rel="stylesheet" href="../../../../assets/cross-reference.css">
    
      <link rel="stylesheet" href="../../../../assets/site-banner.css">
    
      <link rel="stylesheet" href="../../../../assets/code-runner.css">
    
      <link rel="stylesheet" href="../../../../assets/code-editor.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-58275RL1P9"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-58275RL1P9",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-58275RL1P9",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#132-databases-sql-common-queries-and-orm-comparison" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
  
  
    
    
    
    <div class="site-banner site-banner--warning" data-banner data-banner-version="1" role="status" aria-live="polite">
      <div class="site-banner__inner">
        <span class="site-banner__icon" aria-hidden="true">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            
              <path d="M12 9v4"/><path d="M12 17h.01"/><path d="M10.29 3.86 1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0Z"/>
            
          </svg>
        </span>
        <p class="site-banner__text">
          This textbook is in <strong>beta</strong> – content is actively being refined.
          
            <a class="site-banner__link" href="https://github.com/Eatham532/Software-Engineering-HSC-Textbook/issues/new/choose" target="_blank" rel="noopener">Report issues or suggestions</a>
          
        </p>
        <button type="button" class="site-banner__close" aria-label="Dismiss banner" title="Dismiss" data-banner-dismiss>&times;</button>
      </div>
    </div>
    <script>
      (function(){
        var banner=document.querySelector('[data-banner]');
        if(!banner) return;
        var version=banner.getAttribute('data-banner-version')||'1';
        var KEY='site_banner_dismissed_v'+version;
        try{ if(localStorage.getItem(KEY)){ banner.remove(); return;} }catch(e){}
        var btn=banner.querySelector('[data-banner-dismiss]');
        if(btn){ btn.addEventListener('click',function(){
          banner.classList.add('is-hiding');
          setTimeout(function(){ banner && banner.remove(); },200);
          try{ localStorage.setItem(KEY,'1'); }catch(e){}
        }); }
      })();
    </script>
  
  
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="Software Engineering Textbook HSC" class="md-header__button md-logo" aria-label="Software Engineering Textbook HSC" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Software Engineering Textbook HSC
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Content
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/Eatham532/Software-Engineering-HSC-Textbook/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    Eatham532/Software-Engineering-HSC-Textbook
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    

    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../Year11/ProgrammingFundamentals/" class="md-tabs__link">
          
  
  
  Year 11

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
  
  
    
    
      
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  
  Year 12

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../code-editor/" class="md-tabs__link">
        
  
  
    
  
  Code Editor

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Software Engineering Textbook HSC" class="md-nav__button md-logo" aria-label="Software Engineering Textbook HSC" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Software Engineering Textbook HSC
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Eatham532/Software-Engineering-HSC-Textbook/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    Eatham532/Software-Engineering-HSC-Textbook
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    
  
  
  
    <a href="../../../../Year11/ProgrammingFundamentals/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Year 11
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Year 12
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Year 12
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" checked>
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Programming For The Web
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            Programming For The Web
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    
  
  
  
    <a href="../../Chapter-11-Web-foundations-and-data-transmission/11-01-Explore-the-applications-of-web-programming/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Chapter 11 — Web foundations and data transmission
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    
  
  
  
    <a href="../../Chapter-12-Designing-web-applications/12-01-The-role-of-the-W3C-and-web-standards/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Chapter 12 — Designing web applications
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_4" checked>
        
          
          <label class="md-nav__link" for="__nav_3_1_4" id="__nav_3_1_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Chapter 13 — Back-end, databases, and PWAs
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_1_4">
            <span class="md-nav__icon md-icon"></span>
            Chapter 13 — Back-end, databases, and PWAs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../13-01-Server-side-Python-with-a-microframework-and-the-back-end-request-flow/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    13.1 Server-side Python with a microframework and the back-end request flow
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_4_2" checked>
        
          
          <label class="md-nav__link" for="__nav_3_1_4_2" id="__nav_3_1_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    13.2 Databases: SQL, common queries and ORM comparison
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_1_4_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_1_4_2">
            <span class="md-nav__icon md-icon"></span>
            13.2 Databases: SQL, common queries and ORM comparison
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Content
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Content
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#why-it-matters" class="md-nav__link">
    <span class="md-ellipsis">
      Why it matters
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#concepts" class="md-nav__link">
    <span class="md-ellipsis">
      Concepts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Concepts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#crud-patterns-and-basic-sql-operations" class="md-nav__link">
    <span class="md-ellipsis">
      CRUD patterns and basic SQL operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#select-operations-and-field-selection" class="md-nav__link">
    <span class="md-ellipsis">
      SELECT operations and field selection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#group-by-and-aggregation" class="md-nav__link">
    <span class="md-ellipsis">
      GROUP BY and aggregation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-joins-and-relationships" class="md-nav__link">
    <span class="md-ellipsis">
      Table joins and relationships
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#try-it" class="md-nav__link">
    <span class="md-ellipsis">
      Try it
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#recap" class="md-nav__link">
    <span class="md-ellipsis">
      Recap
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Recap">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#object-relational-mapping-orm-fundamentals" class="md-nav__link">
    <span class="md-ellipsis">
      Object-Relational Mapping (ORM) fundamentals
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#orm-vs-raw-sql-comparison" class="md-nav__link">
    <span class="md-ellipsis">
      ORM vs Raw SQL comparison
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trade-offs-analysis-orm-vs-raw-sql" class="md-nav__link">
    <span class="md-ellipsis">
      Trade-offs analysis: ORM vs Raw SQL
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additional-exercises" class="md-nav__link">
    <span class="md-ellipsis">
      Additional exercises
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="quiz/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quiz
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../13-03-Performance-and-page-load-management/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    13.3 Performance and page-load management
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../13-04-Designing-and-implementing-a-PWA/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    13.4 Designing and implementing a PWA
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../../SecureSoftwareArchitecture/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Secure Software Architecture
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../../SoftwareAutomation/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Software Automation
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../../SoftwareEngineeringProject/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Software Engineering Project
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../code-editor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Code Editor
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#why-it-matters" class="md-nav__link">
    <span class="md-ellipsis">
      Why it matters
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#concepts" class="md-nav__link">
    <span class="md-ellipsis">
      Concepts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Concepts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#crud-patterns-and-basic-sql-operations" class="md-nav__link">
    <span class="md-ellipsis">
      CRUD patterns and basic SQL operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#select-operations-and-field-selection" class="md-nav__link">
    <span class="md-ellipsis">
      SELECT operations and field selection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#group-by-and-aggregation" class="md-nav__link">
    <span class="md-ellipsis">
      GROUP BY and aggregation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-joins-and-relationships" class="md-nav__link">
    <span class="md-ellipsis">
      Table joins and relationships
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#try-it" class="md-nav__link">
    <span class="md-ellipsis">
      Try it
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#recap" class="md-nav__link">
    <span class="md-ellipsis">
      Recap
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Recap">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#object-relational-mapping-orm-fundamentals" class="md-nav__link">
    <span class="md-ellipsis">
      Object-Relational Mapping (ORM) fundamentals
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#orm-vs-raw-sql-comparison" class="md-nav__link">
    <span class="md-ellipsis">
      ORM vs Raw SQL comparison
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trade-offs-analysis-orm-vs-raw-sql" class="md-nav__link">
    <span class="md-ellipsis">
      Trade-offs analysis: ORM vs Raw SQL
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additional-exercises" class="md-nav__link">
    <span class="md-ellipsis">
      Additional exercises
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/Eatham532/Software-Engineering-HSC-Textbook/edit/main/docs/Year12/ProgrammingForTheWeb/Chapter-13-Back-end-databases-and-PWAs/13-02-Databases-SQL-common-queries-and-ORM-comparison/index.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/Eatham532/Software-Engineering-HSC-Textbook/raw/main/docs/Year12/ProgrammingForTheWeb/Chapter-13-Back-end-databases-and-PWAs/13-02-Databases-SQL-common-queries-and-ORM-comparison/index.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


<h1 id="132-databases-sql-common-queries-and-orm-comparison">13.2 Databases: SQL, common queries and ORM comparison<a class="headerlink" href="#132-databases-sql-common-queries-and-orm-comparison" title="Permanent link">&para;</a></h1>
<h2 id="why-it-matters">Why it matters<a class="headerlink" href="#why-it-matters" title="Permanent link">&para;</a></h2>
<p>Databases are the persistent storage layer of web applications, and SQL (Structured Query Language) is the standard way to interact with relational databases. Understanding how to construct safe, efficient SQL queries and when to use Object-Relational Mapping (ORM) tools is essential for building robust web applications. These skills enable developers to store, retrieve, and manipulate data while maintaining data integrity and security.</p>
<h2 id="concepts">Concepts<a class="headerlink" href="#concepts" title="Permanent link">&para;</a></h2>
<h3 id="crud-patterns-and-basic-sql-operations">CRUD patterns and basic SQL operations<a class="headerlink" href="#crud-patterns-and-basic-sql-operations" title="Permanent link">&para;</a></h3>
<p>CRUD (Create, Read, Update, Delete) operations form the foundation of database interactions:</p>
<div class="highlight python-template" data-fence-type="template" data-language="python">
<pre><code class="language-python"><span class="c1"># Database setup and CRUD operations with Python</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">sqlite3</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">flask</span><span class="w"> </span><span class="kn">import</span> <span class="n">Flask</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">jsonify</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="c1"># Database configuration</span>
<span class="n">DATABASE</span> <span class="o">=</span> <span class="s1">&#39;webapp.db&#39;</span>

<span class="k">def</span><span class="w"> </span><span class="nf">init_database</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize database with sample schema&quot;&quot;&quot;</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">DATABASE</span><span class="p">)</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

    <span class="c1"># Create tables</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">        CREATE TABLE IF NOT EXISTS users (</span>
<span class="s1">            id INTEGER PRIMARY KEY AUTOINCREMENT,</span>
<span class="s1">            username TEXT UNIQUE NOT NULL,</span>
<span class="s1">            email TEXT UNIQUE NOT NULL,</span>
<span class="s1">            created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,</span>
<span class="s1">            is_active BOOLEAN DEFAULT 1</span>
<span class="s1">        )</span>
<span class="s1">    &#39;&#39;&#39;</span><span class="p">)</span>

    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">        CREATE TABLE IF NOT EXISTS posts (</span>
<span class="s1">            id INTEGER PRIMARY KEY AUTOINCREMENT,</span>
<span class="s1">            title TEXT NOT NULL,</span>
<span class="s1">            content TEXT NOT NULL,</span>
<span class="s1">            author_id INTEGER,</span>
<span class="s1">            category_id INTEGER,</span>
<span class="s1">            published BOOLEAN DEFAULT 0,</span>
<span class="s1">            created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,</span>
<span class="s1">            FOREIGN KEY (author_id) REFERENCES users (id),</span>
<span class="s1">            FOREIGN KEY (category_id) REFERENCES categories (id)</span>
<span class="s1">        )</span>
<span class="s1">    &#39;&#39;&#39;</span><span class="p">)</span>

    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">        CREATE TABLE IF NOT EXISTS categories (</span>
<span class="s1">            id INTEGER PRIMARY KEY AUTOINCREMENT,</span>
<span class="s1">            name TEXT UNIQUE NOT NULL,</span>
<span class="s1">            description TEXT</span>
<span class="s1">        )</span>
<span class="s1">    &#39;&#39;&#39;</span><span class="p">)</span>

    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">        CREATE TABLE IF NOT EXISTS comments (</span>
<span class="s1">            id INTEGER PRIMARY KEY AUTOINCREMENT,</span>
<span class="s1">            post_id INTEGER,</span>
<span class="s1">            author_id INTEGER,</span>
<span class="s1">            content TEXT NOT NULL,</span>
<span class="s1">            created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,</span>
<span class="s1">            FOREIGN KEY (post_id) REFERENCES posts (id),</span>
<span class="s1">            FOREIGN KEY (author_id) REFERENCES users (id)</span>
<span class="s1">        )</span>
<span class="s1">    &#39;&#39;&#39;</span><span class="p">)</span>

    <span class="n">conn</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="k">def</span><span class="w"> </span><span class="nf">get_db_connection</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get database connection with row factory&quot;&quot;&quot;</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">DATABASE</span><span class="p">)</span>
    <span class="n">conn</span><span class="o">.</span><span class="n">row_factory</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">Row</span>
    <span class="k">return</span> <span class="n">conn</span>

<span class="k">class</span><span class="w"> </span><span class="nc">DatabaseManager</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Database operations with proper error handling&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">create_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">email</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;CREATE: Insert new user (safe parameterized query)&quot;&quot;&quot;</span>
        <span class="n">conn</span> <span class="o">=</span> <span class="n">get_db_connection</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
            <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
                <span class="s1">&#39;INSERT INTO users (username, email) VALUES (?, ?)&#39;</span><span class="p">,</span>
                <span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">email</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="n">conn</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
            <span class="n">user_id</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">lastrowid</span>
            <span class="k">return</span> <span class="n">user_id</span>
        <span class="k">except</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">IntegrityError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>  <span class="c1"># Username or email already exists</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;READ: Select specific user&quot;&quot;&quot;</span>
        <span class="n">conn</span> <span class="o">=</span> <span class="n">get_db_connection</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
            <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
                <span class="s1">&#39;SELECT id, username, email, created_at, is_active FROM users WHERE id = ?&#39;</span><span class="p">,</span>
                <span class="p">(</span><span class="n">user_id</span><span class="p">,)</span>
            <span class="p">)</span>
            <span class="n">user</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()</span>
            <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">user</span><span class="p">)</span> <span class="k">if</span> <span class="n">user</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">update_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">,</span> <span class="n">username</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">email</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;UPDATE: Modify existing user&quot;&quot;&quot;</span>
        <span class="n">conn</span> <span class="o">=</span> <span class="n">get_db_connection</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

            <span class="c1"># Build dynamic update query</span>
            <span class="n">updates</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">params</span> <span class="o">=</span> <span class="p">[]</span>

            <span class="k">if</span> <span class="n">username</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">updates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;username = ?&#39;</span><span class="p">)</span>
                <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">username</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">email</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">updates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;email = ?&#39;</span><span class="p">)</span>
                <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">email</span><span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">updates</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>

            <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span>  <span class="c1"># Add WHERE parameter</span>

            <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;UPDATE users SET </span><span class="si">{</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">updates</span><span class="p">)</span><span class="si">}</span><span class="s1"> WHERE id = ?&#39;</span>
            <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
            <span class="n">conn</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

            <span class="k">return</span> <span class="n">cursor</span><span class="o">.</span><span class="n">rowcount</span> <span class="o">&gt;</span> <span class="mi">0</span>
        <span class="k">except</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">IntegrityError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">delete_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;DELETE: Remove user (with cascade consideration)&quot;&quot;&quot;</span>
        <span class="n">conn</span> <span class="o">=</span> <span class="n">get_db_connection</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

            <span class="c1"># Check if user has posts or comments</span>
            <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;SELECT COUNT(*) FROM posts WHERE author_id = ?&#39;</span><span class="p">,</span> <span class="p">(</span><span class="n">user_id</span><span class="p">,))</span>
            <span class="n">post_count</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>

            <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;SELECT COUNT(*) FROM comments WHERE author_id = ?&#39;</span><span class="p">,</span> <span class="p">(</span><span class="n">user_id</span><span class="p">,))</span>
            <span class="n">comment_count</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>

            <span class="k">if</span> <span class="n">post_count</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">comment_count</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="c1"># Soft delete - deactivate instead of removing</span>
                <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;UPDATE users SET is_active = 0 WHERE id = ?&#39;</span><span class="p">,</span> <span class="p">(</span><span class="n">user_id</span><span class="p">,))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># Hard delete - safe to remove</span>
                <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;DELETE FROM users WHERE id = ?&#39;</span><span class="p">,</span> <span class="p">(</span><span class="n">user_id</span><span class="p">,))</span>

            <span class="n">conn</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">cursor</span><span class="o">.</span><span class="n">rowcount</span> <span class="o">&gt;</span> <span class="mi">0</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># Initialize database</span>
<span class="n">init_database</span><span class="p">()</span>
<span class="n">db_manager</span> <span class="o">=</span> <span class="n">DatabaseManager</span><span class="p">()</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/api/users&#39;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">create_user</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;API endpoint for user creation&quot;&quot;&quot;</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">get_json</span><span class="p">()</span>
    <span class="n">username</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;username&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="n">email</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;email&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">username</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">email</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">jsonify</span><span class="p">({</span><span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="s1">&#39;Username and email required&#39;</span><span class="p">}),</span> <span class="mi">400</span>

    <span class="n">user_id</span> <span class="o">=</span> <span class="n">db_manager</span><span class="o">.</span><span class="n">create_user</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">email</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">user_id</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">jsonify</span><span class="p">({</span><span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="n">user_id</span><span class="p">,</span> <span class="s1">&#39;username&#39;</span><span class="p">:</span> <span class="n">username</span><span class="p">,</span> <span class="s1">&#39;email&#39;</span><span class="p">:</span> <span class="n">email</span><span class="p">}),</span> <span class="mi">201</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">jsonify</span><span class="p">({</span><span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="s1">&#39;Username or email already exists&#39;</span><span class="p">}),</span> <span class="mi">409</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/api/users/&lt;int:user_id&gt;&#39;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_user</span><span class="p">(</span><span class="n">user_id</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;API endpoint for user retrieval&quot;&quot;&quot;</span>
    <span class="n">user</span> <span class="o">=</span> <span class="n">db_manager</span><span class="o">.</span><span class="n">get_user</span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">user</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">jsonify</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">jsonify</span><span class="p">({</span><span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="s1">&#39;User not found&#39;</span><span class="p">}),</span> <span class="mi">404</span>
</code></pre>
</div>
<h3 id="select-operations-and-field-selection">SELECT operations and field selection<a class="headerlink" href="#select-operations-and-field-selection" title="Permanent link">&para;</a></h3>
<p>Understanding how to retrieve specific data efficiently:</p>
<div class="highlight python-template" data-fence-type="template" data-language="python">
<pre><code class="language-python"><span class="c1"># Advanced SELECT operations</span>
<span class="k">class</span><span class="w"> </span><span class="nc">QueryBuilder</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Build complex SELECT queries safely&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">conn</span> <span class="o">=</span> <span class="n">get_db_connection</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">select_fields_example</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Demonstrate field selection strategies&quot;&quot;&quot;</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

        <span class="c1"># Select specific fields (efficient)</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">            SELECT id, username, email </span>
<span class="s1">            FROM users </span>
<span class="s1">            WHERE is_active = 1</span>
<span class="s1">        &#39;&#39;&#39;</span><span class="p">)</span>
        <span class="n">active_users</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

        <span class="c1"># Select with aliases for clarity</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">            SELECT </span>
<span class="s1">                u.id as user_id,</span>
<span class="s1">                u.username,</span>
<span class="s1">                u.email,</span>
<span class="s1">                u.created_at as registration_date</span>
<span class="s1">            FROM users u</span>
<span class="s1">            WHERE u.is_active = 1</span>
<span class="s1">        &#39;&#39;&#39;</span><span class="p">)</span>
        <span class="n">users_with_aliases</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

        <span class="c1"># Select with calculated fields</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">            SELECT </span>
<span class="s1">                username,</span>
<span class="s1">                email,</span>
<span class="s1">                CASE </span>
<span class="s1">                    WHEN is_active = 1 THEN &#39;Active&#39;</span>
<span class="s1">                    ELSE &#39;Inactive&#39;</span>
<span class="s1">                END as status,</span>
<span class="s1">                julianday(&#39;now&#39;) - julianday(created_at) as days_since_registration</span>
<span class="s1">            FROM users</span>
<span class="s1">        &#39;&#39;&#39;</span><span class="p">)</span>
        <span class="n">users_with_calculated</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s1">&#39;active_users&#39;</span><span class="p">:</span> <span class="p">[</span><span class="nb">dict</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">active_users</span><span class="p">],</span>
            <span class="s1">&#39;users_with_aliases&#39;</span><span class="p">:</span> <span class="p">[</span><span class="nb">dict</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">users_with_aliases</span><span class="p">],</span>
            <span class="s1">&#39;users_with_calculated&#39;</span><span class="p">:</span> <span class="p">[</span><span class="nb">dict</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">users_with_calculated</span><span class="p">]</span>
        <span class="p">}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">filtering_and_ordering</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Demonstrate WHERE clauses and ORDER BY&quot;&quot;&quot;</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

        <span class="c1"># Basic filtering</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">            SELECT username, email, created_at</span>
<span class="s1">            FROM users</span>
<span class="s1">            WHERE created_at &gt; date(&#39;now&#39;, &#39;-30 days&#39;)</span>
<span class="s1">            ORDER BY created_at DESC</span>
<span class="s1">        &#39;&#39;&#39;</span><span class="p">)</span>
        <span class="n">recent_users</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

        <span class="c1"># Multiple conditions</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">            SELECT username, email</span>
<span class="s1">            FROM users</span>
<span class="s1">            WHERE is_active = 1 </span>
<span class="s1">              AND email LIKE &#39;%@example.com&#39;</span>
<span class="s1">            ORDER BY username ASC</span>
<span class="s1">        &#39;&#39;&#39;</span><span class="p">)</span>
        <span class="n">filtered_users</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

        <span class="c1"># Range filtering with parameters</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">            SELECT username, created_at</span>
<span class="s1">            FROM users</span>
<span class="s1">            WHERE created_at BETWEEN ? AND ?</span>
<span class="s1">            ORDER BY created_at DESC</span>
<span class="s1">            LIMIT ?</span>
<span class="s1">        &#39;&#39;&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;2024-01-01&#39;</span><span class="p">,</span> <span class="s1">&#39;2024-12-31&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
        <span class="n">year_users</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s1">&#39;recent_users&#39;</span><span class="p">:</span> <span class="p">[</span><span class="nb">dict</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">recent_users</span><span class="p">],</span>
            <span class="s1">&#39;filtered_users&#39;</span><span class="p">:</span> <span class="p">[</span><span class="nb">dict</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">filtered_users</span><span class="p">],</span>
            <span class="s1">&#39;year_users&#39;</span><span class="p">:</span> <span class="p">[</span><span class="nb">dict</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">year_users</span><span class="p">]</span>
        <span class="p">}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Close database connection&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/api/query-examples&#39;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">query_examples</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Demonstrate various query patterns&quot;&quot;&quot;</span>
    <span class="n">query_builder</span> <span class="o">=</span> <span class="n">QueryBuilder</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">field_examples</span> <span class="o">=</span> <span class="n">query_builder</span><span class="o">.</span><span class="n">select_fields_example</span><span class="p">()</span>
        <span class="n">filter_examples</span> <span class="o">=</span> <span class="n">query_builder</span><span class="o">.</span><span class="n">filtering_and_ordering</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">jsonify</span><span class="p">({</span>
            <span class="s1">&#39;field_selection&#39;</span><span class="p">:</span> <span class="n">field_examples</span><span class="p">,</span>
            <span class="s1">&#39;filtering_ordering&#39;</span><span class="p">:</span> <span class="n">filter_examples</span>
        <span class="p">})</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">query_builder</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre>
</div>
<h3 id="group-by-and-aggregation">GROUP BY and aggregation<a class="headerlink" href="#group-by-and-aggregation" title="Permanent link">&para;</a></h3>
<p>Grouping and summarizing data for insights:</p>
<div class="highlight python-template" data-fence-type="template" data-language="python">
<pre><code class="language-python"><span class="c1"># GROUP BY and aggregation examples</span>
<span class="k">class</span><span class="w"> </span><span class="nc">AggregationQueries</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Demonstrate aggregation and grouping&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">conn</span> <span class="o">=</span> <span class="n">get_db_connection</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">basic_aggregation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Basic COUNT, SUM, AVG operations&quot;&quot;&quot;</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

        <span class="c1"># Count users by status</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">            SELECT </span>
<span class="s1">                CASE WHEN is_active = 1 THEN &#39;Active&#39; ELSE &#39;Inactive&#39; END as status,</span>
<span class="s1">                COUNT(*) as user_count</span>
<span class="s1">            FROM users</span>
<span class="s1">            GROUP BY is_active</span>
<span class="s1">        &#39;&#39;&#39;</span><span class="p">)</span>
        <span class="n">user_counts</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

        <span class="c1"># Posts per user</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">            SELECT </span>
<span class="s1">                u.username,</span>
<span class="s1">                COUNT(p.id) as post_count,</span>
<span class="s1">                COUNT(CASE WHEN p.published = 1 THEN 1 END) as published_count</span>
<span class="s1">            FROM users u</span>
<span class="s1">            LEFT JOIN posts p ON u.id = p.author_id</span>
<span class="s1">            GROUP BY u.id, u.username</span>
<span class="s1">            ORDER BY post_count DESC</span>
<span class="s1">        &#39;&#39;&#39;</span><span class="p">)</span>
        <span class="n">user_post_stats</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s1">&#39;user_counts&#39;</span><span class="p">:</span> <span class="p">[</span><span class="nb">dict</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">user_counts</span><span class="p">],</span>
            <span class="s1">&#39;user_post_stats&#39;</span><span class="p">:</span> <span class="p">[</span><span class="nb">dict</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">user_post_stats</span><span class="p">]</span>
        <span class="p">}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">advanced_grouping</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Advanced GROUP BY with HAVING&quot;&quot;&quot;</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

        <span class="c1"># Users with more than 5 posts</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">            SELECT </span>
<span class="s1">                u.username,</span>
<span class="s1">                COUNT(p.id) as post_count</span>
<span class="s1">            FROM users u</span>
<span class="s1">            INNER JOIN posts p ON u.id = p.author_id</span>
<span class="s1">            GROUP BY u.id, u.username</span>
<span class="s1">            HAVING COUNT(p.id) &gt; 5</span>
<span class="s1">            ORDER BY post_count DESC</span>
<span class="s1">        &#39;&#39;&#39;</span><span class="p">)</span>
        <span class="n">prolific_users</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

        <span class="c1"># Monthly post statistics</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">            SELECT </span>
<span class="s1">                strftime(&#39;%Y-%m&#39;, created_at) as month,</span>
<span class="s1">                COUNT(*) as total_posts,</span>
<span class="s1">                COUNT(CASE WHEN published = 1 THEN 1 END) as published_posts,</span>
<span class="s1">                COUNT(DISTINCT author_id) as unique_authors</span>
<span class="s1">            FROM posts</span>
<span class="s1">            GROUP BY strftime(&#39;%Y-%m&#39;, created_at)</span>
<span class="s1">            ORDER BY month DESC</span>
<span class="s1">        &#39;&#39;&#39;</span><span class="p">)</span>
        <span class="n">monthly_stats</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s1">&#39;prolific_users&#39;</span><span class="p">:</span> <span class="p">[</span><span class="nb">dict</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">prolific_users</span><span class="p">],</span>
            <span class="s1">&#39;monthly_stats&#39;</span><span class="p">:</span> <span class="p">[</span><span class="nb">dict</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">monthly_stats</span><span class="p">]</span>
        <span class="p">}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/api/aggregation-examples&#39;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">aggregation_examples</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;API endpoint for aggregation demonstrations&quot;&quot;&quot;</span>
    <span class="n">agg_queries</span> <span class="o">=</span> <span class="n">AggregationQueries</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">basic_stats</span> <span class="o">=</span> <span class="n">agg_queries</span><span class="o">.</span><span class="n">basic_aggregation</span><span class="p">()</span>
        <span class="n">advanced_stats</span> <span class="o">=</span> <span class="n">agg_queries</span><span class="o">.</span><span class="n">advanced_grouping</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">jsonify</span><span class="p">({</span>
            <span class="s1">&#39;basic_aggregation&#39;</span><span class="p">:</span> <span class="n">basic_stats</span><span class="p">,</span>
            <span class="s1">&#39;advanced_grouping&#39;</span><span class="p">:</span> <span class="n">advanced_stats</span>
        <span class="p">})</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">agg_queries</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre>
</div>
<h3 id="table-joins-and-relationships">Table joins and relationships<a class="headerlink" href="#table-joins-and-relationships" title="Permanent link">&para;</a></h3>
<p>Understanding how to combine data from multiple tables:</p>
<div class="diagram-container" data-container-id="kroki-diagram-0"><button class="diagram-expand-btn" onclick="openDiagramModal('kroki-diagram-0')">🔍 View Larger</button><div id="kroki-diagram-0" class="diagram-content"><p><svg xmlns="http://www.w3.org/2000/svg" contentStyleType="text/css" data-diagram-type="CLASS" height="589px" preserveAspectRatio="xMaxYMax meet" style="width:421px;height:589px;background:#FFFFFF;" version="1.1" viewBox="0 0 421 589" width="421px" zoomAndPan="magnify" id="Kroki" data-diagram-id="kroki-svg-0"><defs /><g><g class="entity" data-entity="users" data-source-line="4" data-uid="ent0002" id="entity_users"><rect fill="#F1F1F1" height="129.4844" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="201.7314" x="7" y="7" /><ellipse cx="84.7007" cy="23" fill="#C2C2C2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;" /><path d="M88.8101,29 L81.0913,29 L81.0913,16.6094 L88.8101,16.6094 L88.8101,18.7656 L83.5444,18.7656 L83.5444,21.4375 L88.3101,21.4375 L88.3101,23.5938 L83.5444,23.5938 L83.5444,26.8438 L88.8101,26.8438 L88.8101,29 Z " fill="#000000" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37.8301" x="105.2007" y="27.8467">users</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="207.7314" y1="39" y2="39" /><ellipse cx="18" cy="52.6484" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120.8115" x="27" y="55.9951">id : INTEGER (PK)</text><line style="stroke:#181818;stroke-width:1;" x1="8" x2="207.7314" y1="63.2969" y2="63.2969" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="189.7314" x="13" y="80.292">username : TEXT (UNIQUE)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158.1016" x="13" y="96.5889">email : TEXT (UNIQUE)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169.4629" x="13" y="112.8857">created_at : TIMESTAMP</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142.6934" x="13" y="129.1826">is_active : BOOLEAN</text></g><g class="entity" data-entity="posts" data-source-line="13" data-uid="ent0003" id="entity_posts"><rect fill="#F1F1F1" height="162.0781" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="201.2939" x="206.22" y="213.49" /><ellipse cx="283.8523" cy="229.49" fill="#C2C2C2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;" /><path d="M287.9617,235.49 L280.2429,235.49 L280.2429,223.0994 L287.9617,223.0994 L287.9617,225.2556 L282.6961,225.2556 L282.6961,227.9275 L287.4617,227.9275 L287.4617,230.0837 L282.6961,230.0837 L282.6961,233.3337 L287.9617,233.3337 L287.9617,235.49 Z " fill="#000000" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37.5293" x="304.3523" y="234.3367">posts</text><line style="stroke:#181818;stroke-width:0.5;" x1="207.22" x2="406.5139" y1="245.49" y2="245.49" /><ellipse cx="217.22" cy="259.1384" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120.8115" x="226.22" y="262.4851">id : INTEGER (PK)</text><line style="stroke:#181818;stroke-width:1;" x1="207.22" x2="406.5139" y1="269.7869" y2="269.7869" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.5283" x="212.22" y="286.782">title : TEXT</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102.7578" x="212.22" y="303.0789">content : TEXT</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173.5576" x="212.22" y="319.3757">author_id : INTEGER (FK)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="189.2939" x="212.22" y="335.6726">category_id : INTEGER (FK)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150.0488" x="212.22" y="351.9695">published : BOOLEAN</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169.4629" x="212.22" y="368.2664">created_at : TIMESTAMP</text></g><g class="entity" data-entity="categories" data-source-line="24" data-uid="ent0004" id="entity_categories"><rect fill="#F1F1F1" height="96.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="171.1953" x="243.27" y="23.3" /><ellipse cx="287.9258" cy="39.3" fill="#C2C2C2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;" /><path d="M292.0351,45.3 L284.3164,45.3 L284.3164,32.9094 L292.0351,32.9094 L292.0351,35.0656 L286.7695,35.0656 L286.7695,37.7375 L291.5351,37.7375 L291.5351,39.8937 L286.7695,39.8937 L286.7695,43.1437 L292.0351,43.1437 L292.0351,45.3 Z " fill="#000000" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.3838" x="308.4258" y="44.1467">categories</text><line style="stroke:#181818;stroke-width:0.5;" x1="244.27" x2="413.4653" y1="55.3" y2="55.3" /><ellipse cx="254.27" cy="68.9484" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120.8115" x="263.27" y="72.2951">id : INTEGER (PK)</text><line style="stroke:#181818;stroke-width:1;" x1="244.27" x2="413.4653" y1="79.5969" y2="79.5969" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159.1953" x="249.27" y="96.592">name : TEXT (UNIQUE)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126.998" x="249.27" y="112.8889">description : TEXT</text></g><g class="entity" data-entity="comments" data-source-line="31" data-uid="ent0005" id="entity_comments"><rect fill="#F1F1F1" height="129.4844" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="185.5576" x="44.09" y="452.57" /><ellipse cx="95.715" cy="468.57" fill="#C2C2C2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;" /><path d="M99.8244,474.57 L92.1056,474.57 L92.1056,462.1794 L99.8244,462.1794 L99.8244,464.3356 L94.5588,464.3356 L94.5588,467.0075 L99.3244,467.0075 L99.3244,469.1637 L94.5588,469.1637 L94.5588,472.4137 L99.8244,472.4137 L99.8244,474.57 Z " fill="#000000" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.8076" x="116.215" y="473.4167">comments</text><line style="stroke:#181818;stroke-width:0.5;" x1="45.09" x2="228.6476" y1="484.57" y2="484.57" /><ellipse cx="55.09" cy="498.2184" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120.8115" x="64.09" y="501.5651">id : INTEGER (PK)</text><line style="stroke:#181818;stroke-width:1;" x1="45.09" x2="228.6476" y1="508.8669" y2="508.8669" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157.6572" x="50.09" y="525.862">post_id : INTEGER (FK)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173.5576" x="50.09" y="542.1589">author_id : INTEGER (FK)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102.7578" x="50.09" y="558.4557">content : TEXT</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169.4629" x="50.09" y="574.7526">created_at : TIMESTAMP</text></g><g class="link" data-entity-1="users" data-entity-2="posts" data-source-line="40" data-uid="lnk6" id="link_users_posts"><path codeLine="40" d="M171.046,142.8425 C192.506,166.6525 199.7204,174.6481 222.3204,199.7281" fill="none" id="users-posts" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="165.3967" x2="171.3392" y1="142.5492" y2="137.1933" /><line style="stroke:#181818;stroke-width:1;" x1="167.4052" x2="173.3477" y1="144.7777" y2="139.4217" /><line style="stroke:#181818;stroke-width:1;" x1="171.046" x2="165.69" y1="142.8425" y2="136.9" /><line style="stroke:#181818;stroke-width:1;" x1="229.0146" x2="238.8273" y1="207.1569" y2="209.0835" /><line style="stroke:#181818;stroke-width:1;" x1="229.0146" x2="229.9127" y1="207.1569" y2="217.1165" /><line style="stroke:#181818;stroke-width:1;" x1="229.0146" x2="234.37" y1="207.1569" y2="213.1" /><ellipse cx="224.9981" cy="202.6997" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61.2041" x="208.87" y="179.5569">author_id</text></g><g class="link" data-entity-1="users" data-entity-2="comments" data-source-line="41" data-uid="lnk7" id="link_users_comments"><path codeLine="41" d="M111.7717,144.8478 C115.1617,206.1578 120.2,293.21 125.87,375.57 C127.59,400.63 128.2818,410.236 130.1818,434.276" fill="none" id="users-comments" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="107.5569" x2="115.5447" y1="141.0747" y2="140.6331" /><line style="stroke:#181818;stroke-width:1;" x1="107.7226" x2="115.7104" y1="144.0702" y2="143.6285" /><line style="stroke:#181818;stroke-width:1;" x1="111.7717" x2="111.33" y1="144.8478" y2="136.86" /><line style="stroke:#181818;stroke-width:1;" x1="130.9697" x2="137.5813" y1="444.2449" y2="451.7473" /><line style="stroke:#181818;stroke-width:1;" x1="130.9697" x2="125.6187" y1="444.2449" y2="452.6927" /><line style="stroke:#181818;stroke-width:1;" x1="130.9697" x2="131.6" y1="444.2449" y2="452.22" /><ellipse cx="130.497" cy="438.2635" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61.2041" x="126.87" y="299.0969">author_id</text></g><g class="link" data-entity-1="categories" data-entity-2="posts" data-source-line="42" data-uid="lnk8" id="link_categories_posts"><path codeLine="42" d="M323.2972,128.6106 C320.6072,155.6206 319.7594,164.2092 316.6594,195.2392" fill="none" id="categories-posts" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="319.7133" x2="327.6739" y1="124.2339" y2="125.0267" /><line style="stroke:#181818;stroke-width:1;" x1="319.416" x2="327.3766" y1="127.2191" y2="128.012" /><line style="stroke:#181818;stroke-width:1;" x1="323.2972" x2="324.09" y1="128.6106" y2="120.65" /><line style="stroke:#181818;stroke-width:1;" x1="315.6653" x2="320.8403" y1="205.1896" y2="213.7465" /><line style="stroke:#181818;stroke-width:1;" x1="315.6653" x2="308.8997" y1="205.1896" y2="212.5535" /><line style="stroke:#181818;stroke-width:1;" x1="315.6653" x2="314.87" y1="205.1896" y2="213.15" /><ellipse cx="316.2617" cy="199.2193" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.8164" x="320.87" y="179.5569">category_id</text></g><g class="link" data-entity-1="posts" data-entity-2="comments" data-source-line="43" data-uid="lnk9" id="link_posts_comments"><path codeLine="43" d="M240.1285,382.1981 C220.7585,407.3481 215.5217,414.1581 197.1417,438.0281" fill="none" id="posts-comments" style="stroke:#181818;stroke-width:1;" /><line style="stroke:#181818;stroke-width:1;" x1="239.4002" x2="245.7383" y1="376.5883" y2="381.4698" /><line style="stroke:#181818;stroke-width:1;" x1="237.5697" x2="243.9078" y1="378.9651" y2="383.8466" /><line style="stroke:#181818;stroke-width:1;" x1="240.1285" x2="245.01" y1="382.1981" y2="375.86" /><line style="stroke:#181818;stroke-width:1;" x1="191.0408" x2="190.914" y1="445.9514" y2="455.9506" /><line style="stroke:#181818;stroke-width:1;" x1="191.0408" x2="181.406" y1="445.9514" y2="448.6294" /><line style="stroke:#181818;stroke-width:1;" x1="191.0408" x2="186.16" y1="445.9514" y2="452.29" /><ellipse cx="194.7013" cy="441.1974" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46.4395" x="222.87" y="418.6369">post_id</text></g></g></svg></p></div></div>
<div class="highlight python-template" data-fence-type="template" data-language="python">
<pre><code class="language-python"><span class="c1"># Table joins demonstration</span>
<span class="k">class</span><span class="w"> </span><span class="nc">JoinQueries</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Demonstrate different types of joins&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">conn</span> <span class="o">=</span> <span class="n">get_db_connection</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">inner_joins</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;INNER JOIN examples - only matching records&quot;&quot;&quot;</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

        <span class="c1"># Posts with author information</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">            SELECT </span>
<span class="s1">                p.id,</span>
<span class="s1">                p.title,</span>
<span class="s1">                p.created_at,</span>
<span class="s1">                u.username as author,</span>
<span class="s1">                u.email as author_email</span>
<span class="s1">            FROM posts p</span>
<span class="s1">            INNER JOIN users u ON p.author_id = u.id</span>
<span class="s1">            WHERE p.published = 1</span>
<span class="s1">            ORDER BY p.created_at DESC</span>
<span class="s1">        &#39;&#39;&#39;</span><span class="p">)</span>
        <span class="n">published_posts</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

        <span class="c1"># Posts with both author and category</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">            SELECT </span>
<span class="s1">                p.title,</span>
<span class="s1">                u.username as author,</span>
<span class="s1">                c.name as category</span>
<span class="s1">            FROM posts p</span>
<span class="s1">            INNER JOIN users u ON p.author_id = u.id</span>
<span class="s1">            INNER JOIN categories c ON p.category_id = c.id</span>
<span class="s1">            WHERE p.published = 1</span>
<span class="s1">        &#39;&#39;&#39;</span><span class="p">)</span>
        <span class="n">posts_with_details</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s1">&#39;published_posts&#39;</span><span class="p">:</span> <span class="p">[</span><span class="nb">dict</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">published_posts</span><span class="p">],</span>
            <span class="s1">&#39;posts_with_details&#39;</span><span class="p">:</span> <span class="p">[</span><span class="nb">dict</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">posts_with_details</span><span class="p">]</span>
        <span class="p">}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">left_joins</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;LEFT JOIN examples - all records from left table&quot;&quot;&quot;</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

        <span class="c1"># All users with their post count (including users with no posts)</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">            SELECT </span>
<span class="s1">                u.username,</span>
<span class="s1">                u.email,</span>
<span class="s1">                COUNT(p.id) as post_count</span>
<span class="s1">            FROM users u</span>
<span class="s1">            LEFT JOIN posts p ON u.id = p.author_id</span>
<span class="s1">            GROUP BY u.id, u.username, u.email</span>
<span class="s1">            ORDER BY post_count DESC</span>
<span class="s1">        &#39;&#39;&#39;</span><span class="p">)</span>
        <span class="n">all_users_with_posts</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

        <span class="c1"># All posts with comment count (including posts with no comments)</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">            SELECT </span>
<span class="s1">                p.id,</span>
<span class="s1">                p.title,</span>
<span class="s1">                u.username as author,</span>
<span class="s1">                COUNT(c.id) as comment_count</span>
<span class="s1">            FROM posts p</span>
<span class="s1">            INNER JOIN users u ON p.author_id = u.id</span>
<span class="s1">            LEFT JOIN comments c ON p.id = c.post_id</span>
<span class="s1">            GROUP BY p.id, p.title, u.username</span>
<span class="s1">            ORDER BY comment_count DESC</span>
<span class="s1">        &#39;&#39;&#39;</span><span class="p">)</span>
        <span class="n">posts_with_comments</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s1">&#39;all_users_with_posts&#39;</span><span class="p">:</span> <span class="p">[</span><span class="nb">dict</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">all_users_with_posts</span><span class="p">],</span>
            <span class="s1">&#39;posts_with_comments&#39;</span><span class="p">:</span> <span class="p">[</span><span class="nb">dict</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">posts_with_comments</span><span class="p">]</span>
        <span class="p">}</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/api/join-examples&#39;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">join_examples</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;API endpoint for join demonstrations&quot;&quot;&quot;</span>
    <span class="n">join_queries</span> <span class="o">=</span> <span class="n">JoinQueries</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">inner_results</span> <span class="o">=</span> <span class="n">join_queries</span><span class="o">.</span><span class="n">inner_joins</span><span class="p">()</span>
        <span class="n">left_results</span> <span class="o">=</span> <span class="n">join_queries</span><span class="o">.</span><span class="n">left_joins</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">jsonify</span><span class="p">({</span>
            <span class="s1">&#39;inner_joins&#39;</span><span class="p">:</span> <span class="n">inner_results</span><span class="p">,</span>
            <span class="s1">&#39;left_joins&#39;</span><span class="p">:</span> <span class="n">left_results</span>
        <span class="p">})</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">join_queries</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre>
</div>
<h2 id="try-it">Try it<a class="headerlink" href="#try-it" title="Permanent link">&para;</a></h2>
<details class="question">
<summary>Exercise 1: Basic CRUD Operations</summary>
<p><strong>Scenario</strong>: You need to implement user management for a blog system with proper error handling.</p>
<p><strong>Tasks</strong>:</p>
<ol>
<li>
<p>Write a CREATE operation that prevents duplicate usernames</p>
</li>
<li>
<p>Write a READ operation that retrieves users with their post count</p>
</li>
<li>
<p>Write an UPDATE operation that only modifies provided fields</p>
</li>
</ol>
<details class="success">
<summary>Sample Solution</summary>
<div class="highlight python-exec" data-fence-type="exec" data-language="python">
<pre><code class="language-python"><span class="k">def</span><span class="w"> </span><span class="nf">create_user_safe</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">password</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;CREATE with duplicate prevention&quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">conn</span> <span class="o">=</span> <span class="n">get_db_connection</span><span class="p">()</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

        <span class="c1"># Check for existing user first</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
            <span class="s1">&#39;SELECT id FROM users WHERE username = ? OR email = ?&#39;</span><span class="p">,</span>
            <span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">email</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchone</span><span class="p">():</span>
            <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="s1">&#39;Username or email already exists&#39;</span><span class="p">}</span>

        <span class="c1"># Insert new user</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
            <span class="s1">&#39;INSERT INTO users (username, email, password_hash) VALUES (?, ?, ?)&#39;</span><span class="p">,</span>
            <span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">generate_password_hash</span><span class="p">(</span><span class="n">password</span><span class="p">))</span>
        <span class="p">)</span>
        <span class="n">conn</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;user_id&#39;</span><span class="p">:</span> <span class="n">cursor</span><span class="o">.</span><span class="n">lastrowid</span><span class="p">}</span>

    <span class="k">except</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">Error</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;Database error: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">}</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="k">def</span><span class="w"> </span><span class="nf">get_users_with_post_count</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;READ with aggregated data&quot;&quot;&quot;</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">get_db_connection</span><span class="p">()</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">        SELECT </span>
<span class="s1">            u.id, u.username, u.email,</span>
<span class="s1">            COUNT(p.id) as post_count</span>
<span class="s1">        FROM users u</span>
<span class="s1">        LEFT JOIN posts p ON u.id = p.author_id</span>
<span class="s1">        GROUP BY u.id</span>
<span class="s1">        ORDER BY post_count DESC</span>
<span class="s1">    &#39;&#39;&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">[</span><span class="nb">dict</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()]</span>
</code></pre>
</div>
</details>
</details>
<h2 id="recap">Recap<a class="headerlink" href="#recap" title="Permanent link">&para;</a></h2>
<p>This first part of database concepts covers:</p>
<ul>
<li>
<p><strong>CRUD operations</strong> provide the foundation for all database interactions with proper error handling and security</p>
</li>
<li>
<p><strong>SELECT operations</strong> enable efficient data retrieval with field selection, filtering, and ordering</p>
</li>
<li>
<p><strong>GROUP BY and aggregation</strong> allow summarizing and analyzing data patterns</p>
</li>
<li>
<p><strong>Table joins</strong> combine related data from multiple tables using INNER and LEFT JOIN patterns</p>
</li>
<li>
<p><strong>Safe parameterized queries</strong> prevent SQL injection attacks through proper parameter binding</p>
</li>
</ul>
<p>Understanding these SQL fundamentals enables developers to build secure, efficient data access layers for web applications while maintaining data integrity and performance.</p>
<h3 id="object-relational-mapping-orm-fundamentals">Object-Relational Mapping (ORM) fundamentals<a class="headerlink" href="#object-relational-mapping-orm-fundamentals" title="Permanent link">&para;</a></h3>
<p>ORMs provide an abstraction layer that maps database tables to Python classes and rows to objects:</p>
<div class="highlight python-template" data-fence-type="template" data-language="python">
<pre><code class="language-python"><span class="c1"># SQLAlchemy ORM example - setting up models</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">flask</span><span class="w"> </span><span class="kn">import</span> <span class="n">Flask</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">flask_sqlalchemy</span><span class="w"> </span><span class="kn">import</span> <span class="n">SQLAlchemy</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">werkzeug.security</span><span class="w"> </span><span class="kn">import</span> <span class="n">generate_password_hash</span><span class="p">,</span> <span class="n">check_password_hash</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
<span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;SQLALCHEMY_DATABASE_URI&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;sqlite:///blog_orm.db&#39;</span>
<span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;SQLALCHEMY_TRACK_MODIFICATIONS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>

<span class="n">db</span> <span class="o">=</span> <span class="n">SQLAlchemy</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>

<span class="c1"># ORM Models - Classes map to tables</span>
<span class="k">class</span><span class="w"> </span><span class="nc">User</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;User model demonstrating ORM class-to-table mapping&quot;&quot;&quot;</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s1">&#39;users&#39;</span>

    <span class="c1"># Columns defined as class attributes</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">username</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="mi">80</span><span class="p">),</span> <span class="n">unique</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">email</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="mi">120</span><span class="p">),</span> <span class="n">unique</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">password_hash</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="mi">128</span><span class="p">))</span>
    <span class="n">created_at</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">DateTime</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">)</span>
    <span class="n">is_active</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Boolean</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="c1"># Relationships - ORM handles joins automatically</span>
    <span class="n">posts</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">relationship</span><span class="p">(</span><span class="s1">&#39;Post&#39;</span><span class="p">,</span> <span class="n">backref</span><span class="o">=</span><span class="s1">&#39;author&#39;</span><span class="p">,</span> <span class="n">lazy</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">comments</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">relationship</span><span class="p">(</span><span class="s1">&#39;Comment&#39;</span><span class="p">,</span> <span class="n">backref</span><span class="o">=</span><span class="s1">&#39;author&#39;</span><span class="p">,</span> <span class="n">lazy</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_password</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">password</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Hash and store password&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">password_hash</span> <span class="o">=</span> <span class="n">generate_password_hash</span><span class="p">(</span><span class="n">password</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">check_password</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">password</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Verify password&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">check_password_hash</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">password_hash</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert object to dictionary for JSON serialization&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="s1">&#39;username&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">username</span><span class="p">,</span>
            <span class="s1">&#39;email&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">email</span><span class="p">,</span>
            <span class="s1">&#39;created_at&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">created_at</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
            <span class="s1">&#39;is_active&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_active</span>
        <span class="p">}</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;&lt;User </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">username</span><span class="si">}</span><span class="s1">&gt;&#39;</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Category</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Category model&quot;&quot;&quot;</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s1">&#39;categories&#39;</span>

    <span class="nb">id</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span> <span class="n">unique</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Text</span><span class="p">)</span>

    <span class="c1"># One-to-many relationship</span>
    <span class="n">posts</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">relationship</span><span class="p">(</span><span class="s1">&#39;Post&#39;</span><span class="p">,</span> <span class="n">backref</span><span class="o">=</span><span class="s1">&#39;category&#39;</span><span class="p">,</span> <span class="n">lazy</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Post</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Post model with foreign key relationships&quot;&quot;&quot;</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s1">&#39;posts&#39;</span>

    <span class="nb">id</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="mi">200</span><span class="p">),</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">content</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Text</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">published</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Boolean</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">created_at</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">DateTime</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">)</span>

    <span class="c1"># Foreign keys</span>
    <span class="n">author_id</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Integer</span><span class="p">,</span> <span class="n">db</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s1">&#39;users.id&#39;</span><span class="p">),</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">category_id</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Integer</span><span class="p">,</span> <span class="n">db</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s1">&#39;categories.id&#39;</span><span class="p">))</span>

    <span class="c1"># One-to-many relationship</span>
    <span class="n">comments</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">relationship</span><span class="p">(</span><span class="s1">&#39;Comment&#39;</span><span class="p">,</span> <span class="n">backref</span><span class="o">=</span><span class="s1">&#39;post&#39;</span><span class="p">,</span> <span class="n">lazy</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cascade</span><span class="o">=</span><span class="s1">&#39;all, delete-orphan&#39;</span><span class="p">)</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Comment</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Comment model&quot;&quot;&quot;</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s1">&#39;comments&#39;</span>

    <span class="nb">id</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">content</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Text</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">created_at</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">DateTime</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">)</span>

    <span class="c1"># Foreign keys</span>
    <span class="n">post_id</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Integer</span><span class="p">,</span> <span class="n">db</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s1">&#39;posts.id&#39;</span><span class="p">),</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">author_id</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Integer</span><span class="p">,</span> <span class="n">db</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s1">&#39;users.id&#39;</span><span class="p">),</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Create tables</span>
<span class="k">with</span> <span class="n">app</span><span class="o">.</span><span class="n">app_context</span><span class="p">():</span>
    <span class="n">db</span><span class="o">.</span><span class="n">create_all</span><span class="p">()</span>
</code></pre>
</div>
<h3 id="orm-vs-raw-sql-comparison">ORM vs Raw SQL comparison<a class="headerlink" href="#orm-vs-raw-sql-comparison" title="Permanent link">&para;</a></h3>
<p>Comparing the same operations using ORM and raw SQL approaches:</p>
<div class="highlight python-template" data-fence-type="template" data-language="python">
<pre><code class="language-python"><span class="c1"># Direct comparison: ORM vs Raw SQL</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">sqlite3</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sqlalchemy</span><span class="w"> </span><span class="kn">import</span> <span class="n">text</span>

<span class="k">class</span><span class="w"> </span><span class="nc">DatabaseComparison</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Compare ORM and raw SQL approaches&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">raw_conn</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;blog_raw.db&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">raw_conn</span><span class="o">.</span><span class="n">row_factory</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">Row</span>

    <span class="c1"># CREATE operations comparison</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">create_user_raw_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">password</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Raw SQL user creation&quot;&quot;&quot;</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">raw_conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">password_hash</span> <span class="o">=</span> <span class="n">generate_password_hash</span><span class="p">(</span><span class="n">password</span><span class="p">)</span>
            <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">                INSERT INTO users (username, email, password_hash) </span>
<span class="s1">                VALUES (?, ?, ?)</span>
<span class="s1">            &#39;&#39;&#39;</span><span class="p">,</span> <span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">password_hash</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">raw_conn</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">cursor</span><span class="o">.</span><span class="n">lastrowid</span>
        <span class="k">except</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">IntegrityError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">create_user_orm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">password</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;ORM user creation&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span> <span class="n">email</span><span class="o">=</span><span class="n">email</span><span class="p">)</span>
            <span class="n">user</span><span class="o">.</span><span class="n">set_password</span><span class="p">(</span><span class="n">password</span><span class="p">)</span>
            <span class="n">db</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>
            <span class="n">db</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">user</span><span class="o">.</span><span class="n">id</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="n">db</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">rollback</span><span class="p">()</span>
            <span class="k">return</span> <span class="kc">None</span>

    <span class="c1"># READ operations comparison</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_users_with_post_count_raw</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Raw SQL with JOIN and aggregation&quot;&quot;&quot;</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">raw_conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">            SELECT </span>
<span class="s1">                u.id, u.username, u.email,</span>
<span class="s1">                COUNT(p.id) as post_count</span>
<span class="s1">            FROM users u</span>
<span class="s1">            LEFT JOIN posts p ON u.id = p.author_id</span>
<span class="s1">            WHERE u.is_active = 1</span>
<span class="s1">            GROUP BY u.id, u.username, u.email</span>
<span class="s1">            ORDER BY post_count DESC</span>
<span class="s1">        &#39;&#39;&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="nb">dict</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_users_with_post_count_orm</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;ORM equivalent with relationship loading&quot;&quot;&quot;</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">sqlalchemy</span><span class="w"> </span><span class="kn">import</span> <span class="n">func</span>

        <span class="n">users</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
            <span class="n">User</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">User</span><span class="o">.</span><span class="n">username</span><span class="p">,</span>
            <span class="n">User</span><span class="o">.</span><span class="n">email</span><span class="p">,</span>
            <span class="n">func</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">Post</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&#39;post_count&#39;</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">outerjoin</span><span class="p">(</span><span class="n">Post</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
            <span class="n">User</span><span class="o">.</span><span class="n">is_active</span> <span class="o">==</span> <span class="kc">True</span>
        <span class="p">)</span><span class="o">.</span><span class="n">group_by</span><span class="p">(</span>
            <span class="n">User</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">User</span><span class="o">.</span><span class="n">username</span><span class="p">,</span> <span class="n">User</span><span class="o">.</span><span class="n">email</span>
        <span class="p">)</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span>
            <span class="n">func</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">Post</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="o">.</span><span class="n">desc</span><span class="p">()</span>
        <span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>

        <span class="k">return</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="s1">&#39;username&#39;</span><span class="p">:</span> <span class="n">user</span><span class="o">.</span><span class="n">username</span><span class="p">,</span>
                <span class="s1">&#39;email&#39;</span><span class="p">:</span> <span class="n">user</span><span class="o">.</span><span class="n">email</span><span class="p">,</span>
                <span class="s1">&#39;post_count&#39;</span><span class="p">:</span> <span class="n">user</span><span class="o">.</span><span class="n">post_count</span>
            <span class="p">}</span>
            <span class="k">for</span> <span class="n">user</span> <span class="ow">in</span> <span class="n">users</span>
        <span class="p">]</span>

    <span class="c1"># Complex query comparison</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_recent_posts_with_details_raw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">days</span><span class="o">=</span><span class="mi">30</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Complex raw SQL query&quot;&quot;&quot;</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">raw_conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">            SELECT </span>
<span class="s1">                p.id, p.title, p.created_at,</span>
<span class="s1">                u.username as author_name,</span>
<span class="s1">                c.name as category_name,</span>
<span class="s1">                COUNT(cm.id) as comment_count</span>
<span class="s1">            FROM posts p</span>
<span class="s1">            INNER JOIN users u ON p.author_id = u.id</span>
<span class="s1">            LEFT JOIN categories c ON p.category_id = c.id</span>
<span class="s1">            LEFT JOIN comments cm ON p.id = cm.post_id</span>
<span class="s1">            WHERE p.published = 1 </span>
<span class="s1">              AND p.created_at &gt; date(&#39;now&#39;, &#39;-&#39; || ? || &#39; days&#39;)</span>
<span class="s1">            GROUP BY p.id, p.title, p.created_at, u.username, c.name</span>
<span class="s1">            ORDER BY p.created_at DESC</span>
<span class="s1">            LIMIT 10</span>
<span class="s1">        &#39;&#39;&#39;</span><span class="p">,</span> <span class="p">(</span><span class="n">days</span><span class="p">,))</span>
        <span class="k">return</span> <span class="p">[</span><span class="nb">dict</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_recent_posts_with_details_orm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">days</span><span class="o">=</span><span class="mi">30</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;ORM equivalent using relationships&quot;&quot;&quot;</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">sqlalchemy</span><span class="w"> </span><span class="kn">import</span> <span class="n">func</span><span class="p">,</span> <span class="n">and_</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span>

        <span class="n">cutoff_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="n">days</span><span class="p">)</span>

        <span class="n">posts</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
            <span class="n">Post</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">Post</span><span class="o">.</span><span class="n">title</span><span class="p">,</span>
            <span class="n">Post</span><span class="o">.</span><span class="n">created_at</span><span class="p">,</span>
            <span class="n">User</span><span class="o">.</span><span class="n">username</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&#39;author_name&#39;</span><span class="p">),</span>
            <span class="n">Category</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&#39;category_name&#39;</span><span class="p">),</span>
            <span class="n">func</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">Comment</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&#39;comment_count&#39;</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span><span class="n">outerjoin</span><span class="p">(</span><span class="n">Category</span><span class="p">)</span><span class="o">.</span><span class="n">outerjoin</span><span class="p">(</span><span class="n">Comment</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
            <span class="n">and_</span><span class="p">(</span><span class="n">Post</span><span class="o">.</span><span class="n">published</span> <span class="o">==</span> <span class="kc">True</span><span class="p">,</span> <span class="n">Post</span><span class="o">.</span><span class="n">created_at</span> <span class="o">&gt;</span> <span class="n">cutoff_date</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">group_by</span><span class="p">(</span>
            <span class="n">Post</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">Post</span><span class="o">.</span><span class="n">title</span><span class="p">,</span> <span class="n">Post</span><span class="o">.</span><span class="n">created_at</span><span class="p">,</span> <span class="n">User</span><span class="o">.</span><span class="n">username</span><span class="p">,</span> <span class="n">Category</span><span class="o">.</span><span class="n">name</span>
        <span class="p">)</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="n">Post</span><span class="o">.</span><span class="n">created_at</span><span class="o">.</span><span class="n">desc</span><span class="p">())</span><span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>

        <span class="k">return</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="n">post</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="n">post</span><span class="o">.</span><span class="n">title</span><span class="p">,</span>
                <span class="s1">&#39;created_at&#39;</span><span class="p">:</span> <span class="n">post</span><span class="o">.</span><span class="n">created_at</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
                <span class="s1">&#39;author_name&#39;</span><span class="p">:</span> <span class="n">post</span><span class="o">.</span><span class="n">author_name</span><span class="p">,</span>
                <span class="s1">&#39;category_name&#39;</span><span class="p">:</span> <span class="n">post</span><span class="o">.</span><span class="n">category_name</span><span class="p">,</span>
                <span class="s1">&#39;comment_count&#39;</span><span class="p">:</span> <span class="n">post</span><span class="o">.</span><span class="n">comment_count</span>
            <span class="p">}</span>
            <span class="k">for</span> <span class="n">post</span> <span class="ow">in</span> <span class="n">posts</span>
        <span class="p">]</span>

<span class="c1"># Performance and trade-offs demonstration</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/api/comparison-demo&#39;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">comparison_demo</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;API endpoint demonstrating ORM vs Raw SQL&quot;&quot;&quot;</span>
    <span class="n">comparison</span> <span class="o">=</span> <span class="n">DatabaseComparison</span><span class="p">()</span>

    <span class="kn">import</span><span class="w"> </span><span class="nn">time</span>

    <span class="c1"># Time raw SQL query</span>
    <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="n">raw_results</span> <span class="o">=</span> <span class="n">comparison</span><span class="o">.</span><span class="n">get_recent_posts_with_details_raw</span><span class="p">()</span>
    <span class="n">raw_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>

    <span class="c1"># Time ORM query</span>
    <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="n">orm_results</span> <span class="o">=</span> <span class="n">comparison</span><span class="o">.</span><span class="n">get_recent_posts_with_details_orm</span><span class="p">()</span>
    <span class="n">orm_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>

    <span class="k">return</span> <span class="n">jsonify</span><span class="p">({</span>
        <span class="s1">&#39;raw_sql&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;execution_time&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">raw_time</span><span class="si">:</span><span class="s1">.4f</span><span class="si">}</span><span class="s1">s&#39;</span><span class="p">,</span>
            <span class="s1">&#39;result_count&#39;</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">raw_results</span><span class="p">),</span>
            <span class="s1">&#39;sample_result&#39;</span><span class="p">:</span> <span class="n">raw_results</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="n">raw_results</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="p">},</span>
        <span class="s1">&#39;orm&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;execution_time&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">orm_time</span><span class="si">:</span><span class="s1">.4f</span><span class="si">}</span><span class="s1">s&#39;</span><span class="p">,</span>
            <span class="s1">&#39;result_count&#39;</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">orm_results</span><span class="p">),</span>
            <span class="s1">&#39;sample_result&#39;</span><span class="p">:</span> <span class="n">orm_results</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="n">orm_results</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="p">},</span>
        <span class="s1">&#39;performance_note&#39;</span><span class="p">:</span> <span class="s1">&#39;Times may vary based on data size and query complexity&#39;</span>
    <span class="p">})</span>
</code></pre>
</div>
<h3 id="trade-offs-analysis-orm-vs-raw-sql">Trade-offs analysis: ORM vs Raw SQL<a class="headerlink" href="#trade-offs-analysis-orm-vs-raw-sql" title="Permanent link">&para;</a></h3>
<p>Understanding when to use each approach:</p>
<div class="diagram-container" data-container-id="kroki-diagram-1"><button class="diagram-expand-btn" onclick="openDiagramModal('kroki-diagram-1')">🔍 View Larger</button><div id="kroki-diagram-1" class="diagram-content"><p><svg xmlns="http://www.w3.org/2000/svg" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="209px" preserveAspectRatio="xMaxYMax meet" style="width:2346px;height:209px;background:#FFFFFF;" version="1.1" viewBox="0 0 2346 209" width="2346px" zoomAndPan="magnify" id="Kroki" data-diagram-id="kroki-svg-1"><defs /><g><g class="cluster" data-entity="ORM Benefits" data-source-line="4" data-uid="ent0002" id="cluster_ORM Benefits"><path d="M111.39,6 L219.4203,6 A3.75,3.75 0 0 1 221.9203,8.5 L228.9203,28.2969 L733.39,28.2969 A2.5,2.5 0 0 1 735.89,30.7969 L735.89,100.8 A2.5,2.5 0 0 1 733.39,103.3 L111.39,103.3 A2.5,2.5 0 0 1 108.89,100.8 L108.89,8.5 A2.5,2.5 0 0 1 111.39,6" fill="none" style="stroke:#000000;stroke-width:1.5;" /><line style="stroke:#000000;stroke-width:1.5;" x1="108.89" x2="228.9203" y1="28.2969" y2="28.2969" /><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="107.0303" x="112.89" y="20.9951">ORM Benefits</text></g><g class="cluster" data-entity="Raw SQL Benefits" data-source-line="11" data-uid="ent0007" id="cluster_Raw SQL Benefits"><path d="M972.39,6 L1112.7474,6 A3.75,3.75 0 0 1 1115.2474,8.5 L1122.2474,28.2969 L1561.39,28.2969 A2.5,2.5 0 0 1 1563.89,30.7969 L1563.89,100.8 A2.5,2.5 0 0 1 1561.39,103.3 L972.39,103.3 A2.5,2.5 0 0 1 969.89,100.8 L969.89,8.5 A2.5,2.5 0 0 1 972.39,6" fill="none" style="stroke:#000000;stroke-width:1.5;" /><line style="stroke:#000000;stroke-width:1.5;" x1="969.89" x2="1122.2474" y1="28.2969" y2="28.2969" /><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="139.3574" x="973.89" y="20.9951">Raw SQL Benefits</text></g><g class="cluster" data-entity="Decision Factors" data-source-line="18" data-uid="ent0012" id="cluster_Decision Factors"><path d="M1766.39,6 L1898.0521,6 A3.75,3.75 0 0 1 1900.5521,8.5 L1907.5521,28.2969 L2283.39,28.2969 A2.5,2.5 0 0 1 2285.89,30.7969 L2285.89,100.8 A2.5,2.5 0 0 1 2283.39,103.3 L1766.39,103.3 A2.5,2.5 0 0 1 1763.89,100.8 L1763.89,8.5 A2.5,2.5 0 0 1 1766.39,6" fill="none" style="stroke:#000000;stroke-width:1.5;" /><line style="stroke:#000000;stroke-width:1.5;" x1="1763.89" x2="1907.5521" y1="28.2969" y2="28.2969" /><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="130.6621" x="1767.89" y="20.9951">Decision Factors</text></g><g class="entity" data-entity="orm_prod" data-source-line="5" data-uid="ent0003" id="entity_orm_prod"><rect fill="#F1F1F1" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123.5488" x="125.11" y="41" /><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="228.6588" y="46" /><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="226.6588" y="48" /><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="226.6588" y="52" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.5488" x="140.11" y="73.9951">Productivity</text></g><g class="entity" data-entity="orm_abs" data-source-line="6" data-uid="ent0004" id="entity_orm_abs"><rect fill="#F1F1F1" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120.0967" x="283.84" y="41" /><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="383.9367" y="46" /><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="381.9367" y="48" /><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="381.9367" y="52" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.0967" x="298.84" y="73.9951">Abstraction</text></g><g class="entity" data-entity="orm_port" data-source-line="7" data-uid="ent0005" id="entity_orm_port"><rect fill="#F1F1F1" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111.1621" x="439.31" y="41" /><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="530.4721" y="46" /><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="528.4721" y="48" /><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="528.4721" y="52" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71.1621" x="454.31" y="73.9951">Portability</text></g><g class="entity" data-entity="orm_rel" data-source-line="8" data-uid="ent0006" id="entity_orm_rel"><rect fill="#F1F1F1" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="133.8643" x="585.96" y="41" /><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="699.8243" y="46" /><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="697.8243" y="48" /><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="697.8243" y="52" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.8643" x="600.96" y="73.9951">Relationships</text></g><g class="entity" data-entity="sql_perf" data-source-line="12" data-uid="ent0008" id="entity_sql_perf"><rect fill="#F1F1F1" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="129.4619" x="986.16" y="41" /><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="1095.6219" y="46" /><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1093.6219" y="48" /><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1093.6219" y="52" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.4619" x="1001.16" y="73.9951">Performance</text></g><g class="entity" data-entity="sql_ctrl" data-source-line="13" data-uid="ent0009" id="entity_sql_ctrl"><rect fill="#F1F1F1" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90.9141" x="1150.43" y="41" /><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="1221.3441" y="46" /><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1219.3441" y="48" /><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1219.3441" y="52" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50.9141" x="1165.43" y="73.9951">Control</text></g><g class="entity" data-entity="sql_opt" data-source-line="14" data-uid="ent0010" id="entity_sql_opt"><rect fill="#F1F1F1" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="129.5576" x="1276.11" y="41" /><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="1385.6676" y="46" /><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1383.6676" y="48" /><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1383.6676" y="52" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.5576" x="1291.11" y="73.9951">Optimization</text></g><g class="entity" data-entity="sql_flex" data-source-line="15" data-uid="ent0011" id="entity_sql_flex"><rect fill="#F1F1F1" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107.0605" x="1440.36" y="41" /><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="1527.4205" y="46" /><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1525.4205" y="48" /><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1525.4205" y="52" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67.0605" x="1455.36" y="73.9951">Flexibility</text></g><g class="entity" data-entity="factor_size" data-source-line="19" data-uid="ent0013" id="entity_factor_size"><rect fill="#F1F1F1" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121.6416" x="1780.07" y="41" /><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="1881.7116" y="46" /><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1879.7116" y="48" /><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1879.7116" y="52" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.6416" x="1795.07" y="73.9951">Project Size</text></g><g class="entity" data-entity="factor_skills" data-source-line="20" data-uid="ent0014" id="entity_factor_skills"><rect fill="#F1F1F1" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119.7891" x="1936.99" y="41" /><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="2036.7791" y="46" /><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="2034.7791" y="48" /><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="2034.7791" y="52" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79.7891" x="1951.99" y="73.9951">Team Skills</text></g><g class="entity" data-entity="factor_perf" data-source-line="21" data-uid="ent0015" id="entity_factor_perf"><rect fill="#F1F1F1" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="177.792" x="2091.99" y="41" /><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="2249.782" y="46" /><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="2247.782" y="48" /><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="2247.782" y="52" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137.792" x="2106.99" y="73.9951">Performance Needs</text></g><g class="entity" data-entity="GMN16" data-source-line="24" data-uid="ent0017" id="entity_GMN16"><path d="M6,147.3 L6,202.6984 A0,0 0 0 0 6,202.6984 L193.7783,202.6984 A0,0 0 0 0 193.7783,202.6984 L193.7783,157.3 L183.7783,147.3 L125.59,147.3 L168.86,87.71 L117.59,147.3 L6,147.3 A0,0 0 0 0 6,147.3" fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;" /><path d="M183.7783,147.3 L183.7783,157.3 L193.7783,157.3 L183.7783,147.3" fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.5459" x="12" y="164.3669">Faster development</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138.0996" x="12" y="179.4997">Less boilerplate code</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166.7783" x="12" y="194.6325">Object-oriented approach</text></g><g class="entity" data-entity="GMN19" data-source-line="25" data-uid="ent0020" id="entity_GMN19"><path d="M229.2,147.3 L229.2,202.6984 A0,0 0 0 0 229.2,202.6984 L408.5867,202.6984 A0,0 0 0 0 408.5867,202.6984 L408.5867,157.3 L398.5867,147.3 L329.12,147.3 L338.71,87.71 L321.12,147.3 L229.2,147.3 A0,0 0 0 0 229.2,147.3" fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;" /><path d="M398.5867,147.3 L398.5867,157.3 L408.5867,157.3 L398.5867,147.3" fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158.3867" x="235.2" y="164.3669">Database independence</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.3149" x="235.2" y="179.4997">Automatic migrations</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114.1563" x="235.2" y="194.6325">Built-in validation</text></g><g class="entity" data-entity="GMN22" data-source-line="26" data-uid="ent0023" id="entity_GMN22"><path d="M443.9,147.3 L443.9,202.6984 A0,0 0 0 0 443.9,202.6984 L595.8712,202.6984 A0,0 0 0 0 595.8712,202.6984 L595.8712,157.3 L585.8712,147.3 L517.65,147.3 L500.07,87.71 L509.65,147.3 L443.9,147.3 A0,0 0 0 0 443.9,147.3" fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;" /><path d="M585.8712,147.3 L585.8712,157.3 L595.8712,157.3 L585.8712,147.3" fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.7432" x="449.9" y="164.3669">Multiple DB support</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79.8472" x="449.9" y="179.4997">Easy testing</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.9712" x="449.9" y="194.6325">Consistent interface</text></g><g class="entity" data-entity="GMN25" data-source-line="27" data-uid="ent0026" id="entity_GMN25"><path d="M630.59,147.3 L630.59,202.6984 A0,0 0 0 0 630.59,202.6984 L823.1925,202.6984 A0,0 0 0 0 823.1925,202.6984 L823.1925,157.3 L813.1925,147.3 L712.43,147.3 L668.22,87.71 L704.43,147.3 L630.59,147.3 A0,0 0 0 0 630.59,147.3" fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;" /><path d="M813.1925,147.3 L813.1925,157.3 L823.1925,157.3 L813.1925,147.3" fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100.9912" x="636.59" y="164.3669">Automatic joins</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81.7451" x="636.59" y="179.4997">Lazy loading</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171.6025" x="636.59" y="194.6325">Relationship management</text></g><g class="entity" data-entity="GMN28" data-source-line="29" data-uid="ent0029" id="entity_GMN28"><path d="M858.61,147.3 L858.61,202.6984 A0,0 0 0 0 858.61,202.6984 L1031.1603,202.6984 A0,0 0 0 0 1031.1603,202.6984 L1031.1603,157.3 L1021.1603,147.3 L975.33,147.3 L1028.93,87.71 L967.33,147.3 L858.61,147.3 A0,0 0 0 0 858.61,147.3" fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;" /><path d="M1021.1603,147.3 L1021.1603,157.3 L1031.1603,157.3 L1021.1603,147.3" fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.5503" x="864.61" y="164.3669">Direct database access</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.4985" x="864.61" y="179.4997">Minimal overhead</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118.8916" x="864.61" y="194.6325">Optimized queries</text></g><g class="entity" data-entity="GMN31" data-source-line="30" data-uid="ent0032" id="entity_GMN31"><path d="M1066.41,147.3 L1066.41,202.6984 A0,0 0 0 0 1066.41,202.6984 L1261.3739,202.6984 A0,0 0 0 0 1261.3739,202.6984 L1261.3739,157.3 L1251.3739,147.3 L1175.87,147.3 L1189.26,87.71 L1167.87,147.3 L1066.41,147.3 A0,0 0 0 0 1066.41,147.3" fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;" /><path d="M1251.3739,147.3 L1251.3739,157.3 L1261.3739,157.3 L1251.3739,147.3" fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.2578" x="1072.41" y="164.3669">Exact query control</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113.8135" x="1072.41" y="179.4997">Custom functions</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173.9639" x="1072.41" y="194.6325">Database-specific features</text></g><g class="entity" data-entity="GMN34" data-source-line="31" data-uid="ent0035" id="entity_GMN34"><path d="M1296.26,147.3 L1296.26,202.6984 A0,0 0 0 0 1296.26,202.6984 L1449.5134,202.6984 A0,0 0 0 0 1449.5134,202.6984 L1449.5134,157.3 L1439.5134,147.3 L1368.91,147.3 L1347.52,87.71 L1360.91,147.3 L1296.26,147.3 A0,0 0 0 0 1296.26,147.3" fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;" /><path d="M1439.5134,147.3 L1439.5134,157.3 L1449.5134,157.3 L1439.5134,147.3" fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2534" x="1302.26" y="164.3669">Manual optimization</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104.5015" x="1302.26" y="179.4997">Custom indexes</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100.0518" x="1302.26" y="194.6325">Query planning</text></g><g class="entity" data-entity="GMN37" data-source-line="32" data-uid="ent0038" id="entity_GMN37"><path d="M1484.18,147.3 L1484.18,202.6984 A0,0 0 0 0 1484.18,202.6984 L1657.6063,202.6984 A0,0 0 0 0 1657.6063,202.6984 L1657.6063,157.3 L1647.6063,147.3 L1555.69,147.3 L1509.84,87.71 L1547.69,147.3 L1484.18,147.3 A0,0 0 0 0 1484.18,147.3" fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;" /><path d="M1647.6063,147.3 L1647.6063,157.3 L1657.6063,157.3 L1647.6063,147.3" fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.5986" x="1490.18" y="164.3669">Complex queries</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.3325" x="1490.18" y="179.4997">Stored procedures</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152.4263" x="1490.18" y="194.6325">Advanced SQL features</text></g><g class="entity" data-entity="GMN40" data-source-line="34" data-uid="ent0041" id="entity_GMN40"><path d="M1692.21,154.87 L1692.21,195.1356 A0,0 0 0 0 1692.21,195.1356 L1869.5718,195.1356 A0,0 0 0 0 1869.5718,195.1356 L1869.5718,164.87 L1859.5718,154.87 L1795.7,154.87 L1828.46,87.71 L1787.7,154.87 L1692.21,154.87 A0,0 0 0 0 1692.21,154.87" fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;" /><path d="M1859.5718,154.87 L1859.5718,164.87 L1869.5718,164.87 L1859.5718,154.87" fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142.105" x="1698.21" y="171.9369">Small/Medium &#8594; ORM</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.3618" x="1698.21" y="187.0697">Large/Complex &#8594; Mixed</text></g><g class="entity" data-entity="GMN43" data-source-line="35" data-uid="ent0044" id="entity_GMN43"><path d="M1904.96,154.87 L1904.96,195.1356 A0,0 0 0 0 1904.96,195.1356 L2088.8282,195.1356 A0,0 0 0 0 2088.8282,195.1356 L2088.8282,164.87 L2078.8282,154.87 L2000.89,154.87 L1996.89,87.71 L1992.89,154.87 L1904.96,154.87 A0,0 0 0 0 1904.96,154.87" fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;" /><path d="M2078.8282,154.87 L2078.8282,164.87 L2088.8282,164.87 L2078.8282,154.87" fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162.8682" x="1910.96" y="171.9369">Junior developers &#8594; ORM</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.6636" x="1910.96" y="187.0697">SQL experts &#8594; Raw SQL</text></g><g class="entity" data-entity="GMN46" data-source-line="36" data-uid="ent0047" id="entity_GMN46"><path d="M2124.32,154.87 L2124.32,195.1356 A0,0 0 0 0 2124.32,195.1356 L2339.4631,195.1356 A0,0 0 0 0 2339.4631,195.1356 L2339.4631,164.87 L2329.4631,154.87 L2226.7,154.87 L2191.46,87.71 L2218.7,154.87 L2124.32,154.87 A0,0 0 0 0 2124.32,154.87" fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;" /><path d="M2329.4631,154.87 L2329.4631,164.87 L2339.4631,164.87 L2329.4631,154.87" fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150.7759" x="2130.32" y="171.9369">Standard CRUD &#8594; ORM</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194.1431" x="2130.32" y="187.0697">High performance &#8594; Raw SQL</text></g></g></svg></p></div></div>
<div class="highlight python-template" data-fence-type="template" data-language="python">
<pre><code class="language-python"><span class="c1"># Trade-offs demonstration with practical examples</span>
<span class="k">class</span><span class="w"> </span><span class="nc">ORMTradeoffDemo</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Demonstrate ORM vs Raw SQL trade-offs&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">productivity_comparison</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Show development speed differences&quot;&quot;&quot;</span>

        <span class="c1"># ORM: Simple and readable</span>
        <span class="n">orm_example</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">        # ORM - Create user with posts</span>
<span class="s1">        user = User(username=&#39;john&#39;, email=&#39;john@example.com&#39;)</span>
<span class="s1">        db.session.add(user)</span>

<span class="s1">        post1 = Post(title=&#39;First Post&#39;, content=&#39;Content...&#39;, author=user)</span>
<span class="s1">        post2 = Post(title=&#39;Second Post&#39;, content=&#39;More content...&#39;, author=user)</span>

<span class="s1">        db.session.add_all([post1, post2])</span>
<span class="s1">        db.session.commit()</span>

<span class="s1">        # Query with relationships</span>
<span class="s1">        posts_with_authors = Post.query.join(User).all()</span>
<span class="s1">        &#39;&#39;&#39;</span>

        <span class="c1"># Raw SQL: More verbose but explicit</span>
        <span class="n">raw_sql_example</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">        # Raw SQL - Same operations</span>
<span class="s1">        cursor.execute(&quot;INSERT INTO users (username, email) VALUES (?, ?)&quot;, </span>
<span class="s1">                      (&#39;john&#39;, &#39;john@example.com&#39;))</span>
<span class="s1">        user_id = cursor.lastrowid</span>

<span class="s1">        cursor.execute(&quot;INSERT INTO posts (title, content, author_id) VALUES (?, ?, ?)&quot;,</span>
<span class="s1">                      (&#39;First Post&#39;, &#39;Content...&#39;, user_id))</span>
<span class="s1">        cursor.execute(&quot;INSERT INTO posts (title, content, author_id) VALUES (?, ?, ?)&quot;,</span>
<span class="s1">                      (&#39;Second Post&#39;, &#39;More content...&#39;, user_id))</span>
<span class="s1">        conn.commit()</span>

<span class="s1">        # Query with join</span>
<span class="s1">        cursor.execute(&quot;&quot;&quot;</span>
<span class="s1">            SELECT p.*, u.username, u.email </span>
<span class="s1">            FROM posts p </span>
<span class="s1">            JOIN users u ON p.author_id = u.id</span>
<span class="s1">        &quot;&quot;&quot;)</span>
<span class="s1">        &#39;&#39;&#39;</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s1">&#39;orm_approach&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;code&#39;</span><span class="p">:</span> <span class="n">orm_example</span><span class="o">.</span><span class="n">strip</span><span class="p">(),</span>
                <span class="s1">&#39;lines_of_code&#39;</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">orm_example</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)),</span>
                <span class="s1">&#39;readability&#39;</span><span class="p">:</span> <span class="s1">&#39;High - object-oriented, intuitive&#39;</span><span class="p">,</span>
                <span class="s1">&#39;maintenance&#39;</span><span class="p">:</span> <span class="s1">&#39;Easy - relationship changes handled automatically&#39;</span>
            <span class="p">},</span>
            <span class="s1">&#39;raw_sql_approach&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;code&#39;</span><span class="p">:</span> <span class="n">raw_sql_example</span><span class="o">.</span><span class="n">strip</span><span class="p">(),</span>
                <span class="s1">&#39;lines_of_code&#39;</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">raw_sql_example</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)),</span>
                <span class="s1">&#39;readability&#39;</span><span class="p">:</span> <span class="s1">&#39;Moderate - requires SQL knowledge&#39;</span><span class="p">,</span>
                <span class="s1">&#39;maintenance&#39;</span><span class="p">:</span> <span class="s1">&#39;Manual - schema changes need code updates&#39;</span>
            <span class="p">}</span>
        <span class="p">}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">performance_scenarios</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Analyze performance characteristics&quot;&quot;&quot;</span>

        <span class="n">scenarios</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;simple_crud&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Basic create, read, update, delete operations&#39;</span><span class="p">,</span>
                <span class="s1">&#39;orm_performance&#39;</span><span class="p">:</span> <span class="s1">&#39;Good - minimal overhead&#39;</span><span class="p">,</span>
                <span class="s1">&#39;sql_performance&#39;</span><span class="p">:</span> <span class="s1">&#39;Slightly better - direct queries&#39;</span><span class="p">,</span>
                <span class="s1">&#39;recommendation&#39;</span><span class="p">:</span> <span class="s1">&#39;Use ORM - productivity benefits outweigh small performance cost&#39;</span>
            <span class="p">},</span>
            <span class="s1">&#39;complex_reporting&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Multi-table joins with aggregations&#39;</span><span class="p">,</span>
                <span class="s1">&#39;orm_performance&#39;</span><span class="p">:</span> <span class="s1">&#39;Poor - may generate inefficient queries&#39;</span><span class="p">,</span>
                <span class="s1">&#39;sql_performance&#39;</span><span class="p">:</span> <span class="s1">&#39;Excellent - hand-optimized queries&#39;</span><span class="p">,</span>
                <span class="s1">&#39;recommendation&#39;</span><span class="p">:</span> <span class="s1">&#39;Use raw SQL - performance critical&#39;</span>
            <span class="p">},</span>
            <span class="s1">&#39;bulk_operations&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Processing thousands of records&#39;</span><span class="p">,</span>
                <span class="s1">&#39;orm_performance&#39;</span><span class="p">:</span> <span class="s1">&#39;Poor - object overhead per record&#39;</span><span class="p">,</span>
                <span class="s1">&#39;sql_performance&#39;</span><span class="p">:</span> <span class="s1">&#39;Excellent - bulk operations optimized&#39;</span><span class="p">,</span>
                <span class="s1">&#39;recommendation&#39;</span><span class="p">:</span> <span class="s1">&#39;Use raw SQL or ORM bulk methods&#39;</span>
            <span class="p">},</span>
            <span class="s1">&#39;rapid_prototyping&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Building MVP or proof of concept&#39;</span><span class="p">,</span>
                <span class="s1">&#39;orm_performance&#39;</span><span class="p">:</span> <span class="s1">&#39;Acceptable - fast development&#39;</span><span class="p">,</span>
                <span class="s1">&#39;sql_performance&#39;</span><span class="p">:</span> <span class="s1">&#39;Good but slower development&#39;</span><span class="p">,</span>
                <span class="s1">&#39;recommendation&#39;</span><span class="p">:</span> <span class="s1">&#39;Use ORM - speed to market important&#39;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">scenarios</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">decision_framework</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Provide framework for choosing approach&quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s1">&#39;use_orm_when&#39;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s1">&#39;Building CRUD applications&#39;</span><span class="p">,</span>
                <span class="s1">&#39;Team has limited SQL experience&#39;</span><span class="p">,</span>
                <span class="s1">&#39;Database portability is important&#39;</span><span class="p">,</span>
                <span class="s1">&#39;Rapid development is priority&#39;</span><span class="p">,</span>
                <span class="s1">&#39;Working with object-oriented patterns&#39;</span><span class="p">,</span>
                <span class="s1">&#39;Automatic migration management needed&#39;</span>
            <span class="p">],</span>
            <span class="s1">&#39;use_raw_sql_when&#39;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s1">&#39;Performance is critical&#39;</span><span class="p">,</span>
                <span class="s1">&#39;Complex reporting requirements&#39;</span><span class="p">,</span>
                <span class="s1">&#39;Using database-specific features&#39;</span><span class="p">,</span>
                <span class="s1">&#39;Team has strong SQL skills&#39;</span><span class="p">,</span>
                <span class="s1">&#39;Fine-grained query control needed&#39;</span><span class="p">,</span>
                <span class="s1">&#39;Working with legacy database schemas&#39;</span>
            <span class="p">],</span>
            <span class="s1">&#39;hybrid_approach&#39;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s1">&#39;Use ORM for standard CRUD operations&#39;</span><span class="p">,</span>
                <span class="s1">&#39;Use raw SQL for complex queries and reports&#39;</span><span class="p">,</span>
                <span class="s1">&#39;Use ORM for development speed, optimize with SQL later&#39;</span><span class="p">,</span>
                <span class="s1">&#39;Consider ORM query compilation to understand generated SQL&#39;</span>
            <span class="p">]</span>
        <span class="p">}</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/api/orm-tradeoffs&#39;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">orm_tradeoffs</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;API endpoint for ORM trade-off analysis&quot;&quot;&quot;</span>
    <span class="n">demo</span> <span class="o">=</span> <span class="n">ORMTradeoffDemo</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">jsonify</span><span class="p">({</span>
        <span class="s1">&#39;productivity_comparison&#39;</span><span class="p">:</span> <span class="n">demo</span><span class="o">.</span><span class="n">productivity_comparison</span><span class="p">(),</span>
        <span class="s1">&#39;performance_scenarios&#39;</span><span class="p">:</span> <span class="n">demo</span><span class="o">.</span><span class="n">performance_scenarios</span><span class="p">(),</span>
        <span class="s1">&#39;decision_framework&#39;</span><span class="p">:</span> <span class="n">demo</span><span class="o">.</span><span class="n">decision_framework</span><span class="p">()</span>
    <span class="p">})</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre>
</div>
<h2 id="additional-exercises">Additional exercises<a class="headerlink" href="#additional-exercises" title="Permanent link">&para;</a></h2>
<details class="question">
<summary>Exercise 2: ORM Implementation</summary>
<p><strong>Scenario</strong>: Convert a raw SQL user management system to use SQLAlchemy ORM.</p>
<p><strong>Tasks</strong>:</p>
<ol>
<li>
<p>Design ORM models for User and UserProfile tables</p>
</li>
<li>
<p>Implement the same query using both raw SQL and ORM</p>
</li>
<li>
<p>Analyze the trade-offs for your specific use case</p>
</li>
</ol>
<details class="success">
<summary>Sample Solution</summary>
<div class="highlight python-template" data-fence-type="template" data-language="python">
<pre><code class="language-python"><span class="c1"># ORM Models</span>
<span class="k">class</span><span class="w"> </span><span class="nc">User</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">username</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="mi">80</span><span class="p">),</span> <span class="n">unique</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">email</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="mi">120</span><span class="p">),</span> <span class="n">unique</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="c1"># One-to-one relationship</span>
    <span class="n">profile</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">relationship</span><span class="p">(</span><span class="s1">&#39;UserProfile&#39;</span><span class="p">,</span> <span class="n">backref</span><span class="o">=</span><span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="n">uselist</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="k">class</span><span class="w"> </span><span class="nc">UserProfile</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">user_id</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Integer</span><span class="p">,</span> <span class="n">db</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s1">&#39;user.id&#39;</span><span class="p">),</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">bio</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Text</span><span class="p">)</span>
    <span class="n">location</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>

<span class="c1"># Query comparison</span>
<span class="c1"># Raw SQL:</span>
<span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT u.username, u.email, p.bio, p.location </span>
<span class="s2">    FROM users u </span>
<span class="s2">    LEFT JOIN user_profiles p ON u.id = p.user_id </span>
<span class="s2">    WHERE u.username LIKE ?</span>
<span class="s2">&quot;&quot;&quot;</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;%john%&#39;</span><span class="p">,))</span>

<span class="c1"># ORM equivalent:</span>
<span class="n">users</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">UserProfile</span><span class="p">,</span> <span class="n">isouter</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
    <span class="n">User</span><span class="o">.</span><span class="n">username</span><span class="o">.</span><span class="n">like</span><span class="p">(</span><span class="s1">&#39;%john%&#39;</span><span class="p">)</span>
<span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</code></pre>
</div>
<p><strong>Trade-off analysis</strong>:</p>
<ul>
<li>
<p><strong>ORM Benefits</strong>: Automatic relationship handling, type safety, easier testing</p>
</li>
<li>
<p><strong>Raw SQL Benefits</strong>: More explicit, potentially better performance for complex queries</p>
</li>
<li>
<p><strong>Recommendation</strong>: Use ORM for this case - relationship benefits outweigh complexity</p>
</li>
</ul>
</details>
</details>
<h2 id="summary">Summary<a class="headerlink" href="#summary" title="Permanent link">&para;</a></h2>
<p>Database fundamentals and ORM comparison provide essential backend development skills:</p>
<ul>
<li>
<p><strong>CRUD operations</strong> form the foundation with proper error handling and security through parameterized queries</p>
</li>
<li>
<p><strong>SQL queries</strong> enable complex data retrieval using SELECT, WHERE, GROUP BY, and JOIN operations</p>
</li>
<li>
<p><strong>Table relationships</strong> model real-world data connections using foreign keys and proper join strategies</p>
</li>
<li>
<p><strong>ORM mapping</strong> provides productivity benefits by converting between objects and database rows automatically</p>
</li>
<li>
<p><strong>Trade-off analysis</strong> helps developers choose between ORM abstraction and raw SQL control based on project needs</p>
</li>
<li>
<p><strong>Hybrid approaches</strong> allow leveraging ORM productivity while maintaining SQL performance where critical</p>
</li>
</ul>
<p>Understanding both approaches enables developers to make informed decisions about data access patterns while building secure, maintainable web applications.</p>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="October 15, 2025 07:03:58 UTC">October 15, 2025</span>
  </span>

    
    
    
    
  </aside>


  



  <form class="md-feedback" name="feedback" hidden>
    <fieldset>
      <legend class="md-feedback__title">
        Was this page helpful?
      </legend>
      <div class="md-feedback__inner">
        <div class="md-feedback__list">
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page was helpful" data-md-value="1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81"/></svg>
            </button>
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page could be improved" data-md-value="0">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14"/></svg>
            </button>
          
        </div>
        <div class="md-feedback__note">
          
            <div data-md-value="1" hidden>
              
              
                
              
              
              
                
                
              
              Thanks for your feedback!
            </div>
          
            <div data-md-value="0" hidden>
              
              
                
              
              
              
                
                
              
              Thanks for your feedback! Help us improve this page by creating an <a href="https://github.com/Eatham532/Software-Engineering-HSC-Textbook/issues/new/choose" target="_blank" rel="noopener">issue</a> on github.
            </div>
          
        </div>
      </div>
    </fieldset>
  </form>


                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        

<!-- Footer -->
<footer class="md-footer">
  
    <!-- Custom footer with left/right layout -->
    <div class="md-footer__inner md-grid">
      <!-- Left side: Copyright and cookie settings -->
      <div class="md-footer__left">
        <div class="md-footer__copyright">
          
            Copyright &copy; 2025 Eatham532 – <a href="#__consent">Change cookie settings</a>

          
        </div>
      </div>

      <!-- Right side: Page name and BETA -->
      <div class="md-footer__right">
        <div class="md-footer__page-info">
          <span class="md-footer__page-title">Content</span>
          
            <span class="md-footer__beta-badge">BETA</span>
          
        </div>
      </div>
    </div>
  
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            



<h4>Cookie consent</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of the textbook. With your consent, you're helping us to make software engineering education better for everyone.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
    
    
      
        
  
  
    
    
  
  <li class="task-list-item">
    <label class="task-list-control">
      <input type="checkbox" name="github" checked>
      <span class="task-list-indicator"></span>
      GitHub
    </label>
  </li>

      
    
    
      
        
  
  
    
    
  
  <li class="task-list-item">
    <label class="task-list-control">
      <input type="checkbox" name="analytics" checked>
      <span class="task-list-indicator"></span>
      Google Analytics
    </label>
  </li>

      
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script>
    
    
      
      <script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.tabs", "navigation.top", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.prune", "search.highlight", "search.suggest", "content.code.annotate", "content.code.copy", "content.code.select", "content.tabs.link", "content.action.edit", "content.action.view", "toc.follow"], "search": "../../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="../../../../assets/diagram-modal.js"></script>
      
        <script src="../../../../assets/quiz.js"></script>
      
        <script src="../../../../assets/ide-utils.js"></script>
      
        <script src="../../../../assets/code-blocks.js"></script>
      
    
  </body>
</html>